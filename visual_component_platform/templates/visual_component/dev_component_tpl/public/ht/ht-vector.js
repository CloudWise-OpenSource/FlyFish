this.ht=this.ht||{},this.ht.vector=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}function i(e){return e&&e.Math==Math&&e}function n(e){try{return!!e()}catch(e){return!0}}function m(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function o(e){return E.call(e).slice(8,-1)}function s(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function u(e){return H(s(e))}function c(e){return"object"==typeof e?null!==e:"function"==typeof e}function r(e,t){if(!c(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!c(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!c(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!c(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}function y(e,t){return j.call(e,t)}function a(e){return F?N.createElement(e):{}}function l(e,t){var i=Z[U(e)];return i==q||i!=K&&("function"==typeof t?n(t):!!t)}function d(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function C(a,o,e){if(d(a),void 0===o)return a;switch(e){case 0:return function(){return a.call(o)};case 1:return function(e){return a.call(o,e)};case 2:return function(e,t){return a.call(o,e,t)};case 3:return function(e,t,i){return a.call(o,e,t,i)}}return function(){return a.apply(o,arguments)}}function v(e){if(!c(e))throw TypeError(String(e)+" is not an object");return e}function x(a){function e(e,t,i){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(e);case 2:return new a(e,t)}return new a(e,t,i)}return a.apply(this,arguments)}return e.prototype=a.prototype,e}function k(e,t){var i,a,o,r,n,l,s,h,u=e.target,c=e.global,d=e.stat,g=e.proto,f=c?M:d?M[u]:(M[u]||{}).prototype,v=c?Q:Q[u]||(Q[u]={}),p=v.prototype;for(o in t)i=!J(c?o:u+(d?".":"#")+o,e.forced)&&f&&y(f,o),n=v[o],i&&(l=e.noTargetGet?(h=ie(f,o))&&h.value:f[o]),r=i&&l?l:t[o],i&&typeof n==typeof r||(s=e.bind&&i?C(r,M):e.wrap&&i?x(r):g&&"function"==typeof r?C(Function.call,r):r,(e.sham||r&&r.sham||n&&n.sham)&&te(s,"sham",!0),v[o]=s,g&&(y(Q,a=u+"Prototype")||te(Q,a,{}),Q[a][o]=r,e.real&&p&&!p[o]&&te(p,o,r)))}function g(e){return isNaN(e=+e)?0:(0<e?oe:ae)(e)}function f(e,t){var i=g(e);return i<0?re(i+t,0):ne(i,t)}function V(e){return 0<e?le(g(e),9007199254740991):0}function I(e){return Object(s(e))}function p(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++de+ge).toString(36)}function b(e){return y(pe,e)||(fe&&y(ye,e)?pe[e]=ye[e]:pe[e]=xe("Symbol."+e)),pe[e]}function D(e,t){var i;return se(e)&&("function"==typeof(i=e.constructor)&&(i===Array||se(i.prototype))||c(i)&&null===(i=i[be]))&&(i=void 0),new(void 0===i?Array:i)(0===t?0:t)}function T(e,t,i){var a=r(t);a in e?ee.f(e,a,m(0,i)):e[a]=i}function S(e){return"function"==typeof e?e:void 0}function L(e,t){return arguments.length<2?S(Q[e])||S(M[e]):Q[e]&&Q[e][t]||M[e]&&M[e][t]}var A,R,M=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")(),P=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),B={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,O={f:_&&!B.call({1:2},1)?function(e){var t=_(this,e);return!!t&&t.enumerable}:B},E={}.toString,W="".split,H=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?W.call(e,""):Object(e)}:Object,j={}.hasOwnProperty,N=M.document,F=c(N)&&c(N.createElement),z=!P&&!n(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),G=Object.getOwnPropertyDescriptor,Y={f:P?G:function(e,t){if(e=u(e),t=r(t,!0),z)try{return G(e,t)}catch(e){}if(y(e,t))return m(!O.f.call(e,t),e[t])}},X=/#|\.prototype\./,U=l.normalize=function(e){return String(e).replace(X,".").toLowerCase()},Z=l.data={},K=l.NATIVE="N",q=l.POLYFILL="P",J=l,Q={},$=Object.defineProperty,ee={f:P?$:function(e,t,i){if(v(e),t=r(t,!0),v(i),z)try{return $(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},te=P?function(e,t,i){return ee.f(e,t,m(1,i))}:function(e,t,i){return e[t]=i,e},ie=Y.f,ae=Math.ceil,oe=Math.floor,re=Math.max,ne=Math.min,le=Math.min,se=Array.isArray||function(e){return"Array"==o(e)},he="__core-js_shared__",ue=M[he]||function(t,i){try{te(M,t,i)}catch(e){M[t]=i}return i}(he,{}),ce=t(function(e){(e.exports=function(e,t){return ue[e]||(ue[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),de=0,ge=Math.random(),fe=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())}),ve=fe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pe=ce("wks"),ye=M.Symbol,xe=ve?ye:ye&&ye.withoutSetter||p,be=b("species"),me=L("navigator","userAgent")||"",we=M.process,Ce=we&&we.versions,ke=Ce&&Ce.v8;ke?R=(A=ke.split("."))[0]+A[1]:me&&(!(A=me.match(/Edge\/(\d+)/))||74<=A[1])&&(A=me.match(/Chrome\/(\d+)/))&&(R=A[1]);function Ve(t){return 51<=Te||!n(function(){var e=[];return(e.constructor={})[Se]=function(){return{foo:1}},1!==e[t](Boolean).foo})}function Ie(e){throw e}function De(e,t){if(y(Ae,e))return Ae[e];var i=[][e],a=!!y(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=y(t,0)?t[0]:Ie,r=y(t,1)?t[1]:void 0;return Ae[e]=!!i&&!n(function(){if(a&&!P)return 1;var e={length:-1};a?Le(e,1,{enumerable:!0,get:Ie}):e[1]=1,i.call(e,o,r)})}var Te=R&&+R,Se=b("species"),Le=Object.defineProperty,Ae={},Re=Ve("splice"),Me=De("splice",{ACCESSORS:!0,0:0,1:2}),Pe=Math.max,Be=Math.min;k({target:"Array",proto:!0,forced:!Re||!Me},{splice:function(e,t){var i,a,o,r,n,l,s=I(this),h=V(s.length),u=f(e,h),c=arguments.length;if(0===c?i=a=0:a=1===c?(i=0,h-u):(i=c-2,Be(Pe(g(t),0),h-u)),9007199254740991<h+i-a)throw TypeError("Maximum allowed length exceeded");for(o=D(s,a),r=0;r<a;r++)(n=u+r)in s&&T(o,r,s[n]);if(i<(o.length=a)){for(r=u;r<h-a;r++)l=r+i,(n=r+a)in s?s[l]=s[n]:delete s[l];for(r=h;h-a+i<r;r--)delete s[r-1]}else if(a<i)for(r=h-a;u<r;r--)l=r+i-1,(n=r+a-1)in s?s[l]=s[n]:delete s[l];for(r=0;r<i;r++)s[r+u]=arguments[r+2];return s.length=h-a+i,o}});function _e(e){return Q[e+"Prototype"]}var Oe=_e("Array").splice,Ee=Array.prototype,We=function(e){var t=e.splice;return e===Ee||e instanceof Array&&t===Ee.splice?Oe:t};k({target:"Array",proto:!0},{fill:function(e,t,i){for(var a=I(this),o=V(a.length),r=arguments.length,n=f(1<r?t:void 0,o),l=2<r?i:void 0,s=void 0===l?o:f(l,o);n<s;)a[n++]=e;return a}});var He=_e("Array").fill,je=Array.prototype,Ne=function(e){var t=e.fill;return e===je||e instanceof Array&&t===je.fill?He:t},Fe=b("isConcatSpreadable"),ze=9007199254740991,Ge="Maximum allowed index exceeded",Ye=51<=Te||!n(function(){var e=[];return e[Fe]=!1,e.concat()[0]!==e}),Xe=Ve("concat");k({target:"Array",proto:!0,forced:!Ye||!Xe},{concat:function(e){for(var t,i,a,o=I(this),r=D(o,0),n=0,l=-1,s=arguments.length;l<s;l++)if(function(e){if(!c(e))return!1;var t=e[Fe];return void 0!==t?!!t:se(e)}(a=-1===l?o:arguments[l])){if(i=V(a.length),ze<n+i)throw TypeError(Ge);for(t=0;t<i;t++,n++)t in a&&T(r,n,a[t])}else{if(ze<=n)throw TypeError(Ge);T(r,n++,a)}return r.length=n,r}});var Ue=_e("Array").concat,Ze=Array.prototype,Ke=function(e){var t=e.concat;return e===Ze||e instanceof Array&&t===Ze.concat?Ue:t};function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $e(e,t,i){return t&&Qe(e.prototype,t),i&&Qe(e,i),e}function et(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,i,a,o=tt(r);return t=n?(e=tt(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),i=this,!(a=t)||"object"!=typeof a&&"function"!=typeof a?at(i):a}}function rt(e,t,i){return(rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],a=!0,o=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(a=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return i}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return ut(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function ct(i){return function(e){var t=String(s(e));return 1&i&&(t=t.replace(ft,"")),2&i&&(t=t.replace(vt,"")),t}}var dt="\t\n\v\f\r                　\u2028\u2029\ufeff",gt="["+dt+"]",ft=RegExp("^"+gt+gt+"*"),vt=RegExp(gt+gt+"*$"),pt={start:ct(1),end:ct(2),trim:ct(3)},yt=pt.trim,xt=M.parseFloat,bt=1/xt(dt+"-0")!=-1/0?function(e){var t=yt(String(e)),i=xt(t);return 0===i&&"-"==t.charAt(0)?-0:i}:xt;k({global:!0,forced:parseFloat!=bt},{parseFloat:bt});function mt(g){var f=1==g,v=2==g,p=3==g,y=4==g,x=6==g,b=5==g||x;return function(e,t,i,a){for(var o,r,n=I(e),l=H(n),s=C(t,i,3),h=V(l.length),u=0,c=a||D,d=f?c(e,h):v?c(e,0):void 0;u<h;u++)if((b||u in l)&&(r=s(o=l[u],u,n),g))if(f)d[u]=r;else if(r)switch(g){case 3:return!0;case 5:return o;case 6:return u;case 2:Ct.call(d,o)}else if(y)return!1;return x?-1:p||y?y:d}}var wt=Q.parseFloat,Ct=[].push,kt={forEach:mt(0),map:mt(1),filter:mt(2),some:mt(3),every:mt(4),find:mt(5),findIndex:mt(6)},Vt=kt.filter,It=Ve("filter"),Dt=De("filter");k({target:"Array",proto:!0,forced:!It||!Dt},{filter:function(e,t){return Vt(this,e,1<arguments.length?t:void 0)}});function Tt(l){return function(e,t,i){var a,o=u(e),r=V(o.length),n=f(i,r);if(l&&t!=t){for(;n<r;)if((a=o[n++])!=a)return!0}else for(;n<r;n++)if((l||n in o)&&o[n]===t)return l||n||0;return!l&&-1}}function St(e,t){var i=[][e];return!!i&&n(function(){i.call(null,t||function(){throw 1},1)})}var Lt=_e("Array").filter,At=Array.prototype,Rt=function(e){var t=e.filter;return e===At||e instanceof Array&&t===At.filter?Lt:t},Mt={includes:Tt(!0),indexOf:Tt(!1)},Pt=Mt.indexOf,Bt=[].indexOf,_t=!!Bt&&1/[1].indexOf(1,-0)<0,Ot=St("indexOf"),Et=De("indexOf",{ACCESSORS:!0,1:0});k({target:"Array",proto:!0,forced:_t||!Ot||!Et},{indexOf:function(e,t){return _t?Bt.apply(this,arguments)||0:Pt(this,e,1<arguments.length?t:void 0)}});var Wt=_e("Array").indexOf,Ht=Array.prototype,jt=function(e){var t=e.indexOf;return e===Ht||e instanceof Array&&t===Ht.indexOf?Wt:t},Nt=Ve("slice"),Ft=De("slice",{ACCESSORS:!0,0:0,1:2}),zt=b("species"),Gt=[].slice,Yt=Math.max;k({target:"Array",proto:!0,forced:!Nt||!Ft},{slice:function(e,t){var i,a,o,r=u(this),n=V(r.length),l=f(e,n),s=f(void 0===t?n:t,n);if(se(r)&&(("function"==typeof(i=r.constructor)&&(i===Array||se(i.prototype))||c(i)&&null===(i=i[zt]))&&(i=void 0),i===Array||void 0===i))return Gt.call(r,l,s);for(a=new(void 0===i?Array:i)(Yt(s-l,0)),o=0;l<s;l++,o++)l in r&&T(a,o,r[l]);return a.length=o,a}});function Xt(o){return function(e,t){var i=2<arguments.length,a=i?qt.call(arguments,2):void 0;return o(i?function(){("function"==typeof e?e:Function(e)).apply(this,a)}:e,t)}}var Ut=_e("Array").slice,Zt=Array.prototype,Kt=function(e){var t=e.slice;return e===Zt||e instanceof Array&&t===Zt.slice?Ut:t},qt=[].slice,Jt=/MSIE .\./.test(me);k({global:!0,bind:!0,forced:Jt},{setTimeout:Xt(M.setTimeout),setInterval:Xt(M.setInterval)});var Qt=Q.setTimeout,$t=pt.trim,ei=M.parseInt,ti=/^[+-]?0[Xx]/,ii=8!==ei(dt+"08")||22!==ei(dt+"0x16")?function(e,t){var i=$t(String(e));return ei(i,t>>>0||(ti.test(i)?16:10))}:ei;k({global:!0,forced:parseInt!=ii},{parseInt:ii});var ai=Q.parseInt,oi={},ri=Function.toString;"function"!=typeof ue.inspectSource&&(ue.inspectSource=function(e){return ri.call(e)});function ni(e){return xi[e]||(xi[e]=p(e))}var li,si,hi,ui,ci,di,gi,fi,vi=ue.inspectSource,pi=M.WeakMap,yi="function"==typeof pi&&/native code/.test(vi(pi)),xi=ce("keys"),bi={},mi=M.WeakMap;gi=yi?(li=new mi,si=li.get,hi=li.has,ui=li.set,ci=function(e,t){return ui.call(li,e,t),t},di=function(e){return si.call(li,e)||{}},function(e){return hi.call(li,e)}):(fi=ni("state"),bi[fi]=!0,ci=function(e,t){return te(e,fi,t),t},di=function(e){return y(e,fi)?e[fi]:{}},function(e){return y(e,fi)});var wi,Ci,ki,Vi={set:ci,get:di,has:gi,enforce:function(e){return gi(e)?di(e):ci(e,{})},getterFor:function(i){return function(e){var t;if(!c(e)||(t=di(e)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return t}}},Ii=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Di=ni("IE_PROTO"),Ti=Object.prototype,Si=Ii?Object.getPrototypeOf:function(e){return e=I(e),y(e,Di)?e[Di]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Ti:null},Li=(b("iterator"),!1);[].keys&&("next"in(ki=[].keys())?(Ci=Si(Si(ki)))!==Object.prototype&&(wi=Ci):Li=!0),null==wi&&(wi={});function Ai(){}function Ri(e){return"<script>"+e+"</"+ji+">"}var Mi,Pi={IteratorPrototype:wi,BUGGY_SAFARI_ITERATORS:Li},Bi=Mt.indexOf,_i=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Oi=Object.keys||function(e){return function(e,t){var i,a=u(e),o=0,r=[];for(i in a)!y(bi,i)&&y(a,i)&&r.push(i);for(;t.length>o;)y(a,i=t[o++])&&(~Bi(r,i)||r.push(i));return r}(e,_i)},Ei=P?Object.defineProperties:function(e,t){v(e);for(var i,a=Oi(t),o=a.length,r=0;r<o;)ee.f(e,i=a[r++],t[i]);return e},Wi=L("document","documentElement"),Hi="prototype",ji="script",Ni=ni("IE_PROTO"),Fi=function(){try{Mi=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Fi=Mi?function(e){e.write(Ri("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Mi):((t=a("iframe")).style.display="none",Wi.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ri("document.F=Object")),e.close(),e.F);for(var i=_i.length;i--;)delete Fi[Hi][_i[i]];return Fi()};bi[Ni]=!0;var zi=Object.create||function(e,t){var i;return null!==e?(Ai[Hi]=v(e),i=new Ai,Ai[Hi]=null,i[Ni]=e):i=Fi(),void 0===t?i:Ei(i,t)},Gi={};Gi[b("toStringTag")]="z";function Yi(e,t,i,a){var o;e&&(o=i?e:e.prototype,y(o,ia)||ta(o,ia,{configurable:!0,value:t}),a&&!qi&&te(o,"toString",ea))}function Xi(){return this}function Ui(e,t,i,a){a&&a.enumerable?e[t]=i:te(e,t,i)}function Zi(){return this}function Ki(e,t,i,a,o,r,n){var l,s,h;function u(e){if(e===o&&x)return x;if(!ra&&e in p)return p[e];switch(e){case"keys":case la:case sa:return function(){return new i(this,e)}}return function(){return new i(this)}}s=a,h=t+" Iterator",(l=i).prototype=zi(aa,{next:m(1,s)}),Yi(l,h,!1,!0),oi[h]=Xi;var c,d,g,f=t+" Iterator",v=!1,p=e.prototype,y=p[na]||p["@@iterator"]||o&&p[o],x=!ra&&y||u(o),b="Array"==t&&p.entries||y;if(b&&(c=Si(b.call(new e)),oa!==Object.prototype&&c.next&&(Yi(c,f,!0,!0),oi[f]=Zi)),o==la&&y&&y.name!==la&&(v=!0,x=function(){return y.call(this)}),n&&p[na]!==x&&te(p,na,x),oi[t]=x,o)if(d={values:u(la),keys:r?x:u("keys"),entries:u(sa)},n)for(g in d)!ra&&!v&&g in p||Ui(p,g,d[g]);else k({target:t,proto:!0,forced:ra||v},d);return d}var qi="[object z]"===String(Gi),Ji=b("toStringTag"),Qi="Arguments"==o(function(){return arguments}()),$i=qi?o:function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ji))?i:Qi?o(t):"Object"==(a=o(t))&&"function"==typeof t.callee?"Arguments":a},ea=qi?{}.toString:function(){return"[object "+$i(this)+"]"},ta=ee.f,ia=b("toStringTag"),aa=Pi.IteratorPrototype,oa=(Object.setPrototypeOf||"__proto__"in{}&&function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}}(),Pi.IteratorPrototype),ra=Pi.BUGGY_SAFARI_ITERATORS,na=b("iterator"),la="values",sa="entries",ha="Array Iterator",ua=Vi.set,ca=Vi.getterFor(ha);Ki(Array,"Array",function(e,t){ua(this,{type:ha,target:u(e),index:0,kind:t})},function(){var e=ca(this),t=e.target,i=e.kind,a=e.index++;return!t||a>=t.length?{value:e.target=void 0,done:!0}:"keys"==i?{value:a,done:!1}:"values"==i?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}},"values");oi.Arguments=oi.Array;var da,ga=b("toStringTag");for(da in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var fa=M[da],va=fa&&fa.prototype;va&&$i(va)!==ga&&te(va,ga,da),oi[da]=oi.Array}var pa=kt.forEach,ya=St("forEach"),xa=De("forEach"),ba=ya&&xa?[].forEach:function(e,t){return pa(this,e,1<arguments.length?t:void 0)};k({target:"Array",proto:!0,forced:[].forEach!=ba},{forEach:ba});var ma=_e("Array").forEach,wa=Array.prototype,Ca={DOMTokenList:!0,NodeList:!0},ka=function(e){var t=e.forEach;return e===wa||e instanceof Array&&t===wa.forEach||Ca.hasOwnProperty($i(e))?ma:t},Va={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"},Ia={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},Da=ht.Default.setImage;Da("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),Da("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),Da("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,5,0,10]}]}),Da("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,0,5,10]}]}),Da("ht.vector.treeDefIcon",{width:22,height:16,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),Da("ht.vector.treeLoadIcon",{width:32,height:32,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),Da("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),Da("ht.vector.treeUnCheckIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),Da("ht.vector.treeUnCheckAllIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),Da("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),Da("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),Da("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),Da("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),Da("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (中国标准时间)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});function Ta(e,t){if(!e)return go([],t);var i,a=((i=e)?("string"!=typeof i&&(i+=""),i.replace(/^\s+|\s+$/g,"")):"").split(/\s+/g),o=[];return ka(a).call(a,function(e){isNaN(e)||o.push(ai(e))}),go(o)}function Sa(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t}function La(e,t,i){var a=t.style,o=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,o),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),fo(a,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),fo(a,"transformOrigin",(-o.x).toFixed(5)+"px "+(-o.y).toFixed(5)+"px")}function Aa(e,t,i){for(var a=[],o=0,r=1,n=e.length;r<=n;r++){var l=e.substring(o,r);co(i,l).width>t&&(o=r-1===o?(a.push(e.substring(o,r)),r):(a.push(e.substring(o,r-1)),r-1))}return o!==r-1&&a.push(e.substring(o,r)),a}function Ra(e,t,i,a){for(var o=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var s=r[n];if(""===s&&(s=" "),a)Array.prototype.push.apply(o,Aa(s,i,t));else{for(var h,u,c,d,g="",f=void 0,v="",p=0;p<s.length;p++){s.charAt(p).match(/[a-z|A-Z]/g)?g+="1":g+="2"}g=(g=g.replace(/21/g,"2".concat(vo,"1"))).replace(/12/g,"1".concat(vo,"2"));for(var y=0;y<g.length;y++){g.charAt(y).match(yo)&&(s=xo(s,y+1,po))}h=s.split(po),u=g.split(vo);for(var x=0,b=h.length;x<b;x++)c=v+h[x],d=co(t,c),"1"===u[x][0]?d.width>i?v?(o.push(v),v="",x--):(f=Aa(h[x],i,t),Array.prototype.push.apply(o,Kt(f).call(f,0,f.length-1)),v=f[f.length-1]):v=d.width===i?(o.push(c),""):c:v=d.width>i?(f=Aa(c,i,t),Array.prototype.push.apply(o,Kt(f).call(f,0,f.length-1)),f[f.length-1]):c;v&&o.push(v)}}return o}function Ma(e,t,i,a,o,r){return e?(t=t&&new Oa(t),e.pressed?a||(o&&t&&0!==t.a?ht.Default.darker(t,Ia.activeDarker):r?null:Ia.emptyColor):e.hover?i||(o&&t&&0!==t.a?ht.Default.darker(t,Ia.hoverDarker):r?null:Ia.emptyColor):r?null:t?t.getRGBA():Ia.emptyColor):t}var Pa,Ba,_a,Oa=function(){function o(e,t,i,a){Je(this,o),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,a)}return $e(o,[{key:"setColor",value:function(e,t,i,a){var o;e&&!t?(o=ht.Default.toColorData(e),this.r=o[0],this.g=o[1],this.b=o[2],this.a=o[3]/255):(this.r=e,this.g=t,this.b=i,this.a=a)}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e,t,i=this.r,a=this.g,o=this.b;return null===i||null===a||null===o?null:Ke(e=Ke(t="rgb(".concat(i,", ")).call(t,a,", ")).call(e,o,")")}},{key:"getRGBA",value:function(){var e,t,i,a=this.r,o=this.g,r=this.b,n=this.a;return null===a||null===o||null===r?null:Ke(e=Ke(t=Ke(i="rgba(".concat(a,", ")).call(i,o,", ")).call(t,r,", ")).call(e,null===n?1:n.toFixed(2),")")}},{key:"getWebColor",value:function(){var e,t,i=this.r,a=this.g,o=this.b;return null===i||null===a||null===o?null:Ke(e=Ke(t="#".concat(this._getWebValue(i))).call(t,this._getWebValue(a))).call(e,this._getWebValue(o))}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),o}(),Ea="top",Wa="bottom",Ha="right",ja="left",Na="center",Fa="middle",za="multiple",Ga="single",Ya="radio",Xa="checkbox",Ua="x",Za="y",Ka="category",qa="time",Ja="bar",Qa="line",$a="diffLine",eo="Previous",to="Next",io="Previous Jump",ao="Next Jump",oo="First",ro="Last",no=/firefox/.test(window.navigator.userAgent.toLowerCase()),lo=/MSIE/.test(window.navigator.userAgent.toLowerCase()),so=ht.Default,ho=so.removeHTML,uo=so.appendToScreen,co=(Pa={},Ba=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){Ba.font=e||ht.Default.labelFont;var i=Pa[Ba.font];return i||(i=2*Ba.measureText("e").width,Pa[Ba.font]=i),{width:Ba.measureText(t).width+2,height:i}}),go=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},fo=((_a=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var a=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+a]=i,e["moz"+a]=i,e["ms"+a]=i,e["o"+a]=i,e[t]=i}),vo="__htvt__",po="||htvt||",yo=new RegExp(vo,"g"),xo=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)};function bo(e,t){var i,a=e.prototype,o=ht.Default.getMSMap();for(i in t)o[i]&&o.hasOwnProperty(i)?o[i](a,t):a[i]=t[i]}function mo(e){var t=e.a(Va.VALUE);return void 0===t?"":t}var wo,Co=(wo=null,function(l){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=e.multiple,h=e.readType,u=Rt(e),t=e.accept;wo||((wo=document.createElement("input")).setAttribute("type","file"),wo.setAttribute("id","hiddenFile"),wo.style.width=0,wo.style.height=0,wo.addEventListener("change",function(e){ho(wo),wo=null;for(var t,i,a,o=e.target.files,r={files:[]},n=0;n<o.length;n++)(!u||u(o[n]))&&r.files.push(o[n]);h&&0!==r.files.length?s?(i=0,ka(t=r.files).call(t,function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++i===r.files.length&&l(r)},ko(e,t,h)})):((a=new FileReader).onload=function(e){o[0].readResult=e.target.result,l(r)},ko(a,o[0],h)):l(r)}),uo(wo)),wo.multiple=!!s,wo.accept=t||"",wo.click()});function ko(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function Vo(e,t){for(var i=[],a=0,o=0,r=0,n=e.length;r<n;r++){var l,s,h,u=e[r].width||.1;isNaN(u)?(l=u.split("+"),1<(s=wt(l[0]))?o+=s:a+=s,(h=[]).push(s),1<(s=wt(l[1]))?(o+=s,h.unshift(s)):(a+=s,h.push(s)),i.push(h)):(1<=(u=wt(u))?o+=u=Math.max(12,u):a+=u,i.push(u))}for(r=0,n=i.length;r<n;r++)(u=i[r])<1?i[r]=Math.max(0,u/a*(t-o)):u instanceof Array&&(i[r]=u[0]+Math.max(0,u[1]/a*(t-o)));return i}function Io(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null}function Do(e,t,i,a,o){a&&(a.editing=!1,delete a.dom),o&&e.a(o,i.value),e.iv(),ho(i)}function To(e){return null==e}function So(e,t){e.getView().style.cursor=t}function Lo(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]}function Ao(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}function Ro(e,t,i){var a=tr(i,t,e),o=a.rect,r=a.matrix,n=new ht.Math.Matrix2d,l=ur(i),s=i.tx?i.tx():0,h=i.ty?i.ty():0;n.appendTranslate(s,h),n.appendScale(l,l),n.append(r);var u=new ht.Math.Vector2;return o=ht.Default.unionPoint([n.apply(u.set(o.x,o.y)),n.apply(u.set(o.x,o.y+o.height)),n.apply(u.set(o.x+o.width,o.y)),n.apply(u.set(o.x+o.width,o.y+o.height))])}function Mo(e,t){var i,a,o=t.borderWidth,r=t.borderColor,n=t.dash,l=t.dashPattern,s=t.background,h=t.bgGradient,u=t.bgGradientColor,c=t.contentRect;n&&e.setLineDash(l),s&&(h&&u&&(s=(i=ht.Default).createGradient.apply(i,Ke(a=[e,h,s,u]).call(a,lt(c)))),e.fillStyle=s,Ne(e).call(e)),o&&r&&(e.strokeStyle=r,e.lineWidth=o,e.stroke())}function Po(e,t,i,a){var o=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),nr(e,o,r,n,l,a),e.closePath(),Ne(e).call(e)}function Bo(e,t,i,a,o){var r=tr(e,t,i,o);return{x:a.x+r.rect.x,y:a.y+r.rect.y}}function _o(e){return ht.Default.clone(e)}function Oo(e){return ht.Default.isArray(e)}function Eo(e){return ht.Default.isObject(e)}function Wo(e,t,i,a){ht.Default.drawPoints(e,t,i,a)}function Ho(e,t,i,a,o,r,n,l,s,h){ht.Default.drawText(e,t,i,a,o,r,n,l,s,h)}function jo(e,t,i,a,o,r,n,l,s,h){!h&&l&&(h=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,a,o,r,n,l,s,h)}function No(e,t,i,a,o,r,n,l,s){!s&&n&&(s=n.s("body.color")),ht.Default.drawImage(e,img,i,a,w,h,n,l,s)}function Fo(e,t){return ht.Default.intersectsRect(e,t)}function zo(e,t,i){if(i){var a=co(e,t),o=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(a.width,0),n=new ht.Math.Vector2(a.width,a.height),l=new ht.Math.Vector2(0,a.height),s=new ht.Math.Vector2(a.width/2,a.height/2),h=cr(i);return o.rotateAround(s,h),r.rotateAround(s,h),n.rotateAround(s,h),l.rotateAround(s,h),sr([o,r,n,l])}return co(e,t)}function Go(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var a=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<a?a.toString():"0"+a)).replace(/M/g,a)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var o=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<o?o.toString():"0"+o)).replace(/H/g,o)).replace(/A/g,12<=o?"PM":"AM")).replace(/Aa/g,12<=o?"pm":"am"),o=12<o?o%12:o,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<o?o.toString():"0"+o)).replace(/h/g,o)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())}function Yo(e,t){var i=e.x,a=e.y,o=e.width,r=e.height,n=t.x,l=t.y,n=Math.max(n,i-1);return n=Math.min(n,i+o+1),l=Math.max(l,a-1),{x:n,y:Math.min(l,a+r+1)}}function Xo(e,t){var i=1<arguments.length&&void 0!==t?t:.3,a=e.length,o=[],r=[];if(a<=2)return{points:e,segments:a?1===a?[1]:[1,2]:null};for(var n=0;n<a;n++){var l=e[n],s=e[n-1]||l,h=e[n+1]||l,u=Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2)),c=Math.sqrt(Math.pow(h.x-l.x,2)+Math.pow(h.y-l.y,2)),d=u/(u+c),g=c/(u+c),f=i*(d=isNaN(d)?0:d),v=i*(g=isNaN(g)?0:g);n&&o.push({x:l.x-f*(h.x-s.x),y:l.y-f*(h.y-s.y)}),o.push(l),n!==a-1&&o.push({x:l.x+v*(h.x-s.x),y:l.y+v*(h.y-s.y)}),r.push(n?4:1)}return{points:o,segments:r}}function Uo(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})}function Zo(e){return ht.Default.getImage(e)}function Ko(e,t,i){if("object"!==qe(t))return t;var a,o,r,n,l=t.type,s=t.colorStops,h=t.coordinate,u=i.x,c=i.y,d=i.width,g=i.height;return"radial"===l?(h=h||[0,0,.5,0,1,.5],a=Math.min(d,g),o=[u+d*h[0],c+g*h[1],a*h[2],u+d*h[3],c+g*h[4],a*h[5]],r=e.createRadialGradient.apply(e,o),ka(s).call(s,function(e){var t=e.offset,i=e.color;r.addColorStop(t,i)})):(n=[u+d*(h=h||[0,0,0,1])[0],c+g*h[1],u+d*h[2],c+g*h[3]],r=e.createLinearGradient.apply(e,n),ka(s).call(s,function(e){var t=e.offset,i=e.color;r.addColorStop(t,i)})),r}function qo(e){var t=e.x,i=e.y,a=e.width,o=e.height,r=a/2,n=o/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+o},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+a,y:i+n}}}function Jo(e){var t=e.getBoundingClientRect();return To(t.x)&&(t.x=t.left,t.y=t.top),t}function Qo(e){jt(dr).call(dr,e)<0&&dr.push(e)}function $o(e){var t=jt(dr).call(dr,e);0<=t&&We(dr).call(dr,t,1)}var er=function(e){var t=nt(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},tr=function(e,t,i,a){var o,r,n,l,s,h,u=Io(e,t),c=(o=u,r=t,n=e instanceof ht.graph3d.Graph3dView,l=a,o&&o.interactiveInfo?n?("billboard"===r.s("shape3d")?h=r.s("shape3d.image"):l&&(s=o.gv.intersectObject(l,r),h=r.s("shape3d.".concat("body"===s.part?"":s.part+".","image"))),h&&o.interactiveInfo[h]?o.interactiveInfo[h].bodyInfo.compInfos:null):o.interactiveInfo.bodyInfo?o.interactiveInfo.bodyInfo.compInfos:null:null);if(c)for(var d=0,g=c.length;d<g;d++){var f=c[d];if(f.comp===i)return f}return null},ir=function(e,t,i){var a=Io(e,t);if(!a)return{};var o=t.getCurrentPrefix();if(a.vectorInfos)for(var r=a.vectorInfos,n=0;n<r.length;n++){var l=r[n];if(l.comp===i&&l.prefix===o)return l}else a.vectorInfos=[];var s={comp:i,prefix:o};return a.vectorInfos.push(s),s},ar=function(e,t,i){var a=e[t],o=i.getCurrentPrefix();if(a&&a.func&&"string"==typeof a.func){var r=nt(a.func.split("@"),2);r[0];return(o||"")+r[1]}return null},or=function(e,t,i){if(!e||!e.func)return e;var a=e.func,o=e.value,r=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?o:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(Kt(a).call(a,5)):/^style@/.test(a)?t.s(Kt(a).call(a,6)):/^field@/.test(a)?t[Kt(a).call(a,6)]:t[a]?t[a](i):o:o;return void 0!==o&&null==r?o:r},rr=function(e){return!To(e)},nr=function(e,t,i,a,o,r,n,l,s){ht.Default.drawRoundRect.apply(ht.Default,arguments)},lr=ht.Default,sr=lr.unionPoint,hr=lr.containsPoint,ur=function(e){return e.getZoom?e.getZoom():1},cr=function(e){return Math.PI*(e/180)},dr=[],gr={},fr=[].slice,vr={},pr=Function.bind||function(t){var i=d(this),a=fr.call(arguments,1),o=function(){var e=a.concat(fr.call(arguments));return this instanceof o?function(e,t,i){if(!(t in vr)){for(var a=[],o=0;o<t;o++)a[o]="a["+o+"]";vr[t]=Function("C,a","return new C("+a.join(",")+")")}return vr[t](e,i)}(i,e.length,e):i.apply(t,e)};return c(i.prototype)&&(o.prototype=i.prototype),o};k({target:"Function",proto:!0},{bind:pr});function yr(e,t,i,a){var o=i.dropDown;o||(o=new kr(e,t,i,"a@"+a),i.dropDown=o),o.open()}function xr(e,t,i,a){var o=i.dropDown;o||(e.getFormat=function(){return e.a(Va.FORMAT)},o=new Vr(e,t,i,a),i.dropDown=o),o.open()}var br=_e("Function").bind,mr=Function.prototype,wr=function(e){var t=e.bind;return e===mr||e instanceof Function&&t===mr.bind?br:t},Cr=function(){function r(t,e,i,a){var o;Je(this,r),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=a,this._documentClickHandler=wr(o=this.documentClickHandler).call(o,this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}return $e(r,[{key:"init",value:function(){var t=this;this._initing=!0;var i=this.data,e=(this.graph,i.a("ht.dropDownProperty")),a=this.value,o=new this.dropDownClazz;if(e)for(var r in e)o.setPropertyValue(r,e[r]);var n=o._dropDownView=o.initDropDownView(i,this.getDatas(),a);o.getDropDownView=function(){return n},n.on("d:click",function(e){e.stopPropagation()}),n.on("d:mousedown",function(e){e.stopPropagation()}),n.on("d:mousewheel",function(e){e.stopPropagation()}),n.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),o.addDropDownListener(function(e){var t;"cancel"!==e.kind||(t=i.a("ht.onClose"))&&t(i,this.graph)}),this._dropDown=o,this._dropDownView=n,this.onInit(o,n);var l=Ro(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(o,n,{left:l.x,top:l.y,width:l.widht,height:l.height}),uo(n.getView()),o.addValueChangeListener(this.handleDropDownValueChange,this),o.addDropDownListener(this.handleDropDownChange,this),Qt(function(){t.registerCloseEvent(t._documentClickHandler)},100),o.afterOpen(a),n.iv(!0),this._initing=!1}},{key:"onInit",value:function(){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var a=e.getWidth(),o=e.getHeight(),r=ht.Default.getWindowInfo(),n=Jo(this.graph.getView()),l=i.left+r.left+n.x,s=i.top+i.height+r.top+n.y;l+a>r.left+r.width&&(l=r.left+r.width-a),s+o>r.top+r.height&&(s-=i.height+o)<r.top&&(s=r.top),t.setX(Math.max(0,l)),t.setY(s),t.setWidth(a),t.setHeight(o)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t,i,a,o,r,n=this.data,l=this.graph;ht.Default.isLeftButton(e)&&(t=this._dropDown,i=this._dropDownView,a=this.vectorInfo.comp,o=Ro(a,n,l),i&&(r=i.containsEvent?i.containsEvent(e):t.isClickOnDropDownView(e),ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||r||this.close()))}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv()),$o(this)}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){var e;this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv(),(e=this.data.a("ht.onOpen"))&&e(this.data,this.graph)),Qo(this)}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t,i=this,a=i._dropDown,o=i._dropDownView;a&&(a.beforeClose(),"stop"!==e.kind||void 0!==(t=a.getDropDownValue())&&(this.value=t),i._clearDropDown(),ht.Default.removeHTML(o.getView()),a.removeValueChangeListener(i.handleDropDownValueChange,i),this.unregisterCloseEvent(this._documentClickHandler),a.afterClose())}},{key:"value",get:function(){var e=this.data,t=nt(this.valueType.split("@"),2),i=t[0],a=t[1];if("a"===i)return e.a(a);if("s"===i)return e.s(a);if("p"===i){var o=ht.Default.getter(a);if(e[o])return e[o]()}return null},set:function(e){var t,i=this.data,a=this.valueType,o=this.graph,r=nt(a.split("@"),2),n=r[0],l=r[1],s=this.vectorInfo.onChange,h=this.value;"a"===n?i.a(l,e):"s"===n?i.s(l,e):"p"!==n||i[t=ht.Default.setter(l)]&&i[t](e),s&&s(h,e,i,o)}}]),r}(),kr=function(){et(n,Cr);var r=ot(n);function n(e,t,i,a){var o;return Je(this,n),(o=r.call(this,e,t,i,a)).dropDownClazz=ht.ui.ColorDropDown,o}return n}(),Vr=function(){et(n,Cr);var r=ot(n);function n(e,t,i,a){var o;return Je(this,n),(o=r.call(this,e,t,i,a)).dropDownClazz=ht.ui.DateTimeDropDown,o}return $e(n,[{key:"onInit",value:function(e){var t=this.data,i=t.a(Va.DATE_TYPE),a=t.a("ht.selectableFunc"),o=t.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",i,!0),e.setPropertyValue("dateTimePane.selectableFunc",a,!0),o)for(var r in o)e.setPropertyValue(r,o[r],!0)}}]),n}(),Ir=function(){et(n,Cr);var r=ot(n);function n(a,e,t,i){var o;return Je(this,n),o=r.call(this,a,e,t,i),a.getDropDownConfig=function(){var e=a.a("ht.dropDownProperty")||{},t=a.a(Va.DATE_TYPE),i=a.a("ht.selectableFunc");return t&&(e["dateRangePane.type"]=t,e["dateRangePane.selectableFunc"]=i),e},o.dropDownClazz=ht.ui.DateRangeDropDown,o}return $e(n,[{key:"onInit",value:function(e){var t=this.data,i=t.a(Va.DATE_TYPE),a=t.a("ht.selectableFunc"),o=t.a("ht.dropDownProperty");if(e.setPropertyValue("dateRangePane.type",i,!0),e.setPropertyValue("dateRangePane.selectableFunc",a,!0),o)for(var r in o)e.setPropertyValue(r,o[r],!0)}}]),n}(),Dr="0.1.0";!function(e,t){void 0===t&&(t={});var i,a,o=t.insertAt;e&&"undefined"!=typeof document&&(i=document.head||document.getElementsByTagName("head")[0],(a=document.createElement("style")).type="text/css","top"===o&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)))}(".ht-vector-tooltip{\r\n    box-sizing: border-box;\r\n    padding: 5px 12px;\r\n    margin: 0;\r\n    position: absolute;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    color: rgb(247, 247, 247);\r\n    border-radius: 5px;\r\n    /* -webkit-transition: all 0.5s;\r\n    transition: all 0.5s; */\r\n}\r\n",{});var Tr=ht.Default,Sr=Tr.drawText,Lr=Tr.drawStretchImage,Ar=Tr.getImage,Rr=[2,8];var Mr=ht.Default,Pr=Mr.drawText,Br=Mr.drawStretchImage,_r=Mr.getImage;Mr.darker;var Or=ht.Default.drawText;var Er=ht.Default,Wr=Er.drawText,Hr=Er.drawStretchImage,jr=Er.getImage,Nr="#ffffff",Fr="#cccccc",zr=new Oa;var Gr=ht.Default,Yr=Gr.drawText,Xr=Gr.drawStretchImage,Ur=Gr.getImage;function Zr(e,t){return e<=1?t*e:e}function Kr(e,t){return t?(e-tn)/qr*Jr+Qr:$r-(e-tn)/qr*Jr}var qr,Jr,Qr,$r,en,tn;var an=kt.every,on=St("every"),rn=De("every");k({target:"Array",proto:!0,forced:!on||!rn},{every:function(e,t){return an(this,e,1<arguments.length?t:void 0)}});function nn(e,t){return e<1?t*e:e}var ln=_e("Array").every,sn=Array.prototype,hn=function(e){var t=e.every;return e===sn||e instanceof Array&&t===sn.every?ln:t},un=ht.Default.drawText;var cn=Math.max,dn=Math.min,gn=ht.Default.containsPoint,fn=4;function vn(e,t,i,a,o,r){var n,l,s,h,u,c,d,g,f=4<arguments.length&&void 0!==o?o:{},v=5<arguments.length?r:void 0,p=t.x,y=t.y,x=t.width,b=t.height,m=i.width,w=i.height,C=a.x,k=a.y,V=null,I=null,D=f.color,T=void 0===D?"red":D,S=f.barWidth,L=void 0===S?8:S,A=f.gap,R=void 0===A?2:A,M=f.visible;e.save(),b<w&&(s=b*(l=b/w),I=[p+x-L-R,y+-k*l,L,Math.max(s,fn)],u=b-w,M&&(e.beginPath(),nr.apply(void 0,Ke(h=[e]).call(h,lt(I),[Math.min(L,s)/2])),e.fillStyle=T,Ne(e).call(e))),x<m-2&&(c=x*(n=x/m),V=[p+-C*n,y+b-L-R,Math.max(c,fn),L],g=x-m,M&&(e.beginPath(),nr.apply(void 0,Ke(d=[e]).call(d,lt(V),[Math.min(L,c)/2])),e.fillStyle=T,Ne(e).call(e))),v.scrollInfo={scrollBarX:V,scrollBarY:I,scaleX:n,scaleY:l,minX:g,minY:u},e.restore()}function pn(e,t,i,a,o,r,n,l){var s=ar(e,"translateY",t),h=ar(e,"translateX",t),u=tr(i,t,e,l),c=ir(i,t,e),d=c.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,g=c.scrollInfo;if(g){var f,v,p,y,x,b=g.minX,m=g.minY,w=g.scrollBarX,C=g.scrollBarY,k=g.scaleX,V=g.scaleY,I={x:a.x+u.rect.x,y:a.y+u.rect.y};return w&&(v=(d-(w=er(w)).height)/2,w.y-=v,w.height=d),C&&(p=(d-(C=er(C)).width)/2,C.x-=p,C.width=d),w&&h&&gn(w,I)?f={downPoint:a,startX:t.a(h)||0,scaleX:k,minX:b,axis:Ua}:C&&s&&gn(C,I)?f={downPoint:a,startY:t.a(s)||0,scaleY:V,minY:m,axis:Za}:(x={x:0,y:y=c.headHeight,width:o,height:r-y},!n&&c.pannable&&gn(x,a)&&(w||C)&&(f={downPoint:a,scaleX:k,minX:b,scaleY:V,minY:m,isPan:!0},w&&h&&(f.startX=t.a(h)||0,f.scaleX=k,f.minX=b),C&&s&&(f.startY=t.a(s)||0,f.scaleY=V,f.minY=m))),f}}function yn(e,t,i,a,o,r){var n=ir(i,t,this),l=pn(this,t,i,a,o,r,!1,e);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function xn(e,g,t,f,i,a){var v=ir(t,g,this),p=v._scrollDragInfo,y=ar(this,"translateY",g),x=ar(this,"translateX",g);v._dragTimer||(v._dragTimer=Qt(function(){var e,t,i,a,o,r,n,l,s,h,u,c,d;p&&(e=p.axis,t=p.minX,i=p.minY,a=p.downPoint,o=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,s=p.isPan,e===Ua?(h=o+(a.x-f.x)/n,h=dn(0,h),h=cn(t,h),x&&g.a(x,h)):e===Za?(u=r+(a.y-f.y)/l,u=dn(0,u),u=cn(i,u),y&&g.a(y,u)):s&&(void 0!==o&&(c=o+(f.x-a.x),c=dn(0,c),c=cn(t,c),x&&g.a(x,c)),void 0!==r&&(d=r+(f.y-a.y),d=dn(0,d),d=cn(i,d),y&&g.a(y,d)))),delete v._dragTimer},10))}function bn(e,t,i,a,o,r){var n,l,s,h,u=ir(i,t,this);u._scrollDragInfo&&(l=(n=u.scrollInfo).scrollBarX,s=n.scrollBarY,h=u.autoHideScrollBar,(l||s)&&h&&(u.scrollBarVisible=!0,wn(t,u)),delete u._scrollDragInfo)}function mn(e,t,i,a,o,r){var n,l,s,h,u,c,d,g,f,v,p,y=ir(i,t,this),x=y.scrollInfo,b=y.scrollSpeed||1,m=ar(this,"translateY",t),w=ar(this,"translateX",t);x&&(n=x.scrollBarX,l=x.scrollBarY,s=x.minX,h=x.minY,x.scaleX,x.scaleY,u=(e.wheelDeltaX||-e.deltaX||0)/40*5*b,c=(e.wheelDeltaY||-e.deltaY||0)/40*5*b,d=!1,l&&m&&c&&(g=(t.a(m)||0)+c,g=dn(0,g),g=cn(h,g),t.a(m,g),d=!0),n&&w&&u&&(f=(t.a(w)||0)+u,f=dn(0,f),f=cn(s,f),t.a(w,f),d=!0),!d&&n&&!l&&w&&c&&(v=(t.a(w)||0)+c,v=dn(0,v),v=cn(s,v),t.a(w,v)),p=y.autoHideScrollBar,(n||l)&&p&&(y.scrollBarVisible=!0,wn(t,y)))}function wn(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=Qt(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var Cn=ht.Default,kn=Cn.drawText,Vn=Cn.drawStretchImage,In=Cn.getImage,Dn=Cn.drawBorder,Tn=Cn.intersectsRect,Sn=/\n/g;var Ln=ht.Default.drawText;var An=ht.Default.drawImage;var Rn=ht.Default.drawImage;var Mn=ht.Default,Pn=Mn.drawText,Bn=Mn.createGradient;function _n(l){return function(e,t){var i,a,o=String(s(e)),r=g(t),n=o.length;return r<0||n<=r?l?"":void 0:(i=o.charCodeAt(r))<55296||56319<i||r+1===n||(a=o.charCodeAt(r+1))<56320||57343<a?l?o.charAt(r):i:l?o.slice(r,r+2):a-56320+(i-55296<<10)+65536}}var On={codeAt:_n(!1),charAt:_n(!0)}.charAt,En="String Iterator",Wn=Vi.set,Hn=Vi.getterFor(En);Ki(String,"String",function(e){Wn(this,{type:En,string:String(e),index:0})},function(){var e,t=Hn(this),i=t.string,a=t.index;return a>=i.length?{value:void 0,done:!0}:(e=On(i,a),t.index+=e.length,{value:e,done:!1})});var jn=M.Promise,Nn=b("species"),Fn=b("iterator"),zn=Array.prototype,Gn=b("iterator"),Yn=t(function(e){function f(e,t){this.stopped=e,this.result=t}(e.exports=function(e,t,i,a,o){var r,n,l,s,h,u,c,d,g=C(t,i,a?2:1);if(o)r=e;else{if("function"!=typeof(n=function(e){if(null!=e)return e[Gn]||e["@@iterator"]||oi[$i(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(d=n)&&(oi.Array===d||zn[Fn]===d)){for(l=0,s=V(e.length);l<s;l++)if((h=a?g(v(c=e[l])[0],c[1]):g(e[l]))&&h instanceof f)return h;return new f(!1)}r=n.call(e)}for(u=r.next;!(c=u.call(r)).done;)if("object"==typeof(h=function(t,e,i,a){try{return a?e(v(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&v(o.call(t)),e}}(r,g,c.value,a))&&h&&h instanceof f)return h;return new f(!1)}).stop=function(e){return new f(!0,e)}}),Xn=b("iterator"),Un=!1;try{var Zn=0,Kn={next:function(){return{done:!!Zn++}},return:function(){Un=!0}};Kn[Xn]=function(){return this},Array.from(Kn,function(){throw 2})}catch(e){}function qn(e,t){var i,a=v(e).constructor;return void 0===a||null==(i=v(a)[ol])?t:d(i)}function Jn(e){var t;gl.hasOwnProperty(e)&&(t=gl[e],delete gl[e],t())}function Qn(e){return function(){Jn(e)}}function $n(e){Jn(e.data)}function el(e){M.postMessage(e+"",nl.protocol+"//"+nl.host)}var tl,il,al,ol=b("species"),rl=/(iphone|ipod|ipad).*applewebkit/i.test(me),nl=M.location,ll=M.setImmediate,sl=M.clearImmediate,hl=M.process,ul=M.MessageChannel,cl=M.Dispatch,dl=0,gl={},fl="onreadystatechange";ll&&sl||(ll=function(e){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);return gl[++dl]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},tl(dl),dl},sl=function(e){delete gl[e]},"process"==o(hl)?tl=function(e){hl.nextTick(Qn(e))}:cl&&cl.now?tl=function(e){cl.now(Qn(e))}:ul&&!rl?(al=(il=new ul).port2,il.port1.onmessage=$n,tl=C(al.postMessage,al,1)):!M.addEventListener||"function"!=typeof postMessage||M.importScripts||n(el)||"file:"===nl.protocol?tl=fl in a("script")?function(e){Wi.appendChild(a("script"))[fl]=function(){Wi.removeChild(this),Jn(e)}}:function(e){setTimeout(Qn(e),0)}:(tl=el,M.addEventListener("message",$n,!1)));var vl,pl,yl,xl,bl,ml,wl,Cl,kl={set:ll,clear:sl},Vl=Y.f,Il=kl.set,Dl=M.MutationObserver||M.WebKitMutationObserver,Tl=M.process,Sl=M.Promise,Ll="process"==o(Tl),Al=Vl(M,"queueMicrotask"),Rl=Al&&Al.value;Rl||(vl=function(){var e,t;for(Ll&&(e=Tl.domain)&&e.exit();pl;){t=pl.fn,pl=pl.next;try{t()}catch(e){throw pl?xl():yl=void 0,e}}yl=void 0,e&&e.enter()},xl=Ll?function(){Tl.nextTick(vl)}:Dl&&!rl?(bl=!0,ml=document.createTextNode(""),new Dl(vl).observe(ml,{characterData:!0}),function(){ml.data=bl=!bl}):Sl&&Sl.resolve?(wl=Sl.resolve(void 0),Cl=wl.then,function(){Cl.call(wl,vl)}):function(){Il.call(M,vl)});function Ml(e){var i,a;this.promise=new e(function(e,t){if(void 0!==i||void 0!==a)throw TypeError("Bad Promise constructor");i=e,a=t}),this.resolve=d(i),this.reject=d(a)}function Pl(e,t){if(v(e),c(t)&&t.constructor===e)return t;var i=Xl.f(e);return(0,i.resolve)(t),i.promise}function Bl(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}function _l(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t}function Ol(c,d,g){var f;d.notified||(d.notified=!0,f=d.reactions,Yl(function(){for(var e=d.value,t=1==d.state,i=0;f.length>i;){var a,o,r,n=f[i++],l=t?n.ok:n.fail,s=n.resolve,h=n.reject,u=n.domain;try{l?(t||(2===d.rejection&&ds(c,d),d.rejection=1),!0===l?a=e:(u&&u.enter(),a=l(e),u&&(u.exit(),r=!0)),a===n.promise?h(es("Promise-chain cycle")):(o=_l(a))?o.call(a,s,h):s(a)):h(e)}catch(e){u&&!r&&u.exit(),h(e)}}d.reactions=[],d.notified=!1,g&&!d.rejection&&us(c,d)}))}function El(e,t,i){var a,o;ns?((a=ts.createEvent("Event")).promise=t,a.reason=i,a.initEvent(e,!1,!0),M.dispatchEvent(a)):a={promise:t,reason:i},(o=M["on"+e])?o(a):e===ls&&function(e,t){var i=M.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}("Unhandled promise rejection",i)}function Wl(t,i,a,o){return function(e){t(i,a,e,o)}}function Hl(e,t,i,a){t.done||(t.done=!0,a&&(t=a),t.value=i,t.state=2,Ol(e,t,!0))}var jl,Nl,Fl,zl,Gl,Yl=Rl||function(e){var t={fn:e,next:void 0};yl&&(yl.next=t),pl||(pl=t,xl()),yl=t},Xl={f:function(e){return new Ml(e)}},Ul=kl.set,Zl=b("species"),Kl="Promise",ql=Vi.get,Jl=Vi.set,Ql=Vi.getterFor(Kl),$l=jn,es=M.TypeError,ts=M.document,is=M.process,as=(L("fetch"),Xl.f),os=as,rs="process"==o(is),ns=!!(ts&&ts.createEvent&&M.dispatchEvent),ls="unhandledrejection",ss=J(Kl,function(){if(!(vi($l)!==String($l))){if(66===Te)return!0;if(!rs&&"function"!=typeof PromiseRejectionEvent)return!0}if(!$l.prototype.finally)return!0;if(51<=Te&&/native code/.test($l))return!1;function e(e){e(function(){},function(){})}var t=$l.resolve(1);return(t.constructor={})[Zl]=e,!(t.then(function(){})instanceof e)}),hs=ss||!function(e,t){if(!t&&!Un)return!1;var i=!1;try{var a={};a[Xn]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(e){}return i}(function(e){$l.all(e).catch(function(){})}),us=function(i,a){Ul.call(M,function(){var e,t=a.value;if(cs(a)&&(e=Bl(function(){rs?is.emit("unhandledRejection",t,i):El(ls,i,t)}),a.rejection=rs||cs(a)?2:1,e.error))throw e.value})},cs=function(e){return 1!==e.rejection&&!e.parent},ds=function(e,t){Ul.call(M,function(){rs?is.emit("rejectionHandled",e):El("rejectionhandled",e,t.value)})},gs=function(i,a,e,t){if(!a.done){a.done=!0,t&&(a=t);try{if(i===e)throw es("Promise can't be resolved itself");var o=_l(e);o?Yl(function(){var t={done:!1};try{o.call(e,Wl(gs,i,t,a),Wl(Hl,i,t,a))}catch(e){Hl(i,t,e,a)}}):(a.value=e,a.state=1,Ol(i,a,!1))}catch(e){Hl(i,{done:!1},e,a)}}};ss&&($l=function(e){!function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}(this,$l,Kl),d(e),jl.call(this);var t=ql(this);try{e(Wl(gs,this,t),Wl(Hl,this,t))}catch(e){Hl(this,t,e)}},(jl=function(){Jl(this,{type:Kl,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,i){for(var a in t)i&&i.unsafe&&e[a]?e[a]=t[a]:Ui(e,a,t[a],i);return e}($l.prototype,{then:function(e,t){var i=Ql(this),a=as(qn(this,$l));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=rs?is.domain:void 0,i.parent=!0,i.reactions.push(a),0!=i.state&&Ol(this,i,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),Nl=function(){var e=new jl,t=ql(e);this.promise=e,this.resolve=Wl(gs,e,t),this.reject=Wl(Hl,e,t)},Xl.f=as=function(e){return e===$l||e===Fl?new Nl:os(e)}),k({global:!0,wrap:!0,forced:ss},{Promise:$l}),Yi($l,Kl,!1,!0),zl=L(Kl),Gl=ee.f,P&&zl&&!zl[Nn]&&Gl(zl,Nn,{configurable:!0,get:function(){return this}}),Fl=L(Kl),k({target:Kl,stat:!0,forced:ss},{reject:function(e){var t=as(this);return t.reject.call(void 0,e),t.promise}}),k({target:Kl,stat:!0,forced:!0},{resolve:function(e){return Pl(this===Fl?$l:this,e)}}),k({target:Kl,stat:!0,forced:hs},{all:function(e){var l=this,t=as(l),s=t.resolve,h=t.reject,i=Bl(function(){var a=d(l.resolve),o=[],r=0,n=1;Yn(e,function(e){var t=r++,i=!1;o.push(void 0),n++,a.call(l,e).then(function(e){i||(i=!0,o[t]=e,--n||s(o))},h)}),--n||s(o)});return i.error&&h(i.value),t.promise},race:function(e){var i=this,a=as(i),o=a.reject,t=Bl(function(){var t=d(i.resolve);Yn(e,function(e){t.call(i,e).then(a.resolve,o)})});return t.error&&o(t.value),a.promise}}),k({target:"Promise",stat:!0},{allSettled:function(e){var l=this,t=Xl.f(l),s=t.resolve,i=t.reject,a=Bl(function(){var a=d(l.resolve),o=[],r=0,n=1;Yn(e,function(e){var t=r++,i=!1;o.push(void 0),n++,a.call(l,e).then(function(e){i||(i=!0,o[t]={status:"fulfilled",value:e},--n||s(o))},function(e){i||(i=!0,o[t]={status:"rejected",reason:e},--n||s(o))})}),--n||s(o)});return a.error&&i(a.value),t.promise}});var fs=!!jn&&n(function(){jn.prototype.finally.call({then:function(){}},function(){})});k({target:"Promise",proto:!0,real:!0,forced:fs},{finally:function(t){var i=qn(this,L("Promise")),e="function"==typeof t;return this.then(e?function(e){return Pl(i,t()).then(function(){return e})}:t,e?function(e){return Pl(i,t()).then(function(){throw e})}:t)}});var vs=Q.Promise,ps=ht.Default,ys=ps.drawStretchImage,xs=ps.getImage,bs=ps.isObject,ms={_uuid:!0,text:!0,icon:!0,children:!0,badges:!0,drawCell:!0,expanded:!0,selected:!0,disabled:!0,checked:!0,isLeaf:!0},ws=function(){et(a,ht.Data);var i=ot(a);function a(e){var t;return Je(this,a),(t=i.call(this))._attrObject={},t.init(e),t}return $e(a,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!bs(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){var i;void 0===t?delete this._attrObject[e]:this._attrObject[e]=t,!ms[e]||(i=this.a("dataInfo"))&&(i[e]=t)}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e){var t=e._uuid,i=e.text,a=void 0===i?"Tree":i,o=e.icon,r=void 0===o?null:o,n=e.badges,l=void 0===n?[]:n,s=e.expanded,h=void 0!==s&&s,u=e.selected,c=void 0!==u&&u,d=e.disabled,g=void 0!==d&&d,f=e.checked,v=void 0!==f&&f,p=e.isLeaf,y=void 0!==p&&p,x=e.children,b=void 0===x?[]:x,m=e.drawCell;if(this.a({text:a,icon:r,badges:l,expanded:h,selected:c,disabled:g,checked:v,isLeaf:y,children:b,drawCell:m}),void 0===this.a("_uuid"))this.a({_uuid:t,_isHovering:!1,_isLoading:!1});else if(!1===v&&"check"===this.a("_checkStatus")&&(this.checkAfter(),this.checkBefore()),0===this.a("children").length&&0<this.getChildren().size())for(var w=this.getChildren().toArray(),C=this.getDataModel(),k=w.length-1;0<=k;k--)C.remove(w[k])}},{key:"initNodeRect",value:function(e,t,i){var a=this.getDataModel();this.setRowRect(a,e),this.setTreeContentRect(a),this.setCellsRect(a),this.setToggleRect(a,t,i),this.setCheckRect(a),this.setIconRect(a),this.setTreeTextRect(a)}},{key:"setRowRect",value:function(e,t){var i=e.getAttrObject(),a=i.translateX,o=i.translateY,r=i.showHead,n=i.thHeight,l=i.tdHeight,s=i.borderWidth,h=i.rowLineWidth,u=i.rect,c=u.x,d=u.y,g=u.width;this.a("rowRect",{x:c+a+s,y:t?t.a("rowRect").y+l+h:(r?n:0)+d+o+s,width:g-2*s,height:l})}},{key:"setTreeContentRect",value:function(e){for(var t=e.getAttrObject(),i=t.treeColumnIndex,a=t.colWidths,o=t.columnLineWidth,r=0,n=0;n<i;n++)r+=a[n]+o;var l=t.indent,s=this.a("rowRect"),h=s.x,u=s.y,c=s.width,d=s.height,g=this.getDeep();this.a("treeContentRect",{x:h+g*l+r,y:u,width:c,height:d})}},{key:"setCellsRect",value:function(e){var t=e.getAttrObject(),i=t.columnLineWidth,a=t.colWidths,o=t.cellPadding,r=t.treeColumnIndex,n=this.a("rowRect"),l=n.x,s=n.y,h=n.height,u=[],c=l;if(a)for(var d=0,g=a.length;d<g;d++){0!==d&&(c+=a[d-1]+i);var f=a[d]-(d===r?0:2*o);u.push({x:c+(d===r?0:o),y:s,width:f<0?0:f,height:h})}this.a("cellsRect",u)}},{key:"setToggleRect",value:function(e,t,i){var a,o=this.a("treeContentRect").x,r=this.a("treeTextWH").textWidth,n=this.a("rowRect"),l=n.x,s=n.y,h=n.width,u=n.height,c=e.getAttrObject(),d=c.space,g=c.expandIconSize,f=c.expandMode,v=c.expandIconPos,p=c.showCheckbox,y=c.checkIconSize,x=c.showIcon,b=c.iconSize,m=c.iconVisibleFunc;"left"===v&&(a=o),"fixRight"===v&&(a=l+h-g-2*d),"right"===v&&(a=o+d+(p?y+d:0),x&&m(this.a("dataInfo"),t,i)&&(a+=b+d),a+=r),"icon"===f?this.a("toggleRect",{x:a,y:s,width:g+2*d,height:u}):this.a("toggleRect",{x:l,y:s,width:h,height:u}),this.a("toggleIconRect",{x:a,y:s+(u-g)/2,width:g,height:g})}},{key:"setCheckRect",value:function(e){var t,i,a,o,r=e.getAttrObject(),n=r.showCheckbox,l=r.space,s=r.expandIconSize,h=r.checkIconSize,u=r.expandIconPos;n&&(i=(t=this.a("treeContentRect")).x,a=t.y,o=t.height,this.a("checkRect",{x:i+("left"===u?s+l:0),y:a+(o-h)/2,width:h,height:h}))}},{key:"setIconRect",value:function(e){var t,i,a,o,r=e.getAttrObject(),n=r.showIcon,l=r.space,s=r.expandIconSize,h=r.checkIconSize,u=r.showCheckbox,c=r.iconSize,d=r.expandIconPos;n&&(i=(t=this.a("treeContentRect")).x,a=t.y,o=t.height,this.a("iconRect",{x:i+("left"===d?s+l:0)+(u?h+l:0),y:a+(o-c)/2,width:c,height:c}))}},{key:"setTreeTextRect",value:function(e){var t=e.getAttrObject(),i=t.space,a=t.expandIconSize,o=t.checkIconSize,r=t.iconSize,n=t.showCheckbox,l=t.showIcon,s=t.expandIconPos,h=this.a("treeContentRect"),u=h.x,c=h.y,d=h.height,g=this.a("treeTextWH"),f=g.textWidth,v=g.textHeight;this.a("treeTextRect",{x:u+("left"===s?a+i:0)+(n?o+i:0)+(l?r+i:0),y:c+(d-v)/2,width:f,height:v})}},{key:"drawTreeBadge",value:function(e,t,i,a,o){var r=this.a("badges");if(0!==r.length){var n=this.getDataModel().getAttrObject(),l=n.badgesVisibleFunc,s=n.expandIconPos,h=n.space,u=n.expandIconSize,c=this.getAttrObject(),d=c.rowRect,g=c.dataInfo,f=c.isLeaf,v=a.badgeFont,p=a.badgeHeight,y=a.badgeSpace,x=a.badgeRadius,b=d.x,m=d.y,w=b+d.width,C=m+(d.height-p)/2;!1===f&&"fixRight"===s&&(w-=h+u+h),e.save(),e.font=v,e.fillStyle="#777777",e.strokeStyle="white",e.lineWidth=1,e.setLineDash([]);for(var k=0,V=r.length;k<V;k++){var I=r[k],D=I.text,T=I.textColor,S=I.backColor,L=I.visible,A=co(v,D),R=A.width,M=A.height,P=R+2*x;l&&!l(g,I,t,i)||!1===L||(w-=P+y,S&&(e.fillStyle=S),e.beginPath(),nr(e,w,C,P,p,x),e.closePath(),Ne(e).call(e),T&&(e.fillStyle=T),e.fillText(D,w+x,C+(p-M)/2),o.badgesRect.push({node:this,info:I,badgeRect:{x:w,y:C,width:P,height:p}}))}e.restore()}}},{key:"drawTreeToggleIcon",value:function(e,t,i,a,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k;this.a("isLeaf")||(r=a.loading,n=a.close,l=a.open,h=(s=this.getAttrObject()).toggleRect,u=s.toggleIconRect,c=s.expanded,d=s._isLoading,g=s.dataInfo,f=u.x,v=u.y,p=u.width,y=u.height,w=(m=this.getDataModel().getAttrObject()).getOpenIconColor,C=m.getCloseIconColor,k=m.getLoadingIconColor,d?(x=r.image,b=r.color,k&&(b=k(g,t,i))):c?(x=n.image,b=n.color,C&&(b=C(g,t,i))):(x=l.image,b=l.color,w&&(b=w(g,t,i))),ys(e,x,"fill",f,v,p,y,t,i,b),o.togglesRect.push({node:this,toggleRect:h}))}},{key:"drawTreeCheckIcon",value:function(e,t,i,a,o){var r,n,l=a.check,s=a.unCheck,h=a.unCheckAll,u=this.getAttrObject(),c=u.checkRect,d=u._checkStatus,g=u.dataInfo,f=c.x,v=c.y,p=c.width,y=c.height,x=this.getDataModel().getAttrObject(),b=x.getCheckIconColor,m=x.getUnCheckIconColor,w=x.getUnCheckAllIconColor;"check"===d?(r=l.image,n=l.color,b&&(n=b(g,t,i))):"unCheckAll"===d?(r=h.image,n=h.color,w&&(n=w(g,t,i))):(r=s.image,n=s.color,m&&(n=m(g,t,i))),ys(e,r,"fill",f,v,p,y,t,i,n),o.checksRect.push({node:this,checkRect:c})}},{key:"drawTreeIcon",value:function(e,t,i,a){var o,r,n=a.def,l=this.getAttrObject(),s=l.icon,h=l.iconRect,u=l.dataInfo,c=this.getDataModel().a("iconVisibleFunc"),d=h.x,g=h.y,f=h.width,v=h.height,p=this.getDataModel().getAttrObject().getDefaultIconColor;s?o=xs(s):(o=n.image,r=n.color),p&&(r=p(u,t,i)),c(u,t,i)&&ys(e,o,"fill",d,g,f,v,t,i,r)}},{key:"drawTreeText",value:function(e,t,i,a){var o=this.getDataModel(),r=this.getTextColor(a),n=this.getAttrObject(),l=n.text,s=n.treeTextRect,h=n.dataInfo,u=n.rowRect,c=o.getAttrObject(),d=c.showIcon,g=c.iconSize,f=c.space,v=c.iconVisibleFunc,p=c.tdFont,y=s.x,x=s.y,b=s.width;d&&!v(h,t,i)&&(y-=g+f);function m(){r!==a.textColor?(e.save(),e.fillStyle=r,e.fillText(l,y,x),e.restore()):e.fillText(l,y,x)}var w=this.a("drawCell");(w=w||o.a("drawCell"))?w(e,{x:y,y:u.y,width:b,height:u.height},h,{textFont:p,textColor:r,defaultDraw:m,data:t,view:i}):m()}},{key:"drawRowLine",value:function(e,t,i){var a,o,r,n,l;t.rowLineWidth&&(a=t.rowLineColor,o=t.rowLineWidth,r=i.x,n=i.y,l=i.width,e.save(),e.beginPath(),e.fillStyle=a,e.fillRect(r,n-o,l,o),e.restore())}},{key:"drawTableCell",value:function(r,e){function t(){var e=l.x,t=l.y,i=l.width,a=l.height,o=r.measureText(C).width+2;"center"===v&&(e+=(i-o)/2),"right"===v&&(e+=i-o),"middle"===y&&(t+=(a-u)/2),"bottom"===y&&(t+=a-u),"function"==typeof g&&(C=g.call(n,C,w)),r.fillText(C,e,t)}var n=e.comp,i=e.data,a=e.column,l=e.cellRect,o=e.tdFont,s=e.tdColor,h=e.colIndex,u=e.textHeight,c=e.visibleRowIndex,d=a.key,g=a.format,f=a.align,v=void 0===f?"left":f,p=a.vAlign,y=void 0===p?"middle":p,x=a.drawCell,b=a.isIndex,m=this.a("dataInfo").tableDataSource,w=void 0===m?{}:m,C=w[d]||"";b&&(C=c),x?x.call(n,r,C,l,{font:o,color:s,column:a,colIndex:h,row:w,rowIndex:this.a("rowIndex"),defaultDraw:t,data:i}):t()}},{key:"drawTableRow",value:function(e,t){var i=t.comp,a=t.visibleRowRect,o=t.tdBackground,r=t.drawRow,n=a.x,l=a.y,s=a.width,h=a.height;o&&(e.save(),e.fillStyle=o,e.fillRect(n,l,s,h),e.restore()),r&&(e.save(),r.call(i,e,this,a),e.restore())}},{key:"getTextColor",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},a=i.bodyColor,o=i.color,r=e.textColor,n=e.hoverTextColor,l=e.selectTextColor,s=this.a("_isHovering");return this.a("selected")&&l?l:s&&n?n:a||(o||r)}},{key:"getDeep",value:function(){for(var e=1,t=this;t=t.getParent();)e++;return e}},{key:"getPreSibling",value:function(){var e=this.getDataModel().getSiblings(this).toArray(),t=jt(e).call(e,this)-1;return t<0?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t.a("dataInfo"));)t=t.getPreSibling();return t&&e(t.a("dataInfo"))?t:null}},{key:"checkAfter",value:function(){var t=this.a("checked"),e=this.getChildren();this.a("_checkStatus",t?"check":"unCheck"),e.each(function(e){e.a("checked",t),e.a("_checkStatus",t?"check":"unCheck"),e.checkAfter()})}},{key:"checkBefore",value:function(){var e=this.getParent();if(e){for(var t=e.getChildren().toArray(),i=0,a=!1,o=0;o<t.length;o++)t[o].a("checked")&&i++,"unCheckAll"===t[o].a("_checkStatus")&&(a=!0);i===t.length?(e.a("checked",!0),e.a("_checkStatus","check")):0!==i||a?(e.a("checked",!1),e.a("_checkStatus","unCheckAll")):(e.a("checked",!1),e.a("_checkStatus","unCheck")),e.checkBefore()}}}]),a}(),Cs=ht.Default,ks=Cs.getImage,Vs=Cs.drawBorder,Is=Cs.containsPoint,Ds=Cs.isObject,Ts=function(){et(i,ht.DataModel);var t=ot(i);function i(){var e;return Je(this,i),(e=t.call(this))._attrObject={},e}return $e(i,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!Ds(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){void 0===t?delete this._attrObject[e]:this._attrObject[e]=t}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e,t){for(var i=0<arguments.length&&void 0!==e?e:[],a=1<arguments.length&&void 0!==t?t:null,o=0,r=i.length;o<r;o++){var n=i[o];if(n){var l=n._uuid,s=n.expanded,h=n.children;this.tagMap[l]&&(l=Uo());var u=this.getDataByTag(l);u?u.init(n):(n._uuid=l=void 0===l?Uo():l,(u=new ws(n)).setTag(l),this.add(u));var c=u.getParent()===a;if(a&&u.setParent(a),u.a("childIndex")===o&&c&&!this.hierarchyChanged||(this.moveTo(u,o),this.hierarchyChanged=!0),u.a({dataInfo:n,rowIndex:++this.rowIndex,childIndex:o}),this.tagMap[l]=!0,s&&this.init(h,u),o===r-1){var d=a?a.getChildren().toArray():this.getRoots().toArray(),g=d.length;if(r<g)for(var f=r;f<g;f++)this.remove(d[f])}}}null===a&&0===i.length&&this.clear()}},{key:"reset",value:function(e,t,i){var a=e.getValue("translateX"),o=e.getValue("translateY"),r=e.getValue("indent"),n=e.getValue("borderWidth"),l=e.getValue("columnLineWidth"),s=e.getValue("rowLineWidth"),h=e.getValue("thHeight"),u=e.getValue("tdHeight"),c=e.getValue("itemHeight"),d=e.getValue("space"),g=e.getValue("iconSize"),f=e.getValue("expandIconSize"),v=e.getValue("checkIconSize"),p=e.getValue("showHead"),y=e.getValue("showLine"),x=e.getValue("showIcon"),b=e.getValue("showCheckbox"),m=e.getValue("columns"),w=e.getValue("thFont"),C=e.getValue("tdFont"),k=e.getValue("treeFont"),V=e.getValue("columnVisibleFunc"),I=e.getValue("headLineDraggable"),D=e.getValue("headDraggable"),T=e.getValue("resizeInteractiveSize"),S=e.getValue("cellPadding"),L=e.getValue("accordion"),A=e.getValue("multiSelect"),R=e.getValue("loadData")||function(e,t){return t()},M=e.getValue("onCheck")||function(){},P=e.getValue("onExpand")||function(){},B=e.getValue("onSelect")||function(){},_=e.getValue("onClickBack")||function(){},O=e.getValue("onClickBadge")||function(){},E=e.getValue("selectableFunc")||function(){return!0},W=e.getValue("expandableFunc")||function(){return!0},H=e.getValue("checkableFunc")||function(){return!0},j=e.getValue("onClickCell"),N=e.getValue("onClickHeadCell"),F=e.getValue("expandMode")||"icon",z=e.getColor("lineColor"),G=e.getValue("lineWidth"),Y=e.getValue("linePattern"),X=e.getValue("iconVisibleFunc")||function(){return!0},U=e.getValue("drawCell"),Z=e.getValue("badgesVisibleFunc"),K=e.getValue("expandIconPos")||"left",q=e.getValue("getDefaultIconColor"),J=e.getValue("getOpenIconColor"),Q=e.getValue("getCloseIconColor"),$=e.getValue("getLoadingIconColor"),ee=e.getValue("getCheckIconColor"),te=e.getValue("getUnCheckIconColor"),ie=e.getValue("getUnCheckAllIconColor");if(this.a({rect:t,translateX:a,translateY:o,indent:r,borderWidth:n,columnLineWidth:void 0===l?0:l,rowLineWidth:s,thHeight:void 0===h?0:h,tdHeight:void 0===u?c:u,space:d,iconSize:g,expandIconSize:f,checkIconSize:v,showHead:void 0!==p&&p,showLine:y,showIcon:x,showCheckbox:b,tdFont:void 0===C?k:C,thFont:w,headLineDraggable:I,headDraggable:D,resizeInteractiveSize:T,cellPadding:S,onClickCell:j,onClickHeadCell:N,accordion:L,multiSelect:A,loadData:R,onCheck:M,onExpand:P,onSelect:B,onClickBack:_,onClickBadge:O,selectableFunc:E,expandableFunc:W,checkableFunc:H,expandMode:F,lineColor:z,iconVisibleFunc:X,drawCell:U,badgesVisibleFunc:Z,lineWidth:G,linePattern:Y,expandIconPos:K,getDefaultIconColor:q,getOpenIconColor:J,getCloseIconColor:Q,getLoadingIconColor:$,getCheckIconColor:ee,getUnCheckIconColor:te,getUnCheckAllIconColor:ie}),this.tagMap={},this.hierarchyChanged=!1,this.rowIndex=-1,m){var ae,oe,re,ne,le,se,he,ue,ce=[],de=[];ka(m).call(m,function(e,t){(V&&V(e,t)||!V)&&de.push({column:e,columnIndex:t})}),D&&(re=(ae=this.a("dragColumnsInfo")||{}).dragEndColumnIndex,void 0!==(oe=ae.dragStartColumnIndex)&&void 0!==re&&(ne=de[oe],le=de[re],se=ne.columnIndex,he=le.columnIndex,de[oe]=le,de[re]=ne,ue=m[se],m[se]=m[he],m[he]=ue,this.a("dragColumnsInfo",void 0))),ka(de).call(de,function(e){var t=e.column;return ce.push(t)}),this.a("visibleColumns",ce);var ge=Vo(ce,t.width-2*n-l*(ce.length-1)),fe=[],ve=[],pe=t.x+a+n,ye=t.y+n;if(this.a("defColWidths",ht.Default.clone(ge)),I){var xe=this.a("dragColumnsLineDiff");if(xe)for(var be in xe)for(var me=0,we=ce.length;me<we;me++)if(ce[me].key==be){ge[me]+=xe[be];break}var Ce=i.dragColumnLineIndex,ke=i.dragColumnLineDistance;void 0!==Ce&&void 0!==ke&&(ge[Ce]+ke<T?ge[Ce]=T:ge[Ce]+=ke)}this.a("colWidths",ge),this.a("treeColumnIndex",void 0);for(var Ve=0,Ie=ce.length;Ve<Ie;Ve++)if(ce[Ve].isTreeColumn){this.a("treeColumnIndex",Ve);break}for(var De=0,Te=ge.length;De<Te;De++)fe.push({x:pe,y:ye,width:ge[De],height:h}),I&&ve.push({x:fe[De].x+fe[De].width-T,y:ye,width:l+2*T,height:h}),pe+=l+ge[De];this.a({columnsRect:fe,columnLinesRect:ve,headRect:{x:t.x,y:t.y,width:t.width,height:h}})}}},{key:"getTreeIconInfo",value:function(e){var t=e.getValue("openIcon"),i=e.getValue("closeIcon"),a=e.getValue("loadingIcon"),o=e.getValue("defaultIcon"),r=e.getValue("checkIcon"),n=e.getValue("unCheckIcon"),l=e.getValue("unCheckAllIcon");return{open:{image:ks(t||"ht.vector.treeOpenIcon"),color:t?void 0:e.getColor("openIconColor")},close:{image:ks(i||"ht.vector.treeCloseIcon"),color:i?void 0:e.getColor("closeIconColor")},loading:{image:ks(a||"ht.vector.treeLoadIcon"),color:a?void 0:e.getColor("loadingIconColor")},def:{image:ks(o||"ht.vector.treeDefIcon"),color:o?void 0:e.getColor("defaultIconColor")},check:{image:ks(r||"ht.vector.treeCheckIcon"),color:r?void 0:e.getColor("checkIconColor")},unCheck:{image:ks(n||"ht.vector.treeUnCheckIcon"),color:n?void 0:e.getColor("unCheckIconColor")},unCheckAll:{image:ks(l||"ht.vector.treeUnCheckAllIcon"),color:l?void 0:e.getColor("unCheckAllIconColor")}}}},{key:"drawTreeCable",value:function(f,e,v){var t,i,a,o,r,n,l,s,p;"left"===this.a("expandIconPos")&&(i=(t=this.getAttrObject()).showIcon,a=t.showCheckbox,o=t.lineColor,n=void 0===(r=t.lineWidth)?.5:r,s=void 0===(l=t.linePattern)?[1,1]:l,p=a?"checkRect":i?"iconRect":"treeTextRect",f.save(),f.strokeStyle=o,f.setLineDash(s),f.lineWidth=n,f.lineJoin="miter",ka(e).call(e,function(e){var t=e.a("isLeaf"),i=qo(e.a(p)).leftMiddle,a=qo(e.a("toggleIconRect")),o=a.rightMiddle,r=a.topMiddle,n=a.middleMiddle;f.beginPath(),t?f.moveTo(n.x,n.y):f.moveTo(o.x,o.y),f.lineTo(i.x,i.y);var l,s,h,u,c,d,g=e.getPreVisibleSibling(v);g?(l=g.a("isLeaf"),h=(s=qo(g.a("toggleIconRect"))).bottomMiddle,u=s.middleMiddle,l?f.moveTo(u.x,u.y):f.moveTo(h.x,h.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)):(c=e.getParent())&&(d=qo(c.a(p)).bottomMiddle,f.moveTo(n.x,d.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)),f.stroke()}),f.restore())}},{key:"drawBorder",value:function(e,t){var i=this.a("borderWidth"),a=this.a("rect"),o=a.x,r=a.y,n=a.width,l=a.height;i&&(e.save(),Vs(e,t,o,r,n,l,i),e.restore())}},{key:"drawTableHead",value:function(y,e,t){var x=t.comp,b=t.data,m=t.columnLineColor,w=t.thColor,i=t.thBackground,a=this.getAttrObject(),C=a.rect,k=a.columnLineWidth,V=a.columnsRect,I=a.visibleColumns,D=a.thFont,o=a.thHeight,T=a.showHead,r=a.borderWidth,S=a.cellPadding;y.save(),T&&(y.fillStyle=i,y.fillRect(C.x+r,C.y+r,C.width-2*r,o));for(var L=e.dragStartColumnIndex,A=e.dragColumnDistance,n=function(a){var o,e,r,t,n,i,l,s,h,u,c=V[a],d=I[a],g=c.x,f=c.y,v=c.width,p=c.height;y.beginPath(),y.fillStyle=m,y.fillRect(g+v,f,k,C.height),T&&(o=d.displayName,e=d.align,r=void 0===e?"left":e,t=d.vAlign,n=void 0===t?"middle":t,i=d.headColor,l=d.color,s=d.drawHeadCell,h=w,i?h=i:l&&(h=l),g+=S,v=(v-=2*S)<0?0:v,y.save(),L!==a&&(y.rect(g,f,v,p),y.clip()),u=function(){var e,t,i;void 0!==o&&(t=(e=co(D,o)).width,i=e.height,"center"===r&&(g+=(v-t)/2),"right"===r&&(g+=v-t),"middle"===n&&(f+=(p-i)/2),"bottom"===n&&(f+=p-i),L===a&&(g+=A,y.save(),y.fillStyle="rgb(217, 219, 220)",y.fillRect(g,c.y,v,p),y.restore()),y.fillStyle=h,y.font=D,y.fillText(o,g,f))},s?s.call(x,y,o,c,{font:D,color:h,visibleColumn:d,index:a,defaultDraw:u,data:b}):u(),y.restore())},l=0,s=V.length;l<s;l++)l!==L&&n(l);void 0!==L&&n(L),y.restore()}},{key:"drawScrollBar",value:function(e,t,i,a,o,r,n){var l,s,h,u=t.getValue("scrollBarWidthAbsolute"),c=t.getValue("scrollBarWidth"),d=t.getValue("autoHideScrollBar"),g=t.getValue("scrollable"),f=t.getValue("scrollBarColor"),v=a.translateX,p=a.translateY,y=a.scrollBarVisible,x=i.getZoom?i.getZoom():1,b=u?c/x:c,m=o,w=r;o-2>n.width&&(w=r+b),a&&(a.scrollBarInfo={x:n.x,y:n.y,width:n.width,height:n.height,boundWidth:m,boundHeight:w,absoluteScrollBarWidth:b},a.autoHideScrollBar=d),g&&(l={x:n.x,y:n.y,width:n.width,height:n.height},s={width:m,height:w},h={x:v,y:p},n.height>w&&0!==p&&(s.height=n.height-p),vn(e,l,s,h,{visible:!d||y,color:f,gap:0,barWidth:b},a||{}))}},{key:"drawDragColumnLine",value:function(e,t){var i,a,o,r,n=t.dragColumnLineRect;n&&(i=n.x,a=n.y,o=n.width,r=n.height,e.save(),e.fillStyle="rgb(49, 141, 251)",e.fillRect(i,a,o,r),e.restore())}},{key:"onClickBadge",value:function(e,t,i){for(var a=nt(e,3),o=a[0],r=a[1],n=a[2],l=this.a("onClickBadge"),s=0,h=i.length;s<h;s++){var u=i[s],c=u.node,d=u.info,g=u.badgeRect;if(Is(g,t)&&!c.a("disabled"))return l.call(this,o,c.a("dataInfo"),d,r,n),r.iv(),!0}return!1}},{key:"onClickCheck",value:function(e,t,i){for(var a=nt(e,3),o=a[0],r=a[1],n=a[2],l=this.getAttrObject(),s=l.checkableFunc,h=l.onCheck,u=0,c=i.length;u<c;u++){var d=i[u],g=d.node,f=d.checkRect;if(Is(f,t)&&!g.a("disabled")&&s(g.a("dataInfo"),r,n))return g.a("checked",!g.a("checked")),h.call(this,o,g.a("dataInfo"),g.a("checked"),r,n),g.checkAfter(),g.checkBefore(),r.iv(),!0}return!1}},{key:"onClickToggle",value:function(e,n,l){for(var s=this,t=nt(e,3),h=t[0],u=t[1],c=t[2],i=this.getAttrObject(),d=i.onExpand,g=i.loadData,f=i.expandableFunc,v=i.accordion,a=0,o=l.length;a<o;a++){var r=function(e){var t=l[e],i=t.node,a=t.toggleRect;if(i.a("isLeaf"))return"continue";if(Is(a,n)){if(i.a("_isLoading"))return{v:!0};if(!i.a("disabled")&&f(i.a("dataInfo"),u,c)){v&&s.getSiblings(i).each(function(e){e!==i&&e.a("expanded",!1)}),i.a("expanded",!i.a("expanded"));var o=i.getChildren().toArray(),r=i.a("expanded");return 0===o.length&&0<i.a("children").length?(s.init(i.a("children"),i),d.call(s,h,i.a("dataInfo"),r,u,c)):r&&0===o.length?new vs(function(e){i.a("_isLoading",!0),g.call(s,i.a("dataInfo"),e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];i.a({_isLoading:!1,children:e}),s.init(e,i),d.call(s,h,i.a("dataInfo"),r,u,c),u.iv()}):d.call(s,h,i.a("dataInfo"),r,u,c),u.iv(),{v:!0}}}}(a);if("continue"!==r&&"object"===qe(r))return r.v}return!1}},{key:"onClickVisibleRow",value:function(e,f,v,p){for(var y=this,t=nt(e,3),x=t[0],b=t[1],m=t[2],i=this.getAttrObject(),w=i.selectableFunc,C=i.multiSelect,k=i.onSelect,a=0,o=v.length;a<o;a++){var r=function(e){var t=v[e],a=t.node,i=t.visibleRowRect;if(Is(i,f)){if(!a.a("disabled")&&w(a.a("dataInfo"),b,m)){var o=y.toDatas(function(e){return e.a("selected")}).toArray(),r=[];ka(o).call(o,function(e){var t=e.a("_uuid"),i=e.a("text");r.push({_uuid:t,text:i}),C||e===a||e.a("selected",!1)}),p.selectedInfos=r,C?a.a("selected",!a.a("selected")):a.a("selected")||a.a("selected",!0),k.call(y,x,a.a("dataInfo"),a.a("selected"),b,m);var n=y.a("onClickCell"),l=a.a("cellsRect");if(n&&l&&0<l.length)for(var s,h,u,c,d=0,g=l.length;d<g;d++){Is(l[d],f)&&(s=y.a("visibleColumns"),c=(u=void 0===(h=a.a("dataInfo").tableDataSource)?{}:h)[s[d].key]||"",n(x,0===d?a.a("text"):c,u,s,a.a("rowIndex"),d,b,m))}b.iv()}return{v:!0}}}(a);if("object"===qe(r))return r.v}return!1}},{key:"onClickBack",value:function(e){var t=nt(e,3),i=t[0],a=t[1],o=t[2],r=this.a("onClickBack");r&&r(i,a,o)}},{key:"onClickHeadCell",value:function(e,t){var i=nt(e,3),a=i[0],o=i[1],r=i[2],n=this.getAttrObject(),l=n.columnsRect,s=n.onClickHeadCell,h=n.visibleColumns;if(s)for(var u=0,c=l.length;u<c;u++)if(Is(l[u],t))return s(a,h[u],u,o,r),!0;return!1}},{key:"onHoverRow",value:function(e,t,i,a,o){for(var r=nt(e,3),n=(r[0],r[1]),l=r[2],s=0,h=i.length,u=this.a("selectableFunc");s<h;s++){var c=i[s],d=c.node,g=c.visibleRowRect;if(Is(g,t)&&u(d.a("dataInfo"),n,l)){a!==d&&(a&&a.a("_isHovering",!1),o.preHoverNode=d),d.a("disabled")?(So(l,"not-allowed"),a!==d&&n.iv()):d.a("_isHovering")||(So(l,"default"),d.a("_isHovering",!0),n.iv());break}}s===h&&a&&(So(l,"default"),a.a("_isHovering",!1),delete o.preHoverNode,n.iv())}}]),i}(),Ss=ht.Default.intersectsRect;var Ls=ht.Default.intersectsRect;var As=ht.Default,Rs=As.drawText,Ms=As.drawStretchImage,Ps=As.getImage;As.darker;function Bs(e,t,i,a,o){var r=t.x,n=t.y,l=t.width;n+=t.height,e.strokeStyle=o,e.beginPath(),a===Ha?(e.moveTo(r+l,n),e.lineTo(r+l-i,n)):a===Na?(e.moveTo(r+(l-i)/2,n),e.lineTo(r+(l+i)/2,n)):(e.moveTo(r,n),e.lineTo(r+i,n)),e.stroke()}var _s={};function Os(e,t,i,a){for(var o=[],r=0,n=co(i,"图"),l=n.height/3,s=1,h=e.length;s<=h;s++)t<(l+=n.height+a)&&(r=s-1===r?(o.push(e.substring(r,s)),s):(o.push(e.substring(r,s-1)),s-1),l=n.height/3);return r!==s-1&&o.push(e.substring(r,s)),o}function Es(e,t,i,a,o,r){return t?r:Hs===e?a||i:e===js&&o||i}function Ws(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}var Hs,js,Ns=ht.Default.drawText;var Fs=kt.map,zs=Ve("map"),Gs=De("map");k({target:"Array",proto:!0,forced:!zs||!Gs},{map:function(e,t){return Fs(this,e,1<arguments.length?t:void 0)}});var Ys=_e("Array").map,Xs=Array.prototype,Us=function(e){var t=e.map;return e===Xs||e instanceof Array&&t===Xs.map?Ys:t};function Zs(e,t,i,a){for(var o=e,r=0;o<t;){r++,o=e;for(var n=0;n<r;n++)o+=2*i+2*e*(a+(1-a)*n/r)}return r}function Ks(e,t,i,a,o,r,n,l,s,h,u,c){var d,g=t.x,f=t.y,v=t.width,p=t.height;i!==io&&i!==ao&&(e.beginPath(),nr(e,g,f,v,p,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),s&&(e.fillStyle=s,Ne(e).call(e))),0<=jt(Qs).call(Qs,i)&&(d=i===io||i===ao?h.hover?Zo(Js+(i===io?oo:ro).toLowerCase()):Zo("ht.vector.pagination.ellipsis"):Zo(Js+i.toLowerCase())),d?jo(e,d,"uniform",g,f,v,p,u,c,o):Ho(e,i,a,o,g,f,v,p,Na,Fa)}function qs(e,t,i,a,o,r){var n=e.active,l=e.disabled,s=e.hover;return l&&n?r:l?o:s?i:n?a:t}var Js="ht.vector.pagination.",Qs=[eo,to,ro,oo,io,ao];function $s(e){this.mode=oh.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var a=[],o=this.data.charCodeAt(t);65536<o?(a[0]=240|(1835008&o)>>>18,a[1]=128|(258048&o)>>>12,a[2]=128|(4032&o)>>>6,a[3]=128|63&o):2048<o?(a[0]=224|(61440&o)>>>12,a[1]=128|(4032&o)>>>6,a[2]=128|63&o):128<o?(a[0]=192|(1984&o)>>>6,a[1]=128|63&o):a[0]=o,this.parsedData.push(a)}this.parsedData=Ke(Array.prototype).apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function eh(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function th(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var a=0;a<e.length-i;a++)this.num[a]=e[a+i]}function ih(e,t){this.totalCount=e,this.dataCount=t}function ah(){this.buffer=[],this.length=0}$s.prototype={getLength:function(){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},eh.prototype={addData:function(e){var t=new $s(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=eh.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+i][t+a]=0<=i&&i<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var a=fh.getLostPoint(this);(0==i||a<e)&&(e=a,t=i)}return t},createMovieClip:function(e,t,i){var a=e.createEmptyMovieClip(t,i);this.make();for(var o=0;o<this.modules.length;o++)for(var r=+o,n=0;n<this.modules[o].length;n++){var l=+n;this.modules[o][n]&&(a.beginFill(0,100),a.moveTo(l,r),a.lineTo(1+l,r),a.lineTo(1+l,1+r),a.lineTo(l,1+r),a.endFill())}return a},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=fh.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var a=e[t],o=e[i];if(null==this.modules[a][o])for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.modules[a+r][o+n]=-2==r||2==r||-2==n||2==n||0==r&&0==n}},setupTypeNumber:function(e){for(var t=fh.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(i=0;i<18;i++){a=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,a=fh.getBCHTypeInfo(i),o=0;o<15;o++){var r=!e&&1==(a>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++){r=!e&&1==(a>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,a=this.moduleCount-1,o=7,r=0,n=this.moduleCount-1;0<n;n-=2)for(6==n&&n--;;){for(var l,s=0;s<2;s++){null==this.modules[a][n-s]&&(l=!1,r<e.length&&(l=1==(e[r]>>>o&1)),fh.getMask(t,a,n-s)&&(l=!l),this.modules[a][n-s]=l,-1==--o&&(r++,o=7))}if((a+=i)<0||this.moduleCount<=a){a-=i,i=-i;break}}}},eh.PAD0=236,eh.PAD1=17,eh.createData=function(e,t,i){for(var a=ih.getRSBlocks(e,t),o=new ah,r=0;r<i.length;r++){var n=i[r];o.put(n.mode,4),o.put(n.getLength(),fh.getLengthInBits(n.mode,e)),n.write(o)}for(var l=0,r=0;r<a.length;r++)l+=a[r].dataCount;if(o.getLengthInBits()>8*l)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*l+")");for(o.getLengthInBits()+4<=8*l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*l)&&(o.put(eh.PAD0,8),!(o.getLengthInBits()>=8*l));)o.put(eh.PAD1,8);return eh.createBytes(o,a)},eh.createBytes=function(e,t){for(var i=0,a=0,o=0,r=new Array(t.length),n=new Array(t.length),l=0;l<t.length;l++){var s=t[l].dataCount,h=t[l].totalCount-s,a=Math.max(a,s),o=Math.max(o,h);r[l]=new Array(s);for(var u=0;u<r[l].length;u++)r[l][u]=255&e.buffer[u+i];i+=s;var c=fh.getErrorCorrectPolynomial(h),d=new th(r[l],c.getLength()-1).mod(c);n[l]=new Array(c.getLength()-1);for(u=0;u<n[l].length;u++){var g=u+d.getLength()-n[l].length;n[l][u]=0<=g?d.get(g):0}}for(var f=0,u=0;u<t.length;u++)f+=t[u].totalCount;for(var v=new Array(f),p=0,u=0;u<a;u++)for(l=0;l<t.length;l++)u<r[l].length&&(v[p++]=r[l][u]);for(u=0;u<o;u++)for(l=0;l<t.length;l++)u<n[l].length&&(v[p++]=n[l][u]);return v};for(var oh={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},rh={L:1,M:0,Q:3,H:2},nh=0,lh=1,sh=2,hh=3,uh=4,ch=5,dh=6,gh=7,fh={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=fh.getBCHDigit(t)-fh.getBCHDigit(fh.G15);)t^=fh.G15<<fh.getBCHDigit(t)-fh.getBCHDigit(fh.G15);return(e<<10|t)^fh.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=fh.getBCHDigit(t)-fh.getBCHDigit(fh.G18);)t^=fh.G18<<fh.getBCHDigit(t)-fh.getBCHDigit(fh.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return fh.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case nh:return(t+i)%2==0;case lh:return t%2==0;case sh:return i%3==0;case hh:return(t+i)%3==0;case uh:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case ch:return t*i%2+t*i%3==0;case dh:return(t*i%2+t*i%3)%2==0;case gh:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new th([1],0),i=0;i<e;i++)t=t.multiply(new th([1,vh.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case oh.MODE_NUMBER:return 10;case oh.MODE_ALPHA_NUM:return 9;case oh.MODE_8BIT_BYTE:case oh.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case oh.MODE_NUMBER:return 12;case oh.MODE_ALPHA_NUM:return 11;case oh.MODE_8BIT_BYTE:return 16;case oh.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case oh.MODE_NUMBER:return 14;case oh.MODE_ALPHA_NUM:return 13;case oh.MODE_8BIT_BYTE:return 16;case oh.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,a=0;a<t;a++)for(var o=0;o<t;o++){for(var r=0,n=e.isDark(a,o),l=-1;l<=1;l++)if(!(a+l<0||t<=a+l))for(var s=-1;s<=1;s++)o+s<0||t<=o+s||0==l&&0==s||n==e.isDark(a+l,o+s)&&r++;5<r&&(i+=3+r-5)}for(a=0;a<t-1;a++)for(o=0;o<t-1;o++){var h=0;e.isDark(a,o)&&h++,e.isDark(a+1,o)&&h++,e.isDark(a,o+1)&&h++,e.isDark(a+1,o+1)&&h++,0!=h&&4!=h||(i+=3)}for(a=0;a<t;a++)for(o=0;o<t-6;o++)e.isDark(a,o)&&!e.isDark(a,o+1)&&e.isDark(a,o+2)&&e.isDark(a,o+3)&&e.isDark(a,o+4)&&!e.isDark(a,o+5)&&e.isDark(a,o+6)&&(i+=40);for(o=0;o<t;o++)for(a=0;a<t-6;a++)e.isDark(a,o)&&!e.isDark(a+1,o)&&e.isDark(a+2,o)&&e.isDark(a+3,o)&&e.isDark(a+4,o)&&!e.isDark(a+5,o)&&e.isDark(a+6,o)&&(i+=40);for(var u=0,o=0;o<t;o++)for(a=0;a<t;a++)e.isDark(a,o)&&u++;return i+=10*(Math.abs(100*u/t/t-50)/5)}},vh={glog:function(e){if(e<1)throw new Error("glog("+e+")");return vh.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return vh.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},ph=0;ph<8;ph++)vh.EXP_TABLE[ph]=1<<ph;for(ph=8;ph<256;ph++)vh.EXP_TABLE[ph]=vh.EXP_TABLE[ph-4]^vh.EXP_TABLE[ph-5]^vh.EXP_TABLE[ph-6]^vh.EXP_TABLE[ph-8];for(ph=0;ph<255;ph++)vh.LOG_TABLE[vh.EXP_TABLE[ph]]=ph;th.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)t[i+a]^=vh.gexp(vh.glog(this.get(i))+vh.glog(e.get(a)));return new th(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=vh.glog(this.get(0))-vh.glog(e.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(a=0;a<e.getLength();a++)i[a]^=vh.gexp(vh.glog(e.get(a))+t);return new th(i,0).mod(e)}},ih.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ih.getRSBlocks=function(e,t){var i=ih.getRsBlockTable(e,t);if(null==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=i.length/3,o=[],r=0;r<a;r++)for(var n=i[3*r+0],l=i[3*r+1],s=i[3*r+2],h=0;h<n;h++)o.push(new ih(l,s));return o},ih.getRsBlockTable=function(e,t){switch(t){case rh.L:return ih.RS_BLOCK_TABLE[4*(e-1)+0];case rh.M:return ih.RS_BLOCK_TABLE[4*(e-1)+1];case rh.Q:return ih.RS_BLOCK_TABLE[4*(e-1)+2];case rh.H:return ih.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},ah.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var yh=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];document.documentElement.tagName.toLowerCase();function xh(e,t){for(var i,a,o=1,r=(i=e,(a=encodeURI(i).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(a.length!=i?3:0)),n=0,l=yh.length;n<=l;n++){var s=0;switch(t){case rh.L:s=yh[n][0];break;case rh.M:s=yh[n][1];break;case rh.Q:s=yh[n][2];break;case rh.H:s=yh[n][3]}if(r<=s)break;o++}if(o>yh.length)throw new Error("Too long data");return o}var bh=function(){et(a,eh);var i=ot(a);function a(e){var t;return Je(this,a),(t=i.call(this,xh(e,rh.H),rh.H)).addData(e),t.make(),t}return a}(),mh={};function wh(h){return function(e,t,i,a){d(t);var o=I(e),r=H(o),n=V(o.length),l=h?n-1:0,s=h?-1:1;if(i<2)for(;;){if(l in r){a=r[l],l+=s;break}if(l+=s,h?l<0:n<=l)throw TypeError("Reduce of empty array with no initial value")}for(;h?0<=l:l<n;l+=s)l in r&&(a=t(a,r[l],l,o));return a}}var Ch={left:wh(!1),right:wh(!0)}.left,kh=St("reduce"),Vh=De("reduce",{1:0});k({target:"Array",proto:!0,forced:!kh||!Vh},{reduce:function(e,t){return Ch(this,e,arguments.length,1<arguments.length?t:void 0)}});var Ih=_e("Array").reduce,Dh=Array.prototype,Th=function(e){var t=e.reduce;return e===Dh||e instanceof Array&&t===Dh.reduce?Ih:t},Sh=function(){et(o,ht.Data);var a=ot(o);function o(e,t){var i;return Je(this,o),(i=a.call(this)).init(e,t),i}return $e(o,[{key:"init",value:function(e,t){var i=e.getAttrObject(),a=i.dataSource,o=i.color,r=i.total,n=a[t],l=n.name,s=void 0===l?"":l,h=n.value,u=void 0===h?0:h,c=n.color;this.a({name:s,value:u,percent:u/r,color:void 0===c?o[t]:c})}},{key:"initNodeRect",value:function(e){var t=this.getDataModel();this._initItemRect(t,e),this._initDragIconRect(t)}},{key:"_initItemRect",value:function(e,t){var i=e.getAttrObject(),a=i.rect,o=i.barWidth,r=i.padding,n=i.totalWidth,l=this.getAttrObject().percent,s=a.x,h=a.y,u=a.height,c=t?t.a("itemRect"):null;this.a("itemRect",{x:c?c.x+c.width:s+r,y:h+(u-o)/2,width:l*n,height:o})}},{key:"_initDragIconRect",value:function(e){var t=e.getAttrObject(),i=t.rect,a=t.sliderWidth,o=t.sliderHeight,r=t.sliderOffsetX,n=t.sliderOffsetY,l=this.getAttrObject().itemRect,s=i.y,h=i.height,u=l.x,c=l.width;this.a("dragIconRect",{x:u+c-a/2+r,y:s+(h-o)/2+n,width:a,height:o})}}]),o}(),Lh=function(){et(t,ht.DataModel);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"init",value:function(){for(var e=this.a("dataSource"),t=0,i=e.length;t<i;t++){var a,o,r=e[t];r&&(a=r._uuid,this.tagMap[a]&&(a=Uo()),(o=this.getDataByTag(a))?o.init(this,t):(r._uuid=a=void 0===a?Uo():a,(o=new Sh(this,t)).setTag(a),this.add(o)),o.a("index")===t&&!this.hierarchyChanged||(this.moveTo(o,t),this.hierarchyChanged=!0),o.a({dataInfo:r,index:t}),this.tagMap[a]=!0)}for(var n=this.getDatas().toArray(),l=n.length-1;0<=l;l--)this.tagMap[n[l].getTag()]||this.remove(n[l])}},{key:"reset",value:function(e,t){var i=e.dataSource,a=e.total,o=e.padding;this.a(e),this.a({rect:t,totalWidth:t.width-2*o,leftValue:a-Th(i).call(i,function(e,t){return e+(t.value||0)},0)}),this.tagMap={},this.hierarchyChanged=!1}}]),t}(),Ah=ht.Default,Rh=Ah.drawRoundRect,Mh=Ah.getImage,Ph=Ah.drawStretchImage;var Bh=Math.max;function _h(e,t,i,a,o,r,n){var l;a&&(a.editing=!1,delete a.dom),o&&(l=wt(i.value),To(n)||(l=Math.min(l,n)),To(r)||(l=Math.max(l,r)),e.a(o,l)),e.iv(),ho(i)}var Oh=function(){function e(){Je(this,e)}return $e(e,[{key:"onClick",value:function(){}},{key:"onDoubleClick",value:function(){}},{key:"onDown",value:function(){}},{key:"onUp",value:function(){}},{key:"onMove",value:function(){}},{key:"onEnter",value:function(){}},{key:"onHover",value:function(){}},{key:"onLeave",value:function(){}},{key:"onBeginDrag",value:function(){}},{key:"onDrag",value:function(){}},{key:"onEndDrag",value:function(){}},{key:"onScroll",value:function(){}}]),e}(),Eh=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onLeave",value:function(e,t,i){So(i,"default")}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=o.rects,n=(o.dataSource,function(e,t){for(var i=e.length,a=0;a<i;a++)if(hr(e[a],t))return a}(r,Bo(i,t,this,a,e)));So(i,rr(n)?"pointer":"default"),o.hitIndex=n}},{key:"onDown",value:function(e,t,i){var a,o=ir(i,t,this),r=o.hitIndex,n=o.dataSource;rr(r)&&(!1===(a=n[r]).visible?a.visible=!0:a.visible=!1,t.iv())}}]),t}(),Wh=new(function(){function e(){Je(this,e),(this._container=document.createElement("div")).className="ht-vector-tooltip"}return $e(e,[{key:"show",value:function(e,t){if("number"==typeof e&&(e+=""),"string"==typeof e)this._container.innerHTML=e;else if(e.parentNode!==this._container){for(var i=this._container.children,a=i.length-1;0<=a;a--)ho(i[a]);this._container.appendChild(e)}this._container.parentNode||uo(this._container),this.update(t)}},{key:"update",value:function(e){var t=Jo(this._container),i=ht.Default.getWindowInfo(),a=this._container.style,o=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;a.pointerEvents="none",o=Math.max(0,o),r=Math.max(0,r),o+t.width>i.width&&(o=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=o+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){ho(this._container)}}]),e}()),Hh=ht.Default.containsPoint,jh=function(){et(x,Oh);var e=ot(x);function x(){return Je(this,x),e.call(this)}return $e(x,[{key:"onUp",value:function(){}},{key:"onMove",value:function(e,t,i,a){var o,r,n,l,s,h=Bo(i,t,this,a,e),u=ir(i,t,this),c=u.rectInfo,d=u.dragSliderDataModel,g=u.dragInfo,f=d.getAttrObject(),v=f.toolTipFormat,p=f.showToolTip,y=x.getLpInDragIconsRectInfo(h,c.dragIconsRect).dragSliderData;void 0===y&&g&&(y=g.dragNode),y?(So(i,"ew-resize"),p&&(r=(o=y.getAttrObject()).name,n=o.value,l=o.percent,s="名称:"+r+"<br>数值:"+n+"<br>百分比:"+Math.floor(100*l)/100,Wh.show(v?v(r,n,l):s,e))):(So(i,"default"),p&&Wh.hide())}},{key:"onEnter",value:function(){}},{key:"onLeave",value:function(){Wh.hide()}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r=Bo(i,t,this,a,e),n=ir(i,t,this),l=n.rectInfo.dragIconsRect,s=x.getLpInDragIconsRectInfo(r,l),h=s.dragSliderData,u=s.index;h&&(n.dragInfo={dragNode:h,dragNodeStartValue:h.a("value"),dragStartX:r.x},(o=l[u+1])&&(n.dragInfo.dragNextNode=o.dragSliderData,n.dragInfo.dragNextNodeStartValue=o.dragSliderData.a("value")))}},{key:"onDrag",value:function(e,r,n,t){var l,s,h,u,c,i,d,g,f,a,v,p,y=Bo(n,r,this,t,e),x=ir(n,r,this),o=x.dragSliderDataModel,b=x.dragInfo;!x._dragSliderTimer&&o&&b&&(l=b.dragNode,s=b.dragNodeStartValue,h=b.dragStartX,u=b.dragNextNode,c=b.dragNextNodeStartValue,i=o.getAttrObject(),d=i.total,g=i.totalWidth,f=i.step,a=i.leftValue,v=i.onChange,p=c||a,x._dragSliderTimer=Qt(function(){var e,t=(y.x-h)/g,i=d*t,a=i%f,o=Math.floor(i/f)*f+(f/2<=a?f:0);0<=o+s&&o<=p&&(l.a("dataInfo").value=s+o,u&&(u.a("dataInfo").value=c-o),"function"==typeof v&&(e=[l.a("dataInfo")],u&&e.push(u.a("dataInfo")),v(e,r,n)),r.iv()),delete x._dragSliderTimer},10))}},{key:"onEndDrag",value:function(e,t,i){var a=ir(i,t,this);a._dragSliderTimer&&(clearInterval(a._dragSliderTimer),delete a._dragSliderTimer),delete a.dragInfo}}],[{key:"getLpInDragIconsRectInfo",value:function(e,t){for(var i=t.length-1;0<=i;i--){var a=t[i],o=a.dragSliderData,r=a.dragIconRect;if(Hh(r,e))return{dragSliderData:o,dragIconRect:r,index:i}}return{}}}]),x}(),Nh=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onEnter",value:function(e,t,i){var a=ir(i,t,this);a.defaultCursor=i.getView().style.cursor,a.disabled?So(i,"not-allowed"):So(i,"text")}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,a.defaultCursor)}},{key:"onDown",value:function(e,o,r){var t,i,a,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I,D=ir(r,o,this);D.disabled||D.editing||(t=D.font,i=D.value,a=D.textAlign,n=D.maxLength,l=D.textColor,s=D.wordBreak,h=D.selectTextOnFocus,u=D.padding,c=D.onKeyDown,d=D.onKeyUp,g=D.onChange,f=D.lineHeight,p=(v=Sa("textarea")).style,y=ar(this,"value",o),b=(x=nt(Ta(u),4))[0],m=x[1],w=x[2],C=x[3],p.color=l,p.font=t,p.paddingTop=b+"px",p.paddingRight=m+"px",p.paddingBottom=w+"px",p.paddingLeft=2+C+"px",p.textAlign=a,p.resize="none",p.overflow="hidden",p.lineHeight=f+"px",p.wordBreak=s?"break-all":"keep-word",v.value=i||"",n&&v.setAttribute("maxlength",n),r.appendHTML(v),(k=tr(r,o,this,e))&&La(r,v,k),D.editing=!0,D.editingValue=i,D.inputDOM=v,o.iv(),V=function(){La(r,v,k)},I=function e(t){var i=Jo(v),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,a)||(t.preventDefault(),Do(o,0,v,D,y),r.ump(V),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))},D.handleWindowClick=I,Qt(function(){h&&v.addEventListener("focus",function(e){v.select()}),v.focus(),r.mp(V);var t=null;v.addEventListener("keydown",function(e){t&&clearTimeout(t),t=Qt(function(){D.editingValue=v.value,o.a(y,v.value)},10),9===e.keyCode&&(Do(o,0,v,D,y),r.getView().removeEventListener("mousedown",I),r.getView().removeEventListener("touchstart",I)),c&&c(e,o,r)}),(d||g)&&(v.addEventListener("keyup",function(e){d&&d(e,o,r),lo&&g&&g(v.value,o,r)}),lo||v.addEventListener("input",function(e){g&&g(v.value,o,r)})),r.getView().addEventListener("mousedown",I),r.getView().addEventListener("touchstart",I)},1))}},{key:"onDrag",value:function(e,t,i){var a=ir(i,t,this),o=ar(this,"value",t);a.editing&&a.inputDOM&&(Do(t,0,a.inputDOM,a,o),i.getView().removeEventListener("mousedown",a.handleWindowClick),i.getView().removeEventListener("touchstart",a.handleWindowClick))}}]),t}(),Fh=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onEnter",value:function(e,t,i){var a=ir(i,t,this);a.defaultCursor=i.getView().style.cursor,a.disabled?So(i,"not-allowed"):So(i,"text")}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,a.defaultCursor)}},{key:"onDown",value:function(e,o,r){var t,i,a,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I,D,T,S=ir(r,o,this);S.disabled||S.editing||(t=S.font,i=S.value,a=S.textAlign,n=S.maxLength,l=S.textColor,s=S.inputType,h=S.enterEndInputable,u=S.padding,c=S.onKeyDown,d=S.onKeyUp,g=S.onChange,f=S.selectTextOnFocus,v=o.getAnchorRect(),p=Sa(),y=l||Ia.textColor,x=p.style,b=ar(this,"value",o),w=(m=nt(Ta(u),4))[0],C=m[1],k=m[2],V=m[3],s&&(p.type=s),x.color=y,x.font=t,x.paddingTop=w+"px",x.paddingRight=C+"px",x.paddingBottom=k+"px",x.paddingLeft=2+V+"px",x.lineHeight=v.height+"px",x.textAlign=a,p.value=i||"",p.spellcheck=!1,n&&p.setAttribute("maxlength",n),r.appendHTML(p),(I=tr(r,o,this,e))&&La(r,p,I),S.editing=!0,S.editingValue=i,S.inputDOM=p,o.iv(),D=function(){La(r,p,I)},T=function e(t){var i=Jo(p),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,a)||(t.preventDefault(),Do(o,0,p,S,b),r.ump(D),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))},S.handleWindowClick=T,Qt(function(){f&&p.addEventListener("focus",function(e){p.select()}),p.focus(),r.mp(D);var t=null;p.addEventListener("keydown",function(e){t&&clearTimeout(t),t=Qt(function(){S.editingValue=p.value,o.a(b,p.value)},10),(9===e.keyCode||h&&ht.Default.isEnter(e))&&(Do(o,0,p,S,b),r.getView().removeEventListener("mousedown",T),r.getView().removeEventListener("touchstart",T)),c&&c(e,o,r)}),(d||g)&&p.addEventListener("keyup",function(e){d&&d(e,o,r),g&&g(p.value,o,r)}),r.getView().addEventListener("mousedown",T),r.getView().addEventListener("touchstart",T)},1))}},{key:"onDrag",value:function(e,t,i){var a=ir(i,t,this),o=ar(this,"value",t);a.editing&&a.inputDOM&&(Do(t,0,a.inputDOM,a,o),i.getView().removeEventListener("mousedown",a.handleWindowClick),i.getView().removeEventListener("touchstart",a.handleWindowClick))}}]),t}(),zh=ht.Default.containsPoint,Gh=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onEnter",value:function(e,t,i){var a=ir(i,t,this);a.defaultCursor=i.getView().style.cursor,a.disabled?So(i,"not-allowed"):So(i,"text")}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,a.defaultCursor)}},{key:"onDown",value:function(e,o,r,t){var n=ir(r,o,this),i=tr(r,o,this,e),a=n.buttonRects,l=n.onKeyDown,s=n.onKeyUp,h=n.onChange,u=n.min,c=n.max,d={x:t.x+i.rect.x,y:t.y+i.rect.y},g=a&&(zh(a[0],d)||zh(a[1],d));if(!n.disabled)if(n.editing||g){if(g){var f=n.step,v=ar(this,"value",o);if(!v)return;var p,y=n.dom&&n.dom.value||o.a(v)||u||0;zh(a[0],d)?(p=function(e,t){var i,a,o,r,n;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return r=Math.abs(i-a),o=Math.pow(10,Math.max(i,a)),t=0<r?(n=Math.pow(10,r),a<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))):(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))),(e+t)/o}(wt(y),f),To(c)||(p=Math.min(p,c))):(p=function(e,t){var i,a,o;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return((e*(o=Math.pow(10,Math.max(i,a)))-t*o)/o).toFixed(a<=i?i:a)}(wt(y),f),To(u)||(p=Math.max(p,u))),n.editing?(n.editingValue=n.dom.value=p,o.iv()):o.a(v,p),h&&y!==p&&h(p,o,r)}}else{var x=n.font,b=n.value,m=n.textAlign,w=n.maxLength,C=n.textColor,k=n.enterEndInputable,V=n.padding,I=n.selectTextOnFocus,D=o.getAnchorRect(),T=Sa(),S=C||Ia.textColor,L=T.style,A=ar(this,"value",o),R=nt(Ta(V),4),M=R[0],P=R[1],B=R[2],_=R[3];L.color=S,L.font=x,L.paddingTop=M+"px",L.paddingRight=P+"px",L.paddingBottom=B+"px",L.paddingLeft=2+_+"px",L.lineHeight=D.height+"px",L.textAlign=m,T.value=b||"",T.spellcheck=!1,w&&T.setAttribute("maxlength",w),r.appendHTML(T);var O=tr(r,o,this,e);O&&La(r,T,O),n.editing=!0,n.editingValue=b,n.dom=T,o.iv();var E=function(){La(r,T,O)},W=function e(t){var i=Jo(T),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,a)||(t.preventDefault(),_h(o,0,T,n,A,u,c),r.ump(E),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=W,Qt(function(){I&&T.addEventListener("focus",function(e){T.select()}),T.focus(),r.mp(E);var t=null;T.addEventListener("keydown",function(e){t&&clearTimeout(t),t=Qt(function(){var e;n.editingValue=T.value,A&&(e=wt(T.value),To(c)||(e=Math.min(e,c)),To(u)||(e=Math.max(e,u)),o.a(A,e))},10),(9===e.keyCode||k&&ht.Default.isEnter(e))&&(_h(o,0,T,n,A,u,c),r.getView().removeEventListener("mousedown",W),r.getView().removeEventListener("touchstart",W)),l&&l(e,o,r)}),T.addEventListener("keyup",function(e){s&&s(e,o,r),h&&h(wt(T.value),o,r)}),T.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",W),r.getView().addEventListener("touchstart",W)},1)}}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=tr(i,t,this,e),n=o.buttonRects,l={x:a.x+r.rect.x,y:a.y+r.rect.y},s="text";o.disabled?s="not-allowed":n&&(ht.Default.containsPoint(n[0],l)||ht.Default.containsPoint(n[1],l))&&(s="pointer"),So(i,s),o.dom&&(o.dom.style.cursor=s)}},{key:"onDrag",value:function(e,t,i){var a=ir(i,t,this),o=ar(this,"value",t);a.editing&&a.dom&&(_h(t,0,a.dom,a,o),i.getView().removeEventListener("mousedown",a.handleWindowClick),i.getView().removeEventListener("touchstart",a.handleWindowClick))}}]),t}(),Yh=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i){var a=ir(i,t,this);a.disabled||(a.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i){var a=ir(i,t,this);a.defaultCursor=i.getView().style.cursor,a.disabled?So(i,"not-allowed"):So(i,"pointer"),a.disabled||(a.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,a.defaultCursor||"default"),delete a.defaultCursor,a.hover=!1,t.iv()}}]),t}(),Xh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n=ir(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<a.x&&a.x<o&&0<a.y&&a.y<r&&l(e,t,i))}}]),t}(),Uh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l,s,h,u=ir(i,t,this),c=u.disabled,d=(u.pressed,ar(this,"checked",t)),g=ar(this,"group",t);c||(delete u.pressed,t.iv(),n=u.value,l=u.onChange,s=u.group,!t.a(d)&&0<a.x&&a.x<o&&0<a.y&&a.y<r&&(h=t.a(d),i&&i.dm()&&!h&&s&&i.dm().each(function(e){s===e.a(g)&&e.a(d,!1)}),t.a(d,!0),l&&l(void 0===n||n,t,i)))}}]),t}(),Zh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i){var a,o,r,n,l,s,h=ir(i,t,this);h.disabled||(delete h.pressed,a=h.value,o=h.onChange,r=h.group,h.checked,n=Io(i,t).vectorInfos,l=[],ka(n).call(n,function(e){e.__inputType===Ya&&e.group===r&&(e.checked&&(s=e.value),l.push(e))}),s!==a&&(ka(l).call(l,function(e){e.checked=!1}),h.checked=!0,o&&o(s,a,t,i)),t.iv())}}]),t}(),Kh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l,s,h,u=ir(i,t,this),c=u.disabled,d=u.pressed,g=ar(this,"checked",t),f=ar(this,"group",t),v=ar(this,"value",t);c||(t.a(d,!1),t.iv(),u.value,n=u.group,l=u.onChange,0<a.x&&a.x<o&&0<a.y&&a.y<r&&(s=t.a(g),t.a(g,!s),l&&(n?(h=[],i.dm().each(function(e){n===e.a(f)&&e.a(g)&&h.push(e.a(v))}),l(h,t,i)):l(!s,t,i))))}}]),t}(),qh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l=ir(i,t,this);l.disabled||(l.pressed=!1,t.iv(),n=ar(this,"value",t),0<a.x&&a.x<o&&0<a.y&&a.y<r&&yr(t,i,l,n))}}]),t}(),Jh=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l=ir(i,t,this);l.disabled||(n=ar(this,"value",t),0<a.x&&a.x<o&&0<a.y&&a.y<r&&xr(t,i,l,"a@"+n))}}]),t}(),Qh=function(){et(i,ht.graph.Interactor);var t=ot(i);function i(e){return Je(this,i),t.call(this,e)}return $e(i,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){var t,i;e.stopPropagation(),this.gv.isOnScrollBar(e)||(i=(t=this.gv).getDataAt(e))&&t.sm().ss(i)}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,a=t.getDataAt(e);a!==i&&(t._hoverData=a&&t.sm().contains(a)?null:a,t.redraw())}},{key:"handle_mouseleave",value:function(){var e=this.gv;e._hoverData&&(e._hoverData=null,e.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(){}}]),i}(),$h={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},eu=function(){et(r,ht.graph.GraphView);var o=ot(r);function r(e){var t,i;Je(this,r),(i=o.call(this,e)).setInteractors([new ht.graph.ScrollBarInteractor(at(i)),new Qh(at(i)),new ht.graph.DefaultInteractor(at(i)),new ht.graph.TouchInteractor(at(i),{editable:!1})]),i.addBottomPainter(wr(t=i.drawBottomPainter).call(t,at(i))),i.setAutoHideScrollBar(!1),i._nodes=[];var a=i.getView().style;return a.transition="all 0.2s",a.transitionOrigin="0 0",i}return $e(r,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),a=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=a?0:a<e?e:a}},{key:"handleScroll",value:function(e){var t=no?-e.detail:e.wheelDelta/40;!no&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){rt(tt(r.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1;this._lastWidth=this.getWidth();var i=this._iconHeight,a=this._iconWidth,o=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*a,l=.5*o;ka(r).call(r,function(e,t){e.setSize(a,i),e.p(n,l),l+=o})}},{key:"drawBottomPainter",value:function(i){var e,t,a,o,r,n=this,l=this._rowHeight,s=this.getWidth(),h=this._hoverData,u=this._dropBorderColor,c=this._dropBorderWidth;this.dm().toDatas(this.isVisible,this).each(function(e){var t;i.beginPath(),i.rect(0,e.p().y-l/2,s,l),n.isSelected(e)?(i.fillStyle=n.getActiveColor()||$h.baseColor,Ne(i).call(i)):e===h&&(i.fillStyle=n.getHoverBackground()||$h.hoverBackground,Ne(i).call(i)),u&&c&&(t=e.p().y+l/2-.5*c,i.beginPath(),i.moveTo(0,t),i.lineTo(s,t),i.strokeStyle=u,i.lineWidth=c,i.stroke())}),u&&c&&(t=(e=this.getViewRect()).x,a=e.y,o=e.width,r=e.height,i.strokeStyle=u,i.lineWidth=c,i.strokeRect(t+.5*c,a+.5*c,o-c,r-c))}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){rt(tt(r.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),a=this.getScrollBarSize(),o=this.lp(e);return ht.Default.isTouchable&&(a*=1.5),i.height>t.height&&o.x-t.x>t.width-a}}]),r}();bo(eu,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var tu=function(){et(h,eu);var s=ot(h);function h(e,t,i,a,o){var r,n;Je(this,h),(n=s.call(this)).setSelectionMode(o?za:Ga),n._master=e,n._masterGraph=t,n._vectorInfo=i,n._valueName=a,n._transition=!1,n._documentClickHandler=wr(r=n.documentClickHandler).call(r,at(n)),n._previousValue=null,n.dm().setAutoAdjustIndex(!1),n.setInteractors([new ht.graph.ScrollBarInteractor(at(n)),new ht.graph.MoveInteractor(at(n)),new ht.graph.DefaultInteractor(at(n)),new ht.graph.TouchInteractor(at(n))]);var l=n.getView().style;return l.height=0,l.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",fo(l,"transition","all 0.3s esse-in"),n.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&n.handleSelectData(e.data)}),n.sm().ms(function(e){n.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",n.getLabelColor(e))})}),n.mp(function(e){"background"===e.property&&(l.background=e.newValue)}),n.getView().addEventListener("mousemove",function(e){var t=n._hoverData,i=n.getDataAt(e);i!==t&&(n._hoverData=i&&n.sm().contains(i)?null:i,n.redraw())}),n._initStyleByMaster(),n}return $e(h,[{key:"_initStyleByMaster",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._vectorInfo;this.setIconHeight(t.dropIconWidth),this.setIconWidth(t.dropIconHeight),this.setRowHeight(t.dropRowHeight),this.setDropWidth(t.dropWidth),this.setBackground(t.dropBackground),this.setHoverBackground(t.dropHoverBackground),this.setActiveColor(t.dropActiveBackground),this.setDropLabelColor(t.dropLabelColor),this.setDropActiveLabelColor(t.dropActiveLabelColor),this.setDropLabelFont(t.dropLabelFont),this.setMaxHeight(t.dropMaxHeight),this.setDropBorderColor(t.dropBorderColor),this.setDropBorderWidth(t.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,a=i.onChange,o=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(o===Ga)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(o===Ga)t.a(this._valueName,n),t.a(Va.LABEL,this.__getLabel()),t.a(Va.ICON,e.a("icon"));else{var l=this._previousValue,s=i.maxSelection,n=[n];if(l&&jt(l).call(l,n[0])<0)n=Ke(l).call(l,n);else if(l)return;0<s&&n.length>s&&n.shift(),t.a(this._valueName,n)}a&&a(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){za!==e&&Ga!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,a=this.dm();a.clear(),e&&e.length&&(ka(e).call(e,function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),a.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),a=e.getSelectionMode();if(Ga===a)return 0===i.size()?null:this.getNodeValue(i.get(0));if(za!==a)return null;var o=[];return i.each(function(e){o.push(t.getNodeValue(e))}),o}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),a=e.getSelectionMode();if(Ga===a)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(za!==a)return null;var o=[];return i.each(function(e){o.push(t.getNodeLabel(e))}),o}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),a=this.getDropWidth(),o=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),rr(r)?Oo(r)?r.length&&ka(r).call(r,function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(a),this.setHeight(o),fo(t,"transform","scaleY(0)"),uo(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){fo(t,"transform","scaleY(1)"),Qt(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)}),Qo(this)}},{key:"layoutByMaster",value:function(){this._master;var e=this._masterGraph,t=Jo(e.getView()),i=Ro(this._vectorInfo.comp,this._master,this._masterGraph),a=ht.Default.getWindowInfo(),o=this.getView().style,r=this.getDropWidth(),n=this.getDropHeight();i.x+=t.x,i.y+=t.y;var l=Math.max(0,i.x),s=i.y+i.height,h="50% 0";s+n>a.height&&s-i.height>n&&(s=s-n-i.height,h="50% 100%"),l+r>a.width&&(l=a.width-r),o.left=l+"px",o.top=s+"px",fo(o,"transformOrigin",h)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e,t,i=this;this._transition||(t=(e=this.getView()).style,this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),fo(t,"transform","scaleY(0)"),Qt(function(){ho(e),i._transition=!1,i.setOpened(!1)},301),$o(this))}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,a=Ro(this._vectorInfo.comp,t,i);ht.Default.containsPoint(a,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return rt(tt(h.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),h}();function iu(e,t,i,a,o){var r=i.dropDown;r||((r=new tu(e,t,i,a,o)).getView().className="ht-vector-dropdown",i.dropDown=r,Qo(r)),r._transition||(r.isOpened()||(r.setData(i.dataSource),r._initStyleByMaster(i)),r.toggle())}bo(tu,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:$h.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:$h.inputTextColor});function au(e,t,i,a,o){var r=ir(i,t,a),n=r.rowLineWidth,l=void 0===n?0:n,s=r.columnLineWidth,h=void 0===s?0:s,u=r.rowHeights,c=r.colWidths,d=r.headHeight,g=r.translateY,f=r.translateX,v=null,p=null;if(0<(g=Math.floor(o.y-g-d))&&u&&u.length){for(var y=v=0;v<u.length&&!(g<(y+=u[v]+l));v++);v===u.length&&(v=null)}if(0<(f=Math.floor(o.x-f))&&c&&c.length){for(var x=p=0;p<c.length&&!(f<(x+=c[p]+h));p++);p===c.length&&(p=null)}return{row:v,col:p}}function ou(e,t,i,a,o){var r,n=t.max,l=t.min,s=t.step,h=n-l,u=t.value,c=(i.x-a.x)/a.width*h+l,d=t.onChange,g=ar(t.comp,"value",e);c=Math.min(n,c),c=Math.max(l,c),s&&(c=c-(r=c%s)+(Math.abs(r)>s/2)*(r<0?-s:s)),e.a(g,c),d&&d(u,c,e,o)}function ru(e,t,i,a,o,r){var n,l=t.max,s=t.min,h=t.step,u=l-s,c=(i.x-a.x)/a.width*u+s,d=t.value,g=d[0],f=d[1],v=ar(t.comp,"value",e),p=t.onChange;c=Math.min(l,c),c=Math.max(s,c),h&&(c=c-(n=c%h)+(Math.abs(n)>h/2)*(n<0?-h:h));var y,x,b=null;return b=t.dragging?(y=t.dragging)<=c?[y,c]:[c,y]:(x=Math.abs(g-c),Math.abs(f-c)<=x?[g,c]:[c,f]),r||e.a(v,b),p&&p(d,b,e,o),c}function nu(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var a=nt(t[i].rect,4),o=a[0],r=a[1],n=a[2],l=a[3];if(ht.Default.containsPoint({x:o,y:r,width:n,height:l},e))return t[i].value}}function lu(e,t,i,a){if(e){var o=e.x,r=e.y,n=e.width,l=e.height,s=e.boundWidth,h=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<h){var c=l/h;if(vu({x:o+n-u,y:r-i*c,width:u,height:l*c},a))return 1}if(n<s-2){var d=n/s;if(vu({x:o-t*d,y:r+l-u,width:n*d,height:u},a))return 1}}else;}function su(e,t,i,a){if(e){var o=e.x,r=e.y,n=e.width,l=e.height,s=e.boundWidth,h=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<h){var c=l/h;if(yu({x:o+n-u,y:r-i*c,width:u,height:l*c},a))return 1}if(n<s-2){var d=n/s;if(yu({x:o-t*d,y:r+l-u,width:n*d,height:u},a))return 1}}else;}var hu=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l=ir(i,t,this);l.disabled||(l.pressed=!1,t.iv(),n=ar(this,"value",t),0<a.x&&a.x<o&&0<a.y&&a.y<r&&iu(t,i,l,n))}},{key:"onDrag",value:function(e,t){var i=t.__dropDown;i&&i._opened&&i.layoutByMaster()}}]),t}(),uu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i,a,o,r){if(!pn(this,t,i,a,o,r,!0,e)){var n,l,s,h,u,c,d,g,f,v,p,y=ir(i,t,this),x=y.hoverIndex,b=y.multiple,m=y.onClickCell,w=y.onClickHeadCell,C=y.bodyRect,k=y.headRect,V=y.headHeight,I=y.onClickCellImage,D=Bo(i,t,this,a,e),T=ar(this,"selectedIndex",t),k=k&&er(k),C=C&&er(C);if(!To(x)){var S=y.dataSource||[],L=y.onSelectRow,A=y.selectedIndex;if(S&&S[x]){if(b)if(A="number"==typeof A?[A]:null==A?[]:Kt(A).call(A,0),ht.Default.isCtrlDown()){var R=jt(A).call(A,x);0<=R?We(A).call(A,R,1):A.push(x)}else if(ht.Default.isShiftDown()&&0<A.length){var M=A[A.length-1];if(M<x)for(var P=M+1;P<=x;P++)jt(A).call(A,P)<0&&A.push(P);else if(x<M)for(var B=M-1;x<=B;B--)jt(A).call(A,B)<0&&A.push(B)}else A=[x];else A=[x];T&&t.a(T,A),L&&hr(C,D)&&L(S[x],t,i)}}if(w&&V&&k&&To(y.resizeColIndex)&&hr(k,D))for(var _=y.rawCols,O=y.colWidths,E=y.headHeight,W=y.rawColIndexs,H=k.x,j=0;j<O.length;j++){var N={x:H,y:k.y,width:O[j],height:E};if(hr(N,D)){w(e,_[j],W[j],t,i);break}H+=O[j]}if(m&&(n=y.colWidths,l=y.rowHeights,s=y.columns,h=y.dataSource,u=y.rawColIndexs,d=y.rawIndexs[(c=au(0,t,i,this,a)).row],null!=(g=u[c.col])&&null!=d&&c.row<=l.length&&c.col<=n.length&&s&&h&&s[g].key&&(f=s[g],p=(v=h[d])[f.key],f.format&&(p=f.format(p,v,d,g)),m(e,p,v,f,d,g,t,i))),I){var F=y.drawCellImageInfo,z=void 0===F?[]:F,G=y.columns,Y=y.dataSource,X=y.rawColIndexs,U=y.rawIndexs;if(0<z.length)for(var Z=au(0,t,i,this,a),K=U[Z.row],q=X[Z.col],J=0,Q=z.length;J<Q;J++){var $=z[J].rect;if(hr($,D)){I(e,z[J],Y[K],G[q],K,q,t,i);break}}}}}},{key:"onMove",value:function(e,t,i,a,o,r){var n=ir(i,t,this),l=n.rowHeights,s=n.colWidths,h=n.hoverIndex,u=n.columns,c=n.rawDatas,d=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,y=n.bodyRect,x=au(0,t,i,this,a),b=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=x.row,C=x.col,k=Bo(i,t,this,a,e);if(!n._scrollDragInfo&&d&&c){p=p&&er(p),y=er(y);var V,I,D,T,S,L=n.onClickCellImage,A=n.drawCellImageInfo,R=void 0===A?[]:A;if(L&&0<R.length){for(var M=0,P=R.length;M<P;M++){var B=R[M].rect;if(hr(B,k)){So(i,"pointer");break}}M===P&&So(i,"default")}if(hr(y,k)&&n.autoHideScrollBar&&b&&(b.scrollBarX&&a.y>r-m||b.scrollBarY&&a.x>o-m))return n.scrollBarVisible=!0,t.iv(),void wn(t,n);if(hr(y,k)?(f&&(null!=C&&null!==w&&w<=l.length&&C<=s.length&&u&&c&&u[C].key?(V=u[C],I=c[w],D=d[w],T=g[C],S=I[V.key],V.format&&(S=V.format(S,I,D,T)),f(e,S,I,V,D,T,t,i)):f(e,null,null,null,null,null,t,i)),h!==d[w]&&(n.hoverIndex=d[w],t.iv())):rr(n.hoverIndex)&&(n.hoverIndex=null,t.iv()),p&&!n.resizeBeginPoint&&v&&hr(p,k)){for(var _,O=n.resizeRects,E=0;E<O.length;E++)if(hr(O[E],k)){_=E;break}n.resizeColIndex=_,rr(_)?So(i,"ew-resize"):So(i,"default")}}}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);a.hoverIndex=null,t.iv();var o=a.onHoverCell;o&&o(e,null,null,null,null,null,t,i),So(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,a,o,r){yn.apply(this,arguments);var n,l,s,h=ir(i,t,this);rr(h.resizeColIndex)&&(n=h.colWidths,l=h.rawColIndexs,s=h.rawCols,h.resizeSourceWidth=n[l[h.resizeColIndex]],h.resizeBeginPoint=a,ka(s).call(s,function(e,t){e.width=n[t]}))}},{key:"onDrag",value:function(e,t,i,a,o,r){var n=ir(i,t,this),l=n.resizeBeginPoint;if(l){var s=n.rawCols,h=n.rawColIndexs,u=n.resizeColIndex,c=n.resizeSourceWidth,d=n.resizeRects,g=s[h[u]],f=a.x-l.x,v=d[u],p=v.x,y=v.y,x=v.width;v.height;return n.resizeDragPoint={x:p+x/2,y:y},g.width=Math.max(c+f,1),void t.iv()}xn.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,a,o,r){bn.apply(this,arguments);var n,l,s,h=ir(i,t,this);h.resizeBeginPoint&&(n=ar(this,"translateX",t),t.a(n),l=h.colWidths,s=0,ka(l).call(l,function(e){s+=e}),delete h.resizeBeginPoint,delete h.resizeDragPoint,delete h.resizeColIndex,s<o?t.a(n,0):t.iv())}},{key:"onScroll",value:function(e,t,i,a,o,r){mn.apply(this,arguments)}}]),t}(),cu=ht.Default.containsPoint,du=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i,a){var o,r,n=ir(i,t,this);n.disabled||(o=Ao(n.barRect,2),r=Bo(i,t,this,a,e),cu(o,r)&&ou(t,n,r,n.barRect,i))}},{key:"onMove",value:function(e,t,i,a){var o,r=ir(i,t,this),n=Ao(r.sliderRect,2),l=r.showToolTip,s=r.toolTipFormat,h=ar(this,"value",t),u=Bo(i,t,this,a,e);cu(n,u)&&l?(o=t.a(h),o=To(o)?"0":o+"",Wh.show(s?s(o):o,e)):this.dragging||Wh.hide()}},{key:"onEnter",value:function(e,t,i){ir(i,t,this).disabled?So(i,"not-allowed"):So(i,"pointer")}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,"default"),a.dragging||Wh.hide()}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r,n=ir(i,t,this);n.disabled||(o=Ao(n.sliderRect,2),r=Bo(i,t,this,a,e),cu(o,r)&&(n.dragging=!0))}},{key:"onDrag",value:function(e,t,i,a){var o,r,n,l,s,h=ir(i,t,this);h.dragging&&(o=Bo(i,t,this,a,e),r=h.barRect,ou(t,h,o,r,i),n=h.showToolTip,l=h.toolTipFormat,s=h.value,n&&Wh.show(l?l(s):s,e))}},{key:"onEndDrag",value:function(e,t,i){delete ir(i,t,this).dragging,Wh.hide()}}]),t}(),gu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s=ir(i,t,this);s.disabled||(o=Ao(s.barRect,2),r=s.valueBarRect,n=s.valueBarDraggable,l=Bo(i,t,this,a,e),n&&ht.Default.containsPoint(r,l)||ht.Default.containsPoint(o,l)&&ru(t,s,l,s.barRect,i))}},{key:"onMove",value:function(e,t,i,a){var o,r,n,l,s,h,u=ir(i,t,this);u&&u.sliderRect&&u.sliderRect2&&(o=Ao(u.sliderRect,2),r=Ao(u.sliderRect2,2),n=u.showToolTip,l=u.toolTipFormat,s=u.value,h=Bo(i,t,this,a,e),ht.Default.containsPoint(o,h)&&n?Wh.show(l?l(s[0]):s[0],e):ht.Default.containsPoint(r,h)&&n?Wh.show(l?l(s[1]):s[1],e):this.dragging||Wh.hide())}},{key:"onEnter",value:function(e,t,i){ir(i,t,this).disabled?So(i,"not-allowed"):So(i,"pointer")}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,"default"),a.dragging||Wh.hide()}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r,n,l,s,h,u=ir(i,t,this);u.disabled||(Ao(u.barRect,2),o=Ao(u.sliderRect,2),r=Ao(u.sliderRect2,2),n=Ao(u.valueBarRect,2),l=u.value,s=u.valueBarDraggable,h=Bo(i,t,this,a,e),ht.Default.containsPoint(o,h)?u.dragging=l[1]:ht.Default.containsPoint(r,h)?u.dragging=l[0]:s&&ht.Default.containsPoint(n,h)&&(u.draggingValueBar=ru(t,u,h,u.barRect,i,!0)))}},{key:"onDrag",value:function(e,t,i,a){var o,r,n,l,s,h,u,c,d,g,f=ir(i,t,this),v=f.showToolTip,p=f.toolTipFormat,y=f.barRect,x=Bo(i,t,this,a,e);void 0!==f.dragging?(o=ru(t,f,x,y,i),v&&Wh.show(p?p(o):o,e)):void 0!==f.draggingValueBar&&(r=f.draggingValueBar,l=(n=ru(t,f,x,y,i,!0))-r,s=f.value,h=f.min,u=f.max,c=[s[0]+l,s[1]+l],d=ar(this,"value",t),c[0]<h?c=[h,h+(s[1]-s[0])]:c[1]>u&&(c=[u-(s[1]-s[0]),u]),f.draggingValueBar=n,t.a(d,c),v&&(g=c.join(","),p&&(g=Us(c).call(c,function(e){return p(e)}).join(", ")),Wh.show(g,e)))}},{key:"onEndDrag",value:function(e,t,i){var a=ir(i,t,this);delete a.dragging,delete a.draggingValueBar,Wh.hide()}}]),t}(),fu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h,u,c=ir(i,t,this),d=ar(this,"value",t);!c.disabled&&d&&((o=c.dropDown)&&o.isOpened()?o.close():(n=(r=c.value)?Kt(r).call(r,0):null,l=c.valueItemInfo,(s=nu(a,l))&&r&&0<=jt(r).call(r,s)&&(h=jt(r).call(r,s),We(r).call(r,h,1),u=Kt(r).call(r,0),t.a(d,u),c.onChange&&c.onChange(n,u,t,i),So(i,"default"),this._hitValue=r)))}},{key:"onUp",value:function(e,t,i,a,o,r){var n,l=ir(i,t,this);l.disabled||(this._hitValue?delete this._hitValue:(n=ar(this,"value",t),0<a.x&&a.x<o&&0<a.y&&a.y<r&&iu(t,i,l,n,!0)))}},{key:"onMove",value:function(e,t,i,a){var o,r=ir(i,t,this);r.disabled?So(i,"not-allowed"):(o=r.valueItemInfo,nu(a,o)?(this._oldCursor=i.getView().style.cursor,So(i,"pointer")):So(i,"default"))}},{key:"onEnter",value:function(e,t,i){var a=ir(i,t,this);a.disabled?So(i,"not-allowed"):So(i,"pointer"),a.disabled}},{key:"onLeave",value:function(e,t,i){So(i,"default")}}]),t}(),vu=ht.Default.containsPoint,pu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDoubleClick",value:function(e,t,i,a,o,r){var n=Bo(i,t,this,a,e),l=ir(i,t,this),s=l.treeTableDataModel,h=l.scrollBarInfo,u=l.translateX,c=l.translateY,d=l.isScrollBarDragging,g=l.rectInfo;if(s)if(d)l.isScrollBarDragging=!1;else if(!lu(h,u,c,n)&&g){var f=g.togglesRect;if("doubleClickRow"===s.a("expandMode")&&s.onClickToggle(arguments,n,f))return}}},{key:"onClick",value:function(e,t,i,a,o,r){var n=Bo(i,t,this,a,e),l=ir(i,t,this),s=l.treeTableDataModel,h=l.scrollBarInfo,u=l.translateX,c=l.translateY,d=l.isScrollBarDragging,g=l.rectInfo;if(s)if(d)l.isScrollBarDragging=!1;else if(!lu(h,u,c,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect,y=g.badgesRect;if(s.onClickBadge(arguments,n,y))return;if(s.onClickCheck(arguments,n,v))return;if("doubleClickRow"!==s.a("expandMode")&&s.onClickToggle(arguments,n,f))return;if(s.onClickVisibleRow(arguments,n,p,l))return;s.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,a,o,r){var n,l=Bo(i,t,this,a,e),s=ir(i,t,this),h=s.treeTableDataModel,u=s.scrollBarInfo,c=s.translateX,d=s.translateY,g=s.isScrollBarDragging,f=s.rectInfo,v=s.preHoverNode;h&&(g||(lu(u,c,d,l)?v&&(v.a("disabled")&&So(i,"default"),v.a("_isHovering",!1),t.iv()):f&&(n=f.visibleRowsRect,h.onHoverRow(arguments,l,n,v,s))))}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this),o=a.preHoverNode;o&&(So(i,"default"),o.a("_isHovering",!1),delete a.preHoverNode,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,a,o,r){var n=Bo(i,t,this,a,e),l=ir(i,t,this),s=l.scrollBarInfo,h=l.translateX,u=l.translateY;lu(s,h,u,n)&&(l.isScrollBarDragging=!0),yn.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,a,o,r){xn.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,a,o,r){var n=ir(i,t,this);n&&(n.isScrollBarDragging=!1),bn.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,a,o,r){mn.apply(this,arguments)}}]),t}(),yu=ht.Default.containsPoint,xu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(e,t,i,a,o,r){var n=Bo(i,t,this,a,e),l=ir(i,t,this),s=l.treeTableDataModel,h=l.scrollBarInfo,u=l.translateX,c=l.translateY,d=l.isScrollBarDragging,g=l.rectInfo;if(s)if(d)l.isScrollBarDragging=!1;else if(!su(h,u,c,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect;if(s.onClickHeadCell(arguments,n))return;if(s.onClickCheck(arguments,n,v))return;if(s.onClickToggle(arguments,n,f))return;if(s.onClickVisibleRow(arguments,n,p,l))return;s.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,a,o,r){var n,l=Bo(i,t,this,a,e),s=ir(i,t,this),h=s.treeTableDataModel,u=s.scrollBarInfo,c=s.translateX,d=s.translateY,g=s.isScrollBarDragging,f=s.rectInfo,v=s.preHoverNode;if(h&&!g)if(su(u,c,d,l))v&&(v.a("disabled")&&So(i,"default"),v.a("_isHovering",!1),t.iv());else{f&&(n=f.visibleRowsRect,h.onHoverRow(arguments,l,n,v,s));var p=!1;if(h.a("headLineDraggable")){for(var y=h.a("columnLinesRect"),x=0,b=y.length;x<b;x++)if(yu(y[x],l)){So(i,"ew-resize"),p=!0;break}x===b&&So(i,"default")}h.a("headDraggable")&&!p&&yu(h.a("headRect"),l)&&So(i,"pointer")}}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this),o=a.preHoverNode;o&&(o.a("_isHovering",!1),delete a.preHoverNode,t.iv()),So(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,a,o,r){var n=Bo(i,t,this,a,e),l=ir(i,t,this),s=l.treeTableDataModel,h=l.scrollBarInfo,u=l.translateX,c=l.translateY;if(su(h,u,c,n)&&(l.isScrollBarDragging=!0),yn.apply(this,arguments),s){if(s.a("headLineDraggable"))for(var d=s.a("columnLinesRect"),g=0,f=d.length;g<f;g++)if(yu(d[g],n))return l.dragColumnLineIndex=g,void(l.columnLineBegingDragX=n.x);if(s.a("headDraggable"))for(var v=s.a("columnsRect"),p=0,y=v.length;p<y;p++)if(yu(v[p],n))return l.dragStartColumnIndex=p,void(l.dragStartColumnBeginDragX=n.x)}}},{key:"onDrag",value:function(e,h,t,i,a,o){var u=Bo(t,h,this,i,e),c=ir(t,h,this),d=c.treeTableDataModel,r=c.dragColumnLineIndex,n=c.columnLineBegingDragX,g=c.dragStartColumnBeginDragX,l=c.dragStartColumnIndex;if(xn.apply(this,arguments),d){if(d.a("headLineDraggable")){if(c._dragColumnLineTimer)return;c._dragColumnLineTimer=Qt(function(){void 0!==r&&(c.dragColumnLineDistance=u.x-n,h.iv()),delete c._dragColumnLineTimer},10)}if(void 0===r&&d.a("headDraggable")&&void 0!==l){if(c._dragColumnTimer)return;c._dragColumnTimer=Qt(function(){for(var e=d.a("columnsRect"),t=0,i=e.length;t<i;t++){var a=e[t];if(yu(a,u)){var o=a.x,r=a.y,n=a.width,l=a.height,s=d.a("columnLineWidth");u.x<o+n/2?(c.dragColumnLineRect={x:o-s,y:r,width:s,height:l},c.dragColumnDirection="left"):(c.dragColumnLineRect={x:o+n,y:r,width:s,height:l},c.dragColumnDirection="right"),c.dragEndColumnIndex=t,c.dragColumnDistance=u.x-g,h.iv();break}}delete c._dragColumnTimer},10)}}}},{key:"onEndDrag",value:function(e,t,i,a,o,r){var n,l,s,h,u=ir(i,t,this),c=u.treeTableDataModel,d=u.dragColumnLineIndex,g=u.dragColumnLineDistance,f=(u.columnLineBegingDragX,u.dragStartColumnIndex),v=u.dragEndColumnIndex,p=u.dragColumnDirection;if(u&&(u.isScrollBarDragging=!1),bn.apply(this,arguments),c){if(c.a("headLineDraggable")&&(n=c.a("dragColumnsLineDiff")||{},l=c.a("colWidths"),s=c.a("defColWidths"),h=c.a("visibleColumns"),void 0!==d&&void 0!==g&&(n[h[d].key]=l[d]-s[d],c.a("dragColumnsLineDiff",n))),void 0!==d)return u._dragColumnLineTimer&&(clearTimeout(u._dragColumnLineTimer),delete u._dragColumnLineTimer),delete u.dragColumnLineIndex,delete u.dragColumnLineDistance,void delete u.columnLineBegingDragX;c.a("headDraggable")&&(void 0!==f&&void 0!==v&&((f===v?1:v-f==-1&&"right"===p?1:v-f==1&&"left"===p?1:0)||c.a("dragColumnsInfo",{dragStartColumnIndex:f,dragEndColumnIndex:v}),t.iv()),u._dragColumnTimer&&(clearTimeout(u._dragColumnTimer),delete u._dragColumnTimer),delete u.dragStartColumnIndex,delete u.dragEndColumnIndex,delete u.dragColumnLineRect,delete u.dragColumnDirection,delete u.dragStartColumnBeginDragX,delete u.dragColumnDistance)}}},{key:"onScroll",value:function(e,t,i,a,o,r){mn.apply(this,arguments)}}]),t}(),bu=10,mu=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(d,e,t){var g,i,f,v,p,r=t.getValue("labelFont"),y=t.getValue("labelColor"),x=t.getValue("itemFont"),b=(t.getValue("itemColor"),t.getValue("itemIconSize")),a=t.getValue("info");a&&(ht.Default.isArray(a)||(a=[a]),g=e.x,i=e.y,e.width,e.height,v=f=0,p=i,ka(a).call(a,function(e,t){var i,a=e.label,o=e.datas,c=e.colors;0<t&&(p+=8,f+=8),a&&(i=co(r,a),f+=i.height,v=i.width,ht.Default.drawText(d,a,r,y,g,p,i.width,i.height,"left"),p+=i.height+2),ka(o).call(o,function(e,t){var i,a=nt(e,3),o=a[0],r=a[1],n=a[2],l=null!=o?Ke(i="".concat(o,"：")).call(i,r):r,s=co(x,l);f+=s.height+2,v=Math.max(v,s.width+b+3);var h,u=g;ht.Default.isEmptyObject(c)||(h=b/2,n=n||c[t],n=Ko(d,n,{x:h,y:p,width:2*h,height:2*h}),d.fillStyle=n||c[t],d.beginPath(),d.moveTo(h,p+h),d.arc(h,p+h,h,0,2*Math.PI),Ne(d).call(d),u+=3+b),ht.Default.drawText(d,l,x,y,u,p,s.width,s.height,"left"),p+=s.height+2})}),mu=f,bu=v)},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});function wu(e,t){for(var i=0;i<e.length;i++){var a=e[i],o=a.rect,r=a.index;if(ht.Default.containsPoint(o,t))return r}}var Cu=function(){et(a,ht.graph.GraphView);var i=ot(a);function a(){var e;Je(this,a),(e=i.call(this)).getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(bu),e.setHeight(mu),e}return $e(a,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===bu&&this.getHeight()===mu||(this._tipNode.setWidth(bu),this._tipNode.setHeight(mu),this.setWidth(bu),this.setHeight(mu),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),a}(),ku=new Cu,Vu=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onDown",value:function(){}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=o.ui,n=o.option;if(n&&r&&(o._moveTimer&&clearTimeout(o._moveTimer),n&&n.tooltip.show&&!o._dragging)){var l=r.interactiveInfo,s=r.bounds.bodyRect,h=l.axisInfos,u=Bo(i,t,this,a,e),c=n.tooltip.formatter;if(hr(s,u)&&h.length){for(var d,g,f,v,p=r.valueAxis===Ua?u.y:u.x,y=1/0,x=h[0],b=0;b<x.length;b++){var m=Math.abs(x[b].position-p);m<y&&(y=m,d=b)}x[d]&&(f=[],v=Kt(g=r.seriesColors).call(g,0),ka(h).call(h,function(e){var t=e[d];f.push({label:t.label,datas:t.series,colors:We(v).call(v,0,t.series.length)})}),f=_o(f),c&&c(f,t,i),ku.setInfo(f),Wh.show(ku.getView(),e)),o.hoverIndex!==d&&(o.hoverIndex=d,t.iv())}else delete o.hoverIndex,t.iv(),Wh.hide()}}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);void 0!==a.hoverIndex&&(delete a.hoverIndex,t.iv(),Wh.hide())}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r,n=tr(i,t,this,e),l=ir(i,t,this),s=l.option,h=l.ui;l&&s&&s.onRectSelected&&(void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),Wh.hide()),o=h.bounds.bodyRect,r={x:a.x+n.rect.x,y:a.y+n.rect.y},hr(o,r)&&(l._dragging=!0,l.rectPoint1=r))}},{key:"onDrag",value:function(e,t,i,a){var o,r,n=tr(i,t,this,e),l=ir(i,t,this);l&&l._dragging&&(o=l.ui.bounds.bodyRect,r={x:a.x+n.rect.x,y:a.y+n.rect.y},l.rectPoint2=Yo(o,r),t.iv())}},{key:"onEndDrag",value:function(e,t,i){var g,a,o,r,h,n,l,f,v,s=ir(i,t,this);s&&s._dragging&&(g=s.ui,a=s.option,o=g.rectPoint1,r=g.rectPoint2,h=g.valueAxis,n=a.xAxis,l=a.yAxis,f=sr(o,r),delete s._dragging,delete s.rectPoint1,delete s.rectPoint2,t.iv(),v={x:[],y:[]},ka(n).call(n,function(e){var t,i,a,o,r,n,l,s,h,u,c=e.type,d=[];v.x.push(d),Ka===c?(t=g.interactiveInfo).axisInfos&&t.axisInfos.length&&ka(i=t.axisInfos[0]).call(i,function(e,t){e.position>f.x&e.position<f.x+f.width&&d.push(t)}):qa!==c||(a=e._axisObj.timeRange)&&(r=(o=nt(a,2))[0],l=(n=o[1])-r,s=g.bounds.bodyRect,h=Math.floor((f.x-s.x)/s.width*l+r),u=Math.floor((f.x-s.x+f.width)/s.width*l+r),h=Math.max(h,r),u=Math.min(u,n),d.push(h),d.push(u))}),ka(l).call(l,function(e){var t,i,a,o,r,n,l,s=[];v.y.push(s),Za===h&&(i=(t=nt(e._axisObj.zoomValueRange,2))[0],o=(a=t[1])-i,n=((r=g.bounds.bodyRect).height-f.height-f.y+r.y)/r.height*o+i,l=(r.height-f.y+r.y)/r.height*o+i,n=Math.max(n,i),l=Math.min(l,a),s.push(n),s.push(l))}),a.onRectSelected(v,t,i))}}]),t}(),Iu=function(){et(t,Yh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onUp",value:function(e,t,i,a,o,r){var n,l,s,h,u,c,d=ir(i,t,this);d.disabled||(n=ar(this,"value",t),0<a.x&&a.x<o&&0<a.y&&a.y<r&&(l=t,s=i,u="a@"+n,(c=(h=d).dropDown)||(l.getFormat=function(){return l.a(Va.FORMAT)},c=new Ir(l,s,h,u),h.dropDown=c),c.open()))}}]),t}(),Du=_e("Array").values,Tu=Array.prototype,Su={DOMTokenList:!0,NodeList:!0},Lu=function(e){var t=e.values;return e===Tu||e instanceof Array&&t===Tu.values||Su.hasOwnProperty($i(e))?Du:t},Au=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.apply(this,arguments)}return $e(t,[{key:"onEnter",value:function(e,t,i){var a="pointer";ir(i,t,this).disabled&&(a="not-allowed"),So(i,a)}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,"default"),a.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=o.buttonRects,n=(Lu(o),o.disabled),l=Bo(i,t,this,a,e),s=null;n||(r&&(s=wu(r,l)),s!==o.hoverIndex&&(o.hoverIndex=s,t.iv()))}},{key:"onDown",value:function(e,t,i,a){var o,r,n=ir(i,t,this),l=n.buttonRects,s=Lu(n),h=n.disabled,u=n.onChange,c=Bo(i,t,this,a,e),d=ar(this,"value",t),g=null;!h&&d&&(l&&(g=wu(l,c)),(o=To(g)?null:s[g])!==(r=t.a(d))&&(t.a(d,o),u&&u(r,o,t,i)))}}]),t}(),Ru=Math.PI,Mu=Math.pow,Pu=Math.sin,Bu={swing:function(e){return-Math.cos(e*Ru)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-(Mu(2,10*--e)*Pu(2*Ru*(e-.075)/.3))},elasticOut:function(e){return 0===e||1===e?e:Mu(2,-10*e)*Pu(2*Ru*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Mu(2,10*--e)*Pu(2*Ru*(e-.1125)/.45)*-.5:Mu(2,-10*--e)*Pu(2*Ru*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,i=e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375;return i},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},_u=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.apply(this,arguments)}return $e(t,[{key:"onDown",value:function(e,t,i,a){var o,r,n,l=ir(i,t,this),s=Bo(i,t,this,a,e),h=l.itemInfos,u=l.index,c=l.animation,d=l.onClickItem,g=l.dataSource;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(hr(v.rect,s)){o=v.index;break}}!rr(o)||u===o||(r=ar(this,"index",t))&&(c?(l._animationObj&&l._animationObj.stop(),n=o-u,l._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Bu.easeOut,finishFunc:function(){delete l._animationObj},action:function(e){t.a(r,u+n*e)}})):t.a(r,o)),rr(o)&&d&&d(g[o],o,t,i)}},{key:"onEnter",value:function(){}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=Bo(i,t,this,a,e),n=o.itemInfos,l=!1;if(n&&n.length)for(var s=0;s<n.length;s++){var h=n[s];if(hr(h.rect,r)){l=!0;break}}So(i,l?"pointer":"default")}},{key:"onLeave",value:function(){}},{key:"onScroll",value:function(e,t,i){var a,o,r,n=ir(i,t,this),l=n.scrollable,s=n.index,h=n.dataSource,u=0<e.scrollDelta?1:-1;l&&(a=h.length,o=ar(this,"index",t),0<=(r=s+u)&&r<a&&t.a(o,r))}}]),t}(),Ou=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.apply(this,arguments)}return $e(t,[{key:"onDown",value:function(e,t,i,a){var o,r,n,l=ir(i,t,this),s=Bo(i,t,this,a,e),h=l.itemInfos,u=l.index,c=l.animation,d=l.onClickItem,g=l.dataSource;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(hr(v.rect,s)){o=v.index;break}}!rr(o)||u===o||(r=ar(this,"index",t))&&(c?(l._animationObj&&l._animationObj.stop(),n=o-u,l._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Bu.easeOut,finishFunc:function(){delete l._animationObj},action:function(e){t.a(r,u+n*e)}})):t.a(r,o)),rr(o)&&d&&d(g[o],o,t,i)}},{key:"onEnter",value:function(){}},{key:"onMove",value:function(e,t,i,a){var o=ir(i,t,this),r=Bo(i,t,this,a,e),n=o.itemInfos,l=!1;if(n&&n.length)for(var s=0;s<n.length;s++){var h=n[s];if(hr(h.rect,r)){l=!0;break}}So(i,l?"pointer":"default")}},{key:"onLeave",value:function(){}},{key:"onScroll",value:function(e,t,i){var a,o,r,n=ir(i,t,this),l=n.scrollable,s=n.index,h=n.dataSource,u=0<e.scrollDelta?1:-1;l&&(a=h.length,o=ar(this,"index",t),0<=(r=s+u)&&r<a&&t.a(o,r))}}]),t}(),Eu=[],Wu=Eu.sort,Hu=n(function(){Eu.sort(void 0)}),ju=n(function(){Eu.sort(null)}),Nu=St("sort");k({target:"Array",proto:!0,forced:Hu||!ju||!Nu},{sort:function(e){return void 0===e?Wu.call(I(this)):Wu.call(I(this),d(e))}});var Fu=_e("Array").sort,zu=Array.prototype,Gu=function(e){var t=e.sort;return e===zu||e instanceof Array&&t===zu.sort?Fu:t};k({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});function Yu(n,e){var t,i,a,o,r,l=e.data,s=e.view,h=Us(t=n.xAxis).call(t,function(e){return e._axisObj.boundHeight}),u=Us(i=n.yAxis).call(i,function(e){return e._axisObj.boundWidth}),c=2,d=e.leftAxis=[],g=e.rightAxis=[],f=e.topAxis=[],v=e.bottomAxis=[],p=0,y=0,x=0,b=0;ka(a=n.xAxis).call(a,function(e,t){e.show&&(e._axisObj.position===Ea?(x+=h[t],f.push(t)):(b+=h[t],v.push(t)))}),ka(o=n.yAxis).call(o,function(e,t){e.show&&(e._axisObj.position===Ha?(y+=u[t],g.push(t)):(p+=u[t],d.push(t)),c=Math.max(c,2+e._axisObj.labelHeight/2))}),x<c&&(x=c),b<c&&(b=c);var m,w,C=e.contentRect,k=0,V=0;e.valueAxis===Za&&ka(m=n.xAxis).call(m,function(e){var t,i,a,o,r,n;e.axisLabel.show&&e.data?(i=(t=co(e.axisLabel.font,e.data[0])).width/2,V<i&&(V=i),t=co(e.axisLabel.font,e.data[e.data.length-1]),k=Math.max(t.width/2,k)):e.axisLabel.show&&e.type===qa&&("string"==typeof(o=e._axisObj.formatter)&&(a=o,o=function(e){return Go(new Date(e),a)}),n=(r=co(e.axisLabel.font,o?o(tc(),l,s):"e")).width/2,V<n&&(V=n),k=Math.max(r.width/2,k))}),ka(r=n.yAxis).call(r,function(r){var e;r.markLines&&ka(e=r.markLines).call(e,function(e){var t=e.value,i=e.labelStyle,a=i&&i.font||rc,o=co(a,t).width+6;r._axisObj.position===ja&&k<o?k=o:V<o&&(V=o)})}),p<V&&(w=V-p,u[0]+=w,p=V);var I,D=C.x,T=C.y,S=C.width,L=C.height,A=[],R=[],M=D,P=T,B=S-p-y,_=L-x-b;y<k&&(B=B-k+y),B=Math.max(0,B),_=Math.max(0,_),P=T+x,ka(u).call(u,function(e,t){if(n.yAxis[t]._axisObj.position===Ha){for(var i=0,a=jt(g).call(g,t);0<a;)i+=u[g[--a]];A.push({x:D+p+B+i,y:P,width:e,height:_})}else{for(var o=0,r=jt(d).call(d,t);0<r;)o+=u[d[--r]];A.push({x:M+o,y:P,width:e,height:_})}}),M=D+p,P=T,ka(h).call(h,function(e,t){if(n.xAxis[t]._axisObj.position===Ea){for(var i=0,a=jt(f).call(f,t);0<a;)i+=h[f[--a]];R.push({x:M,y:P+i,width:B,height:e})}else{for(var o=0,r=jt(v).call(v,t);0<r;)o+=h[v[--r]];R.push({x:M,y:P+_+x+o,width:B,height:e})}}),I={x:D+p,y:T+x,width:Math.max(0,B),height:Math.max(0,_)},e.bounds={xAxisRects:R,yAxisRects:A,bodyRect:I}}function Xu(a,o){return a=ac(a)?Kt(a).call(a,0):[a],ka(a).call(a,function(e,t){var i=oc(o);!function e(t,i,a){for(var o in i){var r=i[o];"object"!==qe(r)||ht.Default.isArray(r)||a?t[o]=i[o]:(To(t[o])&&ht.Default.isObject(i[o])&&(t[o]={}),e(t[o],i[o]))}}(i,e),a[t]=i}),a}function Uu(e,t,i,a,o,r){var n,l=t.max,s=t.min,h=t.step,u=l-s,c=(i.x-a.x)/a.width*u+s,d=t.value,g=d[0],f=d[1];c=Math.min(l,c),c=Math.max(s,c),h&&(c=c-(n=c%h)+(Math.abs(n)>h/2)*(n<0?-h:h));var v,p=null;return p=rr(o)?o<=c?[o,c]:[c,o]:(v=Math.abs(g-c),Math.abs(f-c)<=v?[g,c]:[c,f]),!r&&e&&e(p),c}function Zu(e,t,i,a,o,r){var n,l=t.max,s=t.min,h=t.step,u=l-s,c=(a.height-(i.y-a.y))/a.height*u+s,d=t.value,g=d[0],f=d[1];c=Math.min(l,c),c=Math.max(s,c),h&&(c=c-(n=c%h)+(Math.abs(n)>h/2)*(n<0?-h:h));var v,p=null;return p=rr(o)?o<=c?[o,c]:[c,o]:(v=Math.abs(g-c),Math.abs(f-c)<=v?[g,c]:[c,f]),!r&&e&&e(p),c}function Ku(e,t,i,a,o){var r=t-e,n=i.x,l=i.y,s=i.width,h=i.height,u=o?l:n,c=o?h:s;return(c-((o?a.y:a.x)-u))/c*r+e}function qu(h,e,t,i,a){var o,r=ir(t,e,i),n=r.ui,l=r.option,s=n.bounds.bodyRect,u=Bo(t,e,i,a,h);if(n&&l&&hr(s,u)){var c=n.xAxisDataZoom,d=n.yAxisDataZoom,g=c?c.slider:null,f=d?d.slider:null,v=!1;return ka(o=[g,f]).call(o,function(e){if(e){var t=e.value,i=e.zoomIncrement,a=e.min,o=e.max,r=e.setter,n=(o-a)*i*(0<h.scrollDelta?1:-1),l=Math.max(a,t[0]-n),s=Math.min(o,t[1]+n);if(s<=l&&(l=s-1),Math.abs(s-l)<Math.abs(n))return;r([l,s]),v=!0}}),v}}function Ju(e,t,i,a){return"function"==typeof t?t(e,i,a):"string"==typeof t?Go(new Date(e),t):e}function Qu(e,t,i){e.x;var a=e.y,o=(e.width,e.height),r=i-t;return 0<=t?a+o:i<=0?a:a+o*(1-Math.abs(t)/r)}function $u(e,t,i,a){var o=nt(e,2),r=o[0],n=o[1],l=nt(t,2),s=l[0],h=l[1],u=(i-h)/(s-h)*(n-r)+r;return a?u:Math.max(r,Math.min(n,u))}function ec(e,t){for(var i=0;i<e.length;i++)if(hr(e[i].rect,t))return e[i]}var tc=Q.Date.now,ic=ht.Default,ac=ic.isArray,oc=ic.clone,rc="12px arial",nc=new Cu,lc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onMove",value:function(e,t,i,a){tr(i,t,this,e);var o,r=ir(i,t,this),n=r.ui,l=r.option;if(n&&l&&l.tooltip.show){var s=l.tooltip;if(r._dragging||r.dragging)return delete r.hoverTime,delete r.hoverPositionX,t.iv(),void Wh.hide();r._moveTimer&&clearTimeout(r._moveTimer);var h=Bo(i,t,this,a,e),u=l.xAxis[0]._axisObj.zoomTimeRange,c=n.xAxisDataZoom,d=n.yAxisDataZoom,g=c?c.slider:null,f=d?d.slider:null;if(u&&l.series){var v,p,y,x,b,m,w,C,k=n.seriesDatas,V=n.bounds.bodyRect,I=V.x,D=(V.y,u[0]),T=u[1],S={},L=[],A=Us(o=l.series).call(o,function(e){return e.name});if(hr(V,h)){for(var R in ka(k).call(k,function(e,a){var o,r;e&&(o={},r=n.seriesColors[a],ka(e).call(e,function(e){var t,i=e[0];i<D||T<i||(t=(t=S[i])||(S[i]={time:i,series:[]}),o[i]||(t.series.push([A[a],e[1],r]),o[i]=!0))}))}),S)L.push(S[R]);if(Gu(L).call(L,function(e,t){return e.time>t.time?1:-1}),!L.length||(p=function(e,t){var i,a,o=t.length;if(1===o)return t[0];for(;1!==o;){var r=Math.floor(o/2),n=t[r],l=n.time;if(e===l)return n;if(g=Math.abs(e-l),rr(i)&&a<g){for(var s=1/0,h=void 0,u=0;u<t.length;u++){var c=t[u],d=Math.abs(e-c.time);d<s&&(h=c,s=d)}return s<a&&h?h:i}o=(t=l<e?Kt(t).call(t,Math.min(o-1,r+1)):Kt(t).call(t,0,r)).length,i=n,a=g}var g,f=t[0];return a<(g=Math.abs(f.time-e))?i:f}(v=Math.floor((h.x-I)/V.width*(T-D)+D),L))&&("string"==typeof(m=l.xAxis[0]._axisObj.formatter)&&(b=m,m=function(e){return Go(new Date(e),b)}),w=m(p.time,t,i),Kt(y=n.seriesColors).call(y,0),C=[{label:w,datas:p.series,colors:Us(x=p.series).call(x,function(e){return e[2]})}],C=_o(C),s.formatter&&s.formatter(C,p.time,t,i),nc.setInfo(C),v=p.time,r.hoverTime!==v&&(r.hoverTime=v,t.iv()),Wh.show(nc.getView(),e)),g||f){var M=r.sliderInfo={info:[],body:!0};return g&&M.info.push({axis:Ua,info:g}),void(f&&M.info.push({axis:Za,info:f}))}}else{if(delete r.hoverTime,t.iv(),Wh.hide(),g&&(hr(Ao(g.sliderRect,3),h)||hr(Ao(g.sliderRect2,3),h)||hr(g.valueBarRect,h)))return So(i,"ew-resize"),void(r.sliderInfo={axis:Ua,info:g});if(f&&(hr(Ao(f.sliderRect,3),h)||hr(Ao(f.sliderRect2,3),h)||hr(f.valueBarRect,h)))return So(i,"ns-resize"),void(r.sliderInfo={axis:Za,info:f});delete r.sliderInfo,So(i,"default")}}}}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);void 0!==a.hoverTime&&(delete a.hoverTime,t.iv(),Wh.hide())}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r,n,l,s,h,u,c,d=tr(i,t,this,e),g=ir(i,t,this),f=g.option,v=g.ui,p=g.sliderInfo;if(g&&f.onRectSelected){void 0!==g.hoverIndex&&(delete g.hoverIndex,t.iv(),Wh.hide());var y=v.bounds.bodyRect,x={x:a.x+d.rect.x,y:a.y+d.rect.y};if(hr(y,x))return g._dragging=!0,void(g.rectPoint1=x)}p&&(r=(o=p.info).sliderRect,n=o.sliderRect2,l=o.valueBarRect,s=o.value,h=o.barRect,u=Bo(i,t,this,a,e),g.dragging=!0,p.body?ka(c=p.info).call(c,function(e){e.draggingValue=Ku(e.info.value[0],e.info.value[1],e.info.barRect,u,e.axis===Za)}):hr(Ao(r,3),u)?p.fixed=s[1]:hr(Ao(n,3),u)?p.fixed=s[0]:hr(l,u)&&(Ua===p.axis?p.draggingValue=Uu(null,p.info,u,h,null,!0):p.draggingValue=Zu(null,p.info,u,h,null,!0)))}},{key:"onDrag",value:function(e,t,i,a){var o,r,n=tr(i,t,this,e),l=ir(i,t,this);l&&l._dragging&&(o=l.ui.bounds.bodyRect,r={x:a.x+n.rect.x,y:a.y+n.rect.y},l.rectPoint2=Yo(o,r),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=Qt(function(){t.iv(),delete l._drawTimer},2));var s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k=l.sliderInfo,V=l.option;l.dragging&&k&&(h=(s=k.info).barRect,u=s.setter,c=Bo(i,t,this,a,e),d=k.axis===Ua?Uu:Zu,C=Ua===k.axis?V.xAxis[0]._axisObj.formatter:V.yAxis[0].axisLabel?V.yAxis[0].axisLabel.formatter:null,rr(k.fixed)?(g=d(u,k.info,c,h,k.fixed),Wh.show(C?Ju(g,C,t,i):g,e)):rr(k.draggingValue)?(f=k.draggingValue,v=d(null,k.info,c,h,null,!0)-f,p=k.info.value,y=k.info.min,x=k.info.max,(b=[p[0]+v,p[1]+v])[0]<y?b=[y,y+(p[1]-p[0])]:b[1]>x&&(b=[x-(p[1]-p[0]),x]),u(b),m=b.join(","),C&&(m=Us(b).call(b,function(e){return Ju(e,C,t,i)}).join(",")),Wh.show(m,e)):k.body&&ka(w=k.info).call(w,function(e){var t=e.info,i=t.barRect,a=t.setter,o=t.min,r=t.max,n=e.info.value,l=e.draggingValue,s=Ku(n[0],n[1],i,c,e.axis===Za)-l;e.axis===Za&&(s=-s);var h=e.info.value,u=[h[0]+s,h[1]+s];u[0]<o?u=[o,o+(h[1]-h[0])]:u[1]>r&&(u=[r-(h[1]-h[0]),r]),a(u)}),t.iv())}},{key:"onEndDrag",value:function(e,t,i){var a=ir(i,t,this);if(a&&(delete a.sliderInfo,delete a.dragging,Wh.hide(),a._dragging)){var u=a.ui,o=a.option,r=u.rectPoint1,n=u.rectPoint2,h=u.valueAxis,l=o.xAxis,s=o.yAxis,c=sr(r,n);if(delete a._dragging,delete a.rectPoint1,delete a.rectPoint2,t.iv(),!c)return;var d={x:[],y:[]};ka(l).call(l,function(e){e.type;var t=[];d.x.push(t);var i,a,o,r,n,l,s,h=e._axisObj.zoomTimeRange;h&&(a=(i=nt(h,2))[0],r=(o=i[1])-a,n=u.bounds.bodyRect,l=Math.floor((c.x-n.x)/n.width*r+a),s=Math.floor((c.x-n.x+c.width)/n.width*r+a),l=Math.max(l,a),s=Math.min(s,o),t.push(l),t.push(s))}),ka(s).call(s,function(e){var t,i,a,o,r,n,l,s=[];d.y.push(s),Za===h&&(i=(t=nt(e._axisObj.zoomValueRange,2))[0],o=(a=t[1])-i,n=((r=u.bounds.bodyRect).height-c.height-c.y+r.y)/r.height*o+i,l=(r.height-c.y+r.y)/r.height*o+i,n=Math.max(n,i),l=Math.min(l,a),s.push(n),s.push(l))}),o.onRectSelected(d,t,i)}}},{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h=ir(i,t,this),u=h.ui,c=h.option;u&&c&&!h.dragging&&(o=u.xAxisDataZoom,r=u.yAxisDataZoom,n=Bo(i,t,this,a,e),l=o?o.slider:null,s=r?r.slider:null,l&&hr(l.barRect,n)&&!h.sliderInfo&&(Uu(l.setter,l,n,l.barRect),t.iv()),s&&hr(s.barRect,n)&&!h.sliderInfo&&(Zu(s.setter,s,n,s.barRect),t.iv()))}},{key:"onScroll",value:function(e,t,i,a){qu(e,t,i,this,a)&&(delete ir(i,t,this).hoverTime,t.iv())}}]),t}(),sc=[eo,to,oo,ro,io,ao],hc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onMove",value:function(e,t,i,a){var o,r,n=ir(i,t,this),l=Bo(i,t,this,a,e);n.itemList&&(o=ec(n.itemList,l),So(i,o?o.isDisabled?"not-allowed":"pointer":"default"),r=o?o.label:void 0,n.hoverLabel!==r&&(n.hoverLabel=r,t.iv()))}},{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h,u,c=ir(i,t,this),d=Bo(i,t,this,a,e);c.itemList&&(r=(o=ec(c.itemList,d))?o.label:void 0,n=ar(this,"current",t),l=c.onChange,s=c.totalPage,h=t.a(n),u=r,!o||o&&o.isDisabled||(0<=jt(sc).call(sc,u)&&(u=u===eo?h-1:u===to?h+1:u===oo?1:u===io?Math.max(1,h-5):u===ao?Math.min(s,h+5):s),h!==u&&(t.a(n,u),l&&l(h,u,t,i))))}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);So(i,"default"),a.hoverLabel&&(delete a.hoverLabel,t.iv())}}]),t}(),uc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onBeginDrag",value:function(e,t,i,a,o,r){yn.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,a,o,r){xn.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,a,o,r){bn.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,a,o,r){mn.apply(this,arguments)}}]),t}(),cc=[].reverse,dc=[1,2];k({target:"Array",proto:!0,forced:String(dc)===String(dc.reverse())},{reverse:function(){return se(this)&&(this.length=this.length),cc.call(this)}});var gc=_e("Array").reverse,fc=Array.prototype,vc=function(e){var t=e.reverse;return e===fc||e instanceof Array&&t===fc.reverse?gc:t},pc=function(a,e,t,i,o){var r,l=o.seriesDatas[t],n=o.data,s=o.view,h=e.name,u=e.itemStyle||{},c=e.lineStyle||{},d=e.areaStyle||{},g=o.bounds,f=(g.xAxisRects,g.yAxisRects,g.bodyRect),v=f.x,p=f.y,y=f.width,x=f.height,b=Lo(i.color,t),m=i.xAxis[e.xAxisIndex||0],w=i.yAxis[e.yAxisIndex||0]._axisObj.valueRange,C=o.hoverIndex,k=w[0],V=w[1],I=m._axisObj.axisInfos,D=e.smooth,T=!!e.connectNulls,S=e.step,L=[],A=[],R=null,M=[];if(l&&l.length&&I){var P,B,_,O,E=o.interactiveInfo.axisInfos[o.valueAxis===Za?e.xAxisIndex||0:e.yAxisIndex||0];ka(l).call(l,function(e,t){if(I[t]){var i,a,o,r={x:I[t].position,y:$u([p,p+x],w,e,!0)},n=[h,e,c.color||b,r.x,r.y];if(S)return void("start"===S?(L.push(r),E[t].series.push(n),t===l.length-1||(i=l[t+1])!==e&&L.push({x:r.x,y:$u([p,p+x],w,i,!0)})):(!t||(a=l[t-1])!==e&&L.push({x:r.x,y:$u([p,p+x],w,a,!0)}),L.push(r),E[t].series.push(n)));rr(e)?(o=R?2:1,T&&1===o&&A.length&&(o=2),L.push(r),A.push(o),R=o,E[t].series.push(n),M.push(r)):(E[t].series.push([h,"-",c.color||b,r.x,r.y]),R=null,M.push(null))}}),r=Kt(L).call(L,0),D&&2<=L.length&&(P=Xo(L,"number"==typeof D?D:void 0),L=P.points,A=P.segments),L=Us(L).call(L,function(e){return Yo(f,e)}),a.save(),a.beginPath(),a.rect(v,p,y,x),!1!==e.clip&&a.clip(),d.color&&(B=L[0],_=L[L.length-1],O=Qu(f,k,V),Wo(a,L,A),a.lineTo(_.x,O),a.lineTo(B.x,O),a.closePath(),a.fillStyle=Ko(a,d.color,f),Ne(a).call(a));var W=c.color||b;a.lineWidth=c.width||2,a.strokeStyle=Ko(a,W),o.seriesColors.push(W),c.pattern&&a.setLineDash(c.pattern),Wo(a,L,A),a.stroke(),a.restore();var H=u.size||0,j=u.activeSize||3;H||1!==L.length||(H=1);var N=u.background,F=void 0===N?W:N,z=u.borderWidth,G=void 0===z?1:z,Y=u.borderColor,X=void 0===Y?W:Y,U=u.visible,Z=u.image;if(!1!==U&&ka(r).call(r,function(e,t){a.beginPath();var i=H;i&&("function"!=typeof U||!active&&U(e,t,l,active,n,s))&&(Z?jo(a,Zo(Z),"uniform",e.x-i,e.y-i,2*i,2*i):(i&&a.arc(e.x,e.y,i,0,2*Math.PI),F&&(a.fillStyle=F,Ne(a).call(a)),G&&X&&(a.lineWidth=G,a.strokeStyle=X,a.stroke())))}),void 0!==C&&j){var K=u.activeBackground,q=void 0===K?F:K,J=u.activeBorderColor,Q=void 0===J?X:J,$=u.activeBorderWidth,ee=void 0===$?G:$;o._hoverHandlers||(o._hoverHandlers=[]);var te=M[C];if(!te||"function"==typeof U&&!U(te,C,l,!0,n,s))return;o._hoverHandlers.push(function(){Z?jo(a,Zo(Z),"uniform",te.x-j,te.y-j,2*j,2*j):(a.beginPath(),a.arc(te.x,te.y,j,0,2*Math.PI),q&&(a.fillStyle=q,Ne(a).call(a)),ee&&Q&&(a.lineWidth=ee,a.strokeStyle=Q,a.stroke()))})}}},yc=function(s,e,t,r,i){var n,l,h,u,c,a=i.seriesDatas[t],d=e.name,o=i.bounds.bodyRect,g=(o.x,o.y),f=(o.width,o.height),v=e.color||Lo(r.color,t),p=r.xAxis[e.xAxisIndex||0],y=r.yAxis[e.yAxisIndex||0],x=p._axisObj.unitWidth,b=y._axisObj.valueRange,m=b[0],w=b[1],C=p._axisObj.axisInfos,k=e.shadow,V=e.barWidth||.8,I=i.barSeries,D=i.barStackCount,T=i.barStackMap,S=(i.hoverIndex,I.length+D),L=jt(I).call(I,e),A=i.barCategoryGap||0,R=(x-2*(1<=A?A:x*A))/S,M=e.drawBar,P=i.view&&i.view.getZoom?i.view.getZoom():1;if(e.stack){n=T[e.stack].stackData;var B,_,O=0;for(B in T){if(0<=jt(_=T[B].series).call(_,e)){L=O;break}O++}}V<1&&(V*=R),a&&a.length&&C&&(l=[],h=i.interactiveInfo.axisInfos[i.valueAxis===Za?e.xAxisIndex||0:e.yAxisIndex||0],u=Qu(o,m,w),c=[g,g+f],ka(a).call(a,function(e,t){var i,a,o;n&&n[t],i="function"==typeof v?v(e,t,Lo(r.color,t)):v,C[t]&&(a={x:C[t].position,y:$u(c,b,e)},h[t].series.push([d,rr(e)?e:"-",i,a.x,a.y]),n?(o=$u(c,b,n[t]||0),l.push({x:a.x-x/2+R*L+(R-V)/2+A,y:(a.y<u?a.y:a.y-Math.abs(a.y-u))-Math.abs(o-u),width:V,height:Math.abs(a.y-u)})):l.push({x:a.x-x/2+R*L+(R-V)/2+A,y:a.y<u?a.y:a.y-Math.abs(a.y-u),width:V,height:Math.abs(a.y-u)})),n&&(To(n[t])?n[t]=e:n[t]+=e)}),i.seriesColors.push(Lo(r.color,t)),s.save(),ka(l).call(l,function(n,e){function t(){var e,t,i,a,o,r;s.fillStyle=l,k&&(o=k.color||ht.Default.darker(l),e=k.opacity,rr(e)&&(r=o,i=ht.Default.toColorData(r),a=We(i).call(i,3,1)[0]||255,o=Ke(t="rgba(".concat(i.join(","),",")).call(t,a/255*e,")")),s.shadowColor=o,s.shadowBlur=k.blur||0,s.shadowOffsetX=(k.offsetX||0)*P,s.shadowOffsetY=(k.offsetY||0)*P),s.fillRect(n.x,n.y,n.width,n.height)}var l=Ko(s,"function"==typeof v?v(a[e],e,Lo(r.color,e)):v,n);M?M(s,a[e],n,{defaultDraw:t,index:e,boundary:{x:n.x,y:g,width:n.width,height:f},color:l,data:i.data,view:i.view}):t()}),s.restore())},xc=function(a,e,t,i,o){var r,n=o.seriesDatas[t],l=o.data,s=o.view,h=e.name,u=e.itemStyle||{},c=e.lineStyle||{},d=e.areaStyle||{},g=e.diffAreaStyle||{},f=o.bounds,v=(f.xAxisRects,f.yAxisRects,f.bodyRect),p=v.x,y=v.y,x=v.width,b=v.height,m=Lo(i.color,t),w=i.xAxis[e.xAxisIndex||0],C=i.yAxis[e.yAxisIndex||0],k=(w._axisObj.unitWidth,C._axisObj.valueRange),V=o.hoverIndex,I=k[0],D=k[1],T=w._axisObj.axisInfos,S=e.smooth,L=!!e.connectNulls,A=[],R=[],M=null,P=[];if(n&&n.length&&T){var B,_,O,E,W,H,j,N,F=o.interactiveInfo.axisInfos[o.valueAxis===Za?e.xAxisIndex||0:e.yAxisIndex||0],z=[];o.diffPointsList.push(z),ka(n).call(n,function(e,t){var i,a;T[t]&&(i={x:T[t].position,y:$u([y,y+b],k,e,!0)},rr(e)?(a=M?2:1,L&&1===a&&R.length&&(a=2),A.push(i),R.push(a),M=a,F[t].series.push([h,e,c.color||m,i.x,i.y]),P.push(i)):(F[t].series.push([h,"-",c.color||m,i.x,i.y]),M=null,P.push(null)),z.push(i))}),r=Kt(A).call(A,0),S&&2<=A.length&&(B=Xo(A,"number"==typeof S?S:void 0),A=B.points,R=B.segments),a.save(),a.beginPath(),a.rect(p,y,x,b),a.clip(),g&&rr(g.targetIndex)&&(O=o.diffPointsList[g.targetIndex],W=Kt(O).call(O,0),E=vc(_=Kt(z).call(z,0)).call(_),W=Ke(W).call(W,E),Wo(a,W),a.fillStyle=Ko(a,g.color,sr(W)),Ne(a).call(a)),d.color&&(H=A[0],j=A[A.length-1],N=Qu(v,I,D),Wo(a,A,R),a.lineTo(j.x,N),a.lineTo(H.x,N),a.closePath(),a.fillStyle=Ko(a,d.color,v),Ne(a).call(a));var G=c.color||m;a.lineWidth=c.width||2,a.strokeStyle=Ko(a,G),o.seriesColors.push(G),c.pattern&&a.setLineDash(c.pattern),Wo(a,A,R),a.stroke(),a.restore();var Y=u.size||0,X=u.activeSize||3;Y||1!==A.length||(Y=1);var U=u.background,Z=void 0===U?G:U,K=u.borderWidth,q=void 0===K?1:K,J=u.borderColor,Q=void 0===J?G:J,$=u.visible,ee=u.image,te=u.drawItem;if(!1!==$&&ka(r).call(r,function(e,t){a.beginPath();var i=Y;i&&("function"!=typeof $||!active&&$(e,t,n,active,l,s))&&(te?te(a,e,u,n[t],n,l,s):ee?jo(a,Zo(ee),"uniform",e.x-i,e.y-i,2*i,2*i):(i&&a.arc(e.x,e.y,i,0,2*Math.PI),Z&&(a.fillStyle=Z,Ne(a).call(a)),q&&Q&&(a.lineWidth=q,a.strokeStyle=Q,a.stroke())))}),void 0!==V&&X){var ie=u.activeBackground,ae=void 0===ie?Z:ie,oe=u.activeBorderColor,re=void 0===oe?Q:oe,ne=u.activeBorderWidth,le=void 0===ne?q:ne;o._hoverHandlers||(o._hoverHandlers=[]);var se=P[V];if(!se||"function"==typeof $&&!$(se,V,n,!0,l,s))return;o._hoverHandlers.push(function(){ee?jo(a,Zo(ee),"uniform",se.x-X,se.y-X,2*X,2*X):(a.beginPath(),a.arc(se.x,se.y,X,0,2*Math.PI),ae&&(a.fillStyle=ae,Ne(a).call(a)),le&&re&&(a.lineWidth=le,a.strokeStyle=re,a.stroke()))})}}};var bc={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,rotate:0,align:"auto",font:"12px arial",color:"rgb(61,61,61)",offsetX:0,offsetY:0},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1,interval:1,pattern:null}},mc={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,rotate:0,align:"auto",font:"12px arial",color:"rgb(61,61,61)",offsetX:0,offsetY:0},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},wc=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],Cc=function(){function a(e,t,i){Je(this,a),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=or(e.data,i.data,i.view)}return $e(a,[{key:"initTimeAxis",value:function(){var t,e,i,a,o,r,n,l,s=this,h=this.series,u=[];ka(h).call(h,function(e,t){var i=s.ui.seriesDatas[t];i&&(u=Ke(u).call(u,i))}),u.length?(t=[],ka(u).call(u,function(e){Oo(e)&&t.push(e[0])}),Gu(t).call(t,function(e,t){return t<e?1:-1}),e=this.timeRange=[t[0],t[t.length-1]],(i=this.axisOption.axisLabel.formatter)||(a=this.adjustTimeFormatString(this.timeRange),i=function(e){return Go(new Date(e),a)}),"string"==typeof i&&(a=i,i=function(e){return Go(new Date(e),a)}),this.formatter=i,(o=this.getDataZoomOption())&&t.length?(r=e[0],n=e[1],(l=this.zoomTimeRange=[rr(o.min)?o.min:r,rr(o.max)?o.max:n])[1]-l[0]==0&&(l[0]===r?l[1]+=1:--l[0]),l.push(this.getUnitFromMaxAndMin(l[1],l[0])||1)):this.zoomTimeRange=this.timeRange):this.formatter=function(e){return e}}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var e,h=this,t=this.series,u=this.seriesIndexs,c=[],d={};for(e in ka(t).call(t,function(e,t){var i=h.ui.seriesDatas[u[t]];if(i){if(e.stack){var a=(a=d[e.stack])||(d[e.stack]=[]);return void ka(i).call(i,function(e,t){To(a[t])?a[t]=e:a[t]+=e})}if(Oo(i))c=Ke(c).call(c,i);else if(Eo(i)){for(var o=i.x,r=i.y,n=Math.min(o.length,r.length),l=[],s=0;s<n;s++)l.push([0,r[s]]);c=Ke(c).call(c,l)}}}),d)var i=d[e],c=Ke(c).call(c,i);var a=[];return ka(c).call(c,function(e){Oo(e)?a.push(e[1]):rr(e)&&a.push(wt(e))}),a}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues(),i=this.ui,a=i.data,o=i.view;this.valueRange||this.caluValueRange(t);var r=nt(this.valueRange,2),n=r[0],l=r[1],s=n.toString().length>l.toString().length?n:l,h=e.axisLabel.formatter;return h&&(s=h(s,a,o)),zo(e.axisLabel.font,s,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t,i=this.axisOption,a=i.max,o=i.min,r=i.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var s=n,h=l,u=l<0?n-l:n;if(rr(o)&&rr(a))t=(a-o)/r;else if(rr(a)&&a/r%1==0){var c=rr(o)?o:h;To(o)&&0<h&&(c=0),t=(a-(rr(c)?c:h))/r}else if(1<n||n<=0){for(var d=1,g=u/d;100<=ai(g);)g=u/(d*=10);for(g=Math.ceil(g)*d;g%r!=0||g/r%d!=0;)g+=d;t=(n=g)/r}else t=0<l?n/r:(n-l)/r;if(t=t||1,To(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=t;l=f}if(To(a))for(a=n+(l<0?l:0);a<s;)a+=t;To(o)&&(o=l),o||a||(t=a=1),this.valueRange=[o,a,t];var v,p=this.getDataZoomOption();p&&e.length?((v=this.zoomValueRange=[rr(p.min)?Math.max(o,p.min):o,rr(p.max)?Math.min(a,p.max):a])[1]-v[0]==0&&(v[0]===o?v[1]+=t/1e3:v[0]-=t/1e3),v.push(this.getUnitFromMaxAndMin(v[1],v[0])||1)):this.zoomValueRange=this.valueRange}},{key:"getUnitFromMaxAndMin",value:function(e,t,i){for(var a=2<arguments.length&&void 0!==i?i:5,o=e-t,r=1,n=o/r;100<=ai(n);)n=o/(r*=10);for(n=Math.ceil(n)*r;n%a!=0||n/a%r!=0;)n+=r;return n/a}},{key:"caluValueRange2",value:function(e){var t=this.axisOption,i=t.max,a=t.min,o=(t.splitNumber,Math.min(this,e)),r=Math.max(this,e);To(a)&&To(i)?r<0?i=0:0<o?(a=0,valueMax):(valueMax,valueMin):To(a)&&rr(i)||rr(a)&&To(i);this.valueRange=[a,i,void 0]}},{key:"adjustTimeFormatString",value:function(e){Gu(e).call(e,function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}},{key:"getDataZoomOption",value:function(){return this.axisOption.dataZoom}},{key:"getValuesByValueRange",value:function(e){var t=nt(this.zoomValueRange,3),i=t[0],a=t[1],o=t[2],r=[],n=0;if(0<=i){for(r.push(i);n<a;)i<=n&&r.push(n),n+=o;r.push(a)}else if(a<=0){for(r.push(a);i<n;)n<=a&&r.unshift(n),n-=o;r.unshift(i)}else{for(;n<a;)r.push(n),n+=o;for(r.push(a),n=0;i<n;)r.unshift(n),n-=o;r.unshift(i)}var l,s,h,u=r.length;return 3<u&&(l=e?.4:.6,s=r[0],h=r[1],(r[u-1]-r[u-2])/o<l&&We(r).call(r,u-2,1),(h-s)/o<l&&We(r).call(r,1,1)),r}},{key:"drawMarkLine",value:function(){}}]),a}(),kc=function(){et(l,Cc);var n=ot(l);function l(e,t,i){var a,o,r;return Je(this,l),(r=n.call(this,e,t,i)).axisIndex=jt(a=t.xAxis).call(a,e),r.isValueAxis=i.valueAxis===Ua,r.position=e.position||(r.axisIndex?Ea:Wa),ka(o=t.series).call(o,function(e){(e.xAxisIndex||0)===r.axisIndex&&r.series.push(e)}),e.type===qa&&r.initTimeAxis(),r.boundHeight=r.getBoundHeight(),r}return $e(l,[{key:"getTimeAxisTimes",value:function(){var a=this,e=this.series,o=[];ka(e).call(e,function(e,t){var i=a.ui.seriesDatas[t];i&&(o=Ke(o).call(o,i))});var t=[];return ka(o).call(o,function(e){Oo(e)?t.push(e[0]):t.push(wt(e))}),Gu(t).call(t,function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(e.size)return e.size;var t=this.ui,i=t.data,a=t.view;if(!e.show)return 2;var o=e.axisLabel.rotate,r=e.axisTick.show?e.axisTick.length:0,n=this.getDataZoomOption(),l=r;if(n&&!1!==n.sliderVisible&&(l+=18),!e.axisLabel.show||this.isValueAxis)return l+2;var s=or(e.data,i,a),h="e";return e.type===qa?h=this.formatter(tc(),i,a):e.type===Ka&&(s&&ka(s).call(s,function(e){rr(e)&&e.toString().length>h.length&&(h=e)}),e.axisLabel.formatter&&(h=e.axisLabel.formatter(h))),o?l+zo(e.axisLabel.font,h,o).height+4:l+co(e.axisLabel.font,h).height+4}},{key:"draw",value:function(o){var i,a=this,e=this.ui,r=e.data,n=e.view,t=this.axisOption,l=t.type===qa,s=this.axisIndex,h=e.bounds.xAxisRects[s],u=e.boundaryGap,c=h.x,d=h.y,g=h.width,f=h.height,v=this.data||[],p=this.formatter||t.axisLabel.formatter,y=this.timeRange;if(!1!==t.show&&t.axisLine.show&&(o.strokeStyle=t.axisLine.color,o.lineWidth=t.axisLine.width,o.beginPath(),this.position===Ea?(o.moveTo(c,d+f),o.lineTo(c+g,d+f)):(o.moveTo(c,d),o.lineTo(c+g,d)),o.stroke()),t.type===qa){var x,v=[];if(ka(x=this.series).call(x,function(e,t){var i=a.ui.seriesDatas[t];i&&i.length>v.length&&(v=Us(i).call(i,function(e){return e[0]}))}),!(y&&y[0]&&y[1]))return;i=y[1]-y[0]}var b,m,w,C,k,V,I,D,T,S,L,A,R,M,P,B,_,O,E=0,W=0,H=1;1<v.length?W=E=u?(H=1,g/(v.length-1+H)):(H=1,g/(v.length-1)):E=g/2,v&&v.length&&(this.unitWidth=E,b=1===v.length?this.axisInfos=[{position:c+E,label:p?p(v[0],r,n):v[0]}]:this.axisInfos=Us(v).call(v,function(e,t){return{position:(l?c+(e-y[0])/i*g:c+t*E)+u*E/2,label:p?p(e,r,n):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show)&&(m=t.axisLabel.font,w=t.axisLabel.color,C=t.axisLabel.align,k=t.axisTick.length,V=t.axisLabel.rotate,I=t.axisLabel.offsetX,D=t.axisLabel.offsetY,T=(this.position===Ea?d:d+2+(t.axisTick.show?t.axisTick.length:0))+D,S=0,L=[],ka(v).call(v,function(e){p&&(e=p(e,r,n));var t=co(m,e);L.push(t),S+=t.width}),S>h.width&&!s&&(H=Math.ceil(S/h.width)),t.axisTick.show&&k&&(0===(A=rr(t.axisTick.interval)?t.axisTick.interval:H)&&(A=1),o.strokeStyle=t.axisTick.color,o.beginPath(),ka(v).call(v,function(e,t){var i;t%A==0&&(i=c+t*W,a.position===Ea?(o.moveTo(i,d+f),o.lineTo(i,d+f-k)):(o.moveTo(i,d),o.lineTo(i,d+k)))}),o.stroke()),t.axisLabel.show&&(0===(R=rr(t.axisLabel.interval)?t.axisLabel.interval:H)&&(R=1),ka(v).call(v,function(e,t){var i,a;t%R==0&&(i=L[t],a=b[t].position+I,To(e)&&(e=""),p&&(e=p(e,r,n)),o.save(),V?o.translate(a,T):o.translate(a-(u?E/2:i.width/2),T),o.rotate(cr(-V)),V?(o.font=m,o.fillStyle=w,o.textAlign=0<V?Ha:ja,o.textBaseline=Fa,o.fillText(e.toString(),0,0)):u?ht.Default.drawText(o,e.toString(),m,w,0,0,E,i.height,"center"):ht.Default.drawText(o,e.toString(),m,w,0,0,i.width,i.height,C),o.restore())})),o.save(),t.splitLine.show&&(0===(M=rr(t.splitLine.interval)?t.splitLine.interval:H)&&(M=1),P=e.bounds.bodyRect,B=P.x,_=P.y,P.width,O=P.height,o.strokeStyle=t.splitLine.color,o.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&o.setLineDash(t.splitLine.pattern),o.beginPath(),ka(v).call(v,function(e,t){var i;t%M==0&&(i=B+t*W,o.moveTo(i,_),o.lineTo(i,_+O))}),o.stroke()),o.restore()))}}]),l}(),Vc=function(){et(l,Cc);var n=ot(l);function l(e,t,i){var a,o,r;return Je(this,l),(r=n.call(this,e,t,i)).axisIndex=jt(a=t.yAxis).call(a,e),r.isValueAxis=i.valueAxis===Za,r.position=e.position||(r.axisIndex?Ha:ja),ka(o=t.series).call(o,function(e,t){(e.yAxisIndex||0)===r.axisIndex&&(r.series.push(e),r.seriesIndexs.push(t))}),r.labelHeight=r.getLabelHeight(),r.boundWidth=r.getBoundWidth(),e.type===qa&&r.initTimeAxis(),r}return $e(l,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption;if(e.size)return e.size;var t=e.axisLabel.show?this.getMaxValueBound():{width:0,height:0},i=e.axisTick.show?e.axisTick.length:0,a=0,o=this.getDataZoomOption();return o&&!1!==o.sliderVisible&&(a+=18),this.isValueAxis?a+t.width+i+4:a+50}},{key:"draw",value:function(a){var e,t,i,o,r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I,D,T,S=this,L=this.ui,A=L.data,R=L.view,M=this.axisOption,P=this.axisIndex,B=L.bounds.yAxisRects[P];!1!==M.show&&(e=this.getDataZoomOption(),t=this.zoomValueRange,i=M.axisLabel.rotate,e&&(o={x:B.x,y:B.y,width:18,height:B.height},this.drawSlider(a,o),B={x:B.x+18,y:B.y,width:B.width-18,height:B.height}),r=B.x,n=B.y,l=B.width,s=B.height,M.axisLine.show&&(a.strokeStyle=M.axisLine.color,a.lineWidth=M.axisLine.width,a.beginPath(),this.position===Ha?(a.moveTo(r,n),a.lineTo(r,n+s)):(a.moveTo(r+l,n),a.lineTo(r+l,n+s)),a.stroke()),M.axisLabel.show&&(h=nt(t,3),u=h[0],c=h[1],h[2],d=c-u,g=this.getValuesByValueRange(!0),f=0,M.axisTick.show&&(f=M.axisTick.length)&&(a.strokeStyle=M.axisTick.color,a.beginPath(),ka(g).call(g,function(e){var t=n+s*(1-(e-u)/d);S.position===Ha?(a.moveTo(r,t),a.lineTo(r+f,t)):(a.moveTo(r+l,t),a.lineTo(r+l-f,t))}),a.stroke()),v=l-2-(M.axisTick.show?f:0),p=M.axisLabel.font,y=M.axisLabel.color,x=M.axisLabel.offsetX,b=M.axisLabel.offsetY,m=M.axisLabel.formatter,w=r+(this.position===Ha?f:v),a.font=p,a.fillStyle=y,a.textAlign=this.position===ja?Ha:ja,a.textBaseline=Fa,ka(g).call(g,function(e){var t=n+s*(1-(e-u)/d);a.save(),a.translate(w,t),a.rotate(cr(-i)),"function"==typeof m&&(e=m(e,A,R)),a.fillText(e,x,b),a.restore()}),a.save(),M.splitLine.show&&(C=L.bounds.bodyRect,k=C.x,V=C.y,I=C.width,D=C.height,T=M.splitLine.interval,a.strokeStyle=M.splitLine.color,a.lineWidth=M.splitLine.width||1,M.splitLine.pattern&&a.setLineDash(M.splitLine.pattern),a.beginPath(),ka(g).call(g,function(e,t){var i;t%T!=0||0===t&&L.bottomAxis.length||t===g.length-1&&L.topAxis.length||(i=V+D*(1-(e-u)/d),a.moveTo(k,i),a.lineTo(k+I,i))}),a.stroke()),a.restore()))}},{key:"drawSlider",value:function(e,t){var a=this,i=t.x,o=(t.y,t.width),r=t.height,n=nt(this.valueRange,2),l=n[0],s=n[1],h=this.ui,u=h.data,c=h.view,d=this.getDataZoomOption(),g=this.getDataZoomOption(),f=g.barBackground,v=void 0===f?"#eee":f,p=g.barValueBackground,y=void 0===p?"rgb(51,153,255)":p,x=g.barWidth,b=void 0===x?Math.min(12,o):x,m=g.barBorderRadius,w=void 0===m?0:m,C=g.min,k=void 0===C?l:C,V=g.max,I=void 0===V?s:V,D=g.sliderOffsetX,T=void 0===D?0:D,S=g.sliderOffsetY,L=void 0===S?0:S,A=g.sliderWidth,R=void 0===A?14:A,M=g.sliderHeight,P=void 0===M?5:M,B=g.sliderBackground,_=void 0===B?"#32D3EB":B,O=g.sliderBorderColor,E=void 0===O?"#32D3EB":O,W=g.sliderBorderWidth,H=void 0===W?1:W,j=g.sliderBorderRadius,N=void 0===j?0:j,F=g.sliderImage,z=g.sliderVisible,G=g.zoomIncrement,Y=void 0===G?.05:G,X=g.onChange,U=s-l,k=Math.max(l,k),I=Math.min(s,I);s<k&&(k=s),I<l&&(I=l);var Z=_o(t);Z.x=i+(o-b)/2,Z.width=b;var K=_o(Z);K.height*=(I-k)/U,K.y+=(s-I)/U*r;var q=Z.x+(b-R)/2+T,J=K.y+K.height-P/2+L,Q=K.y-P/2+L;!1!==z&&(Po(e,Z,v,w),Po(e,K,y,w),F?(drawImage(e,ht.Default.getImage(F),q,J,R,P),drawImage(e,ht.Default.getImage(F),q,Q,R,P)):(N<1&&(N*=Math.min(R,P)),e.beginPath(),nr(e,q,J,R,P,N),e.closePath(),e.fillStyle=_,Ne(e).call(e),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()),e.beginPath(),nr(e,q,Q,R,P,N),e.closePath(),e.fillStyle=_,Ne(e).call(e),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()))),this.ui.yAxisDataZoom={slider:{dataZoom:d,rect:t,barRect:Z,zoomIncrement:Y,min:l,max:s,value:[k,I],setter:function(e){var t=a.ui.originalOption.yAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===s?delete t.max:t.max=e[1],X&&X(i,e,u,c)},valueBarRect:K,sliderRect:{x:q,y:J,width:R,height:P},sliderRect2:{x:q,y:Q,width:R,height:P}}}}},{key:"drawMarkLine",value:function(T){var e,S,L,A,R,t,M,P,B,i=this.axisOption.markLines;i&&(e=this.ui.bounds.bodyRect,S=e.x,L=e.y,A=e.width,R=e.height,t=this.valueRange,M=t[0],P=t[1]-M,B=this.position,ka(i).call(i,function(e){var t,i,a=e.color,o=void 0===a?"rgba(242,83,75,0.7)":a,r=e.lineStyle,n=void 0===r?{}:r,l=e.itemStyle,s=void 0===l?{}:l,h=e.labelStyle,u=void 0===h?{}:h,c=e.arrowStyle,d=void 0===c?{}:c,g=e.value,f=s.radius,v=void 0===f?2:f,p=s.background,y=void 0===p?o:p,x=n.pattern,b=void 0===x?[4,4]:x,m=u.font,w=void 0===m?rc:m,C=n.color||o,k=n.width||1,V=u.color||o,I=d.background||o,D=L+R*(1-Math.abs(g-M)/P);T.save(),b&&T.setLineDash(b),T.lineWidth=k,T.strokeStyle=C,T.beginPath(),T.moveTo(S,D),T.lineTo(S+A,D),T.stroke(),T.beginPath(),T.arc(B===ja?S:S+A,D,v,0,2*Math.PI),T.fillStyle=y,Ne(T).call(T),T.beginPath(),B===ja?(T.moveTo(S+A+3,D),T.lineTo(S+A-4,D-3),T.quadraticCurveTo(S+A-1,D,S+A-4,D+3),T.closePath(),T.fillStyle=I,Ne(T).call(T),t=co(w,g),Ho(T,g,w,V,S+A+6,D-t.height/2,t.width,t.height,Na,Fa)):(T.moveTo(S-3,D),T.lineTo(S+4,D-3),T.quadraticCurveTo(S+1,D,S+4,D+3),T.closePath(),T.fillStyle=I,Ne(T).call(T),i=co(w,g),Ho(T,g,w,V,S-i.width-6,D-i.height/2,i.width,i.height,Na,Fa)),T.restore()}))}}]),l}(),Ic=ht.Default,Dc=Ic.clone,Tc=Ic.unionPoint;var Sc={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,rotate:0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},Lc=function(){et(o,kc);var a=ot(o);function o(e,t,i){return Je(this,o),a.call(this,e,t,i)}return $e(o,[{key:"draw",value:function(e){var t,i,a=this.ui,o=a.data,r=a.view,n=this.axisOption,l=this.axisIndex,s=a.bounds.xAxisRects[l],h=s.x,u=s.y,c=s.width,d=s.height,g=this.getTimeAxisTimes(),f=n.axisLabel.rotate,v=this.formatter||n.axisLabel.formatter,p=this.zoomTimeRange,y=this.getDataZoomOption();if(n.show&&(y&&p&&(i={x:s.x,y:s.y+s.height-18,width:s.width,height:18},this.drawSlider(e,i),s.x,s.y,s.width,s.height),n.axisLine.show&&(e.strokeStyle=n.axisLine.color,e.lineWidth=n.axisLine.width,e.beginPath(),this.position===Ea?(e.moveTo(h,u+d),e.lineTo(h+c,u+d)):(e.moveTo(h,u),e.lineTo(h+c,u)),e.stroke()),g&&g.length)){var x=co(n.axisLabel.font,Ju(tc(),v,o,r));if(p&&p[0]&&p[1]){t=p[1]-p[0];var b=0,m=0,w=n.axisLabel.interval;if(t?(b=c/(w=w||Math.max(Math.floor(c/(x.width+10)),1)),m=t/w):b=c/2,b&&(this.unitWidth=b,n.axisLabel.show||n.axisTick.show)){var C=n.axisLabel.font,k=n.axisLabel.color,V=n.axisLabel.align,I=n.axisTick.length,D=this.position===Ea?u:u+2+(n.axisTick.show?n.axisTick.length:0);if(n.axisTick.show&&I){e.strokeStyle=n.axisTick.color,e.beginPath();var T=h;if(t)for(;T<=h+c+2;)e.moveTo(T,u),e.lineTo(T,u+I),T+=b;else e.moveTo(T+c/2,u),e.lineTo(T+c/2,u+I);e.stroke()}if(n.axisLabel.show){var S=h,L=p[0];if(f)if(e.font=C,e.fillStyle=k,e.textAlign=0<f?Ha:ja,e.textBaseline=Fa,t)for(;S<=h+c+2;)e.save(),e.translate(S,D),e.rotate(cr(-f)),e.fillText(Ju(L,v,o,r),0,0),S+=b,L+=m,e.restore();else e.save(),e.translate(S+c/2,D),e.rotate(cr(-f)),e.fillText(Ju(L,v,o,r),0,0),e.restore();else if(t)for(;S<=h+c+2;)ht.Default.drawText(e,Ju(L,v,o,r),C,k,S-x.width/2,D,x.width,x.height,V),S+=b,L+=m;else ht.Default.drawText(e,Ju(L,v,o,r),C,k,S+c/2-x.width/2,D,x.width,x.height,V)}if(e.save(),n.splitLine.show){var A=rr(n.splitLine.interval)?n.splitLine.interval:1;0===A&&(A=1);var R=a.bounds.bodyRect,M=R.x,P=R.y,B=R.width,_=R.height;e.strokeStyle=n.splitLine.color,e.lineWidth=n.splitLine.width||1,n.splitLine.pattern&&e.setLineDash(n.splitLine.pattern),e.beginPath();var O=M;p[0];if(t)for(;O<=M+B+2;)0%A==0&&(e.moveTo(O,P),e.lineTo(O,P+_)),O+=b,0;else{var E=O+B/2;e.moveTo(E,P),e.lineTo(E,P+_)}e.stroke()}e.restore()}}}}},{key:"drawSlider",value:function(e,t){var a=this,i=(t.x,t.y),o=t.width,r=t.height,n=nt(this.timeRange,2),l=n[0],s=n[1],h=this.ui,u=h.data,c=h.view,d=this.getDataZoomOption(),g=d.barBackground,f=void 0===g?"#eee":g,v=d.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,y=d.barWidth,x=void 0===y?Math.min(12,o):y,b=d.barBorderRadius,m=void 0===b?0:b,w=d.min,C=void 0===w?l:w,k=d.max,V=void 0===k?s:k,I=d.sliderOffsetX,D=void 0===I?0:I,T=d.sliderOffsetY,S=void 0===T?0:T,L=d.sliderWidth,A=void 0===L?5:L,R=d.sliderHeight,M=void 0===R?14:R,P=d.sliderBackground,B=void 0===P?"#32D3EB":P,_=d.sliderBorderColor,O=void 0===_?"#32D3EB":_,E=d.sliderBorderWidth,W=void 0===E?1:E,H=d.sliderBorderRadius,j=void 0===H?0:H,N=d.sliderImage,F=d.sliderVisible,z=d.zoomIncrement,G=void 0===z?.05:z,Y=d.onChange,X=s-l,C=Math.max(l,C),V=Math.min(s,V);s<C&&(C=s),V<l&&(V=l);var U=_o(t);U.y=i+(r-x)/2,U.height=x;var Z=_o(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*o;var K=Z.x-A/2+D,q=Z.x+Z.width-A/2+D,J=Z.y+(x-M)/2+S;!1!==F&&(Po(e,U,f,m),Po(e,Z,p,m),N?(No(e,ht.Default.getImage(N),K,J),No(e,ht.Default.getImage(N),q,J)):(j<1&&(j*=Math.min(A,M)),e.beginPath(),nr(e,K,J,A,M,j),e.closePath(),e.fillStyle=B,Ne(e).call(e),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()),e.beginPath(),nr(e,q,J,A,M,j),e.closePath(),e.fillStyle=B,Ne(e).call(e),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:d,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:G,min:l,max:s,step:1,value:[C,V],setter:function(e){var t=a.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===s?delete t.max:t.max=e[1],Y&&Y(i,e,u,c)},sliderRect:{x:K,y:J,width:A,height:M},sliderRect2:{x:q,y:J,width:A,height:M}}}}}]),o}(),Ac=function(o,e,t,i,r){var a=r.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0]._axisObj.zoomTimeRange,l=Lo(i.color,t),s=e.itemStyle||{},h=e.lineStyle||{},u=e.areaStyle||{},c=h.color||l;if(r.seriesColors.push(c),a&&a.length){var d,g,f,v,p,y,x,b=function(e,t,i,a){var o=Kt(e).call(e,0);if(a){for(var r,n,l=a[0],s=a[1],h=0;h<o.length;h++)if(o[h][0]>=l){r=h;break}for(var u=o.length-1;0<=u;u--)if(o[u][0]<=s){n=u+1;break}o=Kt(o).call(o,r,n)}if(!t)return o;var c=[],d=o.length;if(i){if(d<=i)return o;Array.prototype.push.apply(c,We(o).call(o,d-i,i))}var g=[];if(!(t<(d=o.length)))return i&&o.push.apply(o,c),o;var f=2*(d/t|0);if(f<3)return i&&o.push.apply(o,c),o;for(var v=0;v<d;v+=f){for(var p=Kt(o).call(o,v,Math.min(v+f,d)),y=p.length,x=p[0],b=p[0],m=1;m<y;m++){var w=p[m];w[1]<b[1]&&(b=w),w[1]>x[1]&&(x=w)}x[0]>b[0]?(g.push(b),g.push(x)):(g.push(x),g.push(b))}return c=Ke(g).call(g,c)}(a,r.maxVisiblePoint,r.endProtectPoint,n),m=[],w=(e.name,r.data),C=r.view,k=r.bounds.bodyRect,V=k.x,I=k.y,D=k.width,T=k.height,S=i.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,L=S[0],A=S[1],R=n[0],M=n[1]-R,P=e.smooth,B=!!e.connectNulls,_=[],O=[],E=null;ka(b).call(b,function(e){var t,i,a=e[0],o=e[1];rr(o)?(t={x:V+D*((a-R)/M),y:$u([I,I+T],S,o,!0)},_.push(t),i=E?2:1,B&&1===i&&O.length&&(i=2),O.push(i),E=i,m.push(e)):E=null}),d=Kt(_).call(_,0),P&&2<=_.length&&(g="number"==typeof P?P:void 0,f=[],ka(O).call(O,function(e,t){1===e&&(v=[],f.push(v)),v.push(_[t])}),_=[],O=[],ka(f).call(f,function(e){var t=Xo(e,g);_=Ke(_).call(_,t.points),O=Ke(O).call(O,t.segments)})),_=Us(_).call(_,function(e){return makeInRect(k,e)}),o.save(),o.beginPath(),o.rect(V,I,D,T),!1!==e.clip&&o.clip(),u.color&&1<_.length&&(p=_[0],y=_[_.length-1],x=Qu(k,L,A),Wo(o,_,O),o.lineTo(y.x,x),o.lineTo(p.x,x),o.closePath(),o.fillStyle=Ko(o,u.color,k),Ne(o).call(o)),o.lineWidth=h.width||2,o.strokeStyle=Ko(o,c),h.pattern&&o.setLineDash(h.pattern),Wo(o,_,O),o.stroke(),o.restore();var W=s.size||0,H=s.activeSize||3;W||1!==_.length||(W=1);var j=s.background,N=void 0===j?c:j,F=s.borderWidth,z=void 0===F?1:F,G=s.borderColor,Y=void 0===G?c:G,X=s.visible;if(!1!==X&&ka(d).call(d,function(e,t){o.beginPath();var i=W,a=m[t][0]===r.hoverTime;("function"!=typeof X||!a&&X(e,t,m,!1,w,C))&&(i&&hr(k,e)&&o.arc(e.x,e.y,i,0,2*Math.PI),o.closePath(),N&&(o.fillStyle=N,Ne(o).call(o)),z&&Y&&(o.lineWidth=z,o.strokeStyle=Y,o.stroke()))}),r.hoverTime&&H){var U,Z,K=s.activeBackground,q=void 0===K?N:K,J=s.activeBorderColor,Q=void 0===J?Y:J,$=s.activeBorderWidth,ee=void 0===$?z:$;for(r._hoverHandlers||(r._hoverHandlers=[]),Z=0;Z<m.length;Z++)if(m[Z][0]===r.hoverTime){U=d[Z];break}if(!U||"function"==typeof X&&!X(U,Z,m,!0,w,C))return;r._hoverHandlers.push(function(){o.beginPath(),o.arc(U.x,U.y,H,0,2*Math.PI),q&&(o.fillStyle=q,Ne(o).call(o)),ee&&Q&&(o.lineWidth=ee,o.strokeStyle=Q,o.stroke())})}}};var Rc=function(a,e,o,t,i){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I,D=i.seriesDatas[o],T=e.name,S=e.itemStyle||{},L=e.lineStyle||{},A=i.bounds.bodyRect,R=A.x,M=A.y,P=A.width,B=A.height,_=Lo(t.color,o),O=t.xAxis[e.xAxisIndex||0],E=t.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,W=E[0],H=E[1]-W,j=O._axisObj.zoomValueRange,N=j[0],F=j[1]-N,z=e.smooth,G=i.hitSeriesIndex,Y=i.hitPointIndex,X=t.clipMode;!Oo(D)&&Eo(D)&&(n=D.x||[],l=D.y||[],D=[],ka(h=(s=l<n.length)?n:l).call(h,function(e,t){s?D.push([e,l[t]]):D.push([n[t],e])})),D&&D.length&&(u=[],c=[],d=[],ka(D).call(D,function(e,t){var i,a=nt(e,2),o=a[0],r=a[1],n={x:R+P*((o-N)/F),y:M+B*(1-(r-W)/H)};X?(u.push(n),d.push(t?2:1),c.push(e)):g=hr(A,n)?(u.push(n),c.push(e),i=g?2:1,d.push(i),i):null}),i.pointsInfo[o]={values:c,name:T,points:u},r=Kt(u).call(u,0),z&&2<=u.length&&(f="number"==typeof z?z:void 0,v=[],ka(d).call(d,function(e,t){1===e&&(p=[],v.push(p)),p.push(u[t])}),u=[],d=[],ka(v).call(v,function(e){var t=Xo(e,f);u=Ke(u).call(u,t.points),d=Ke(d).call(d,t.segments)})),a.save(),a.beginPath(),a.rect(R,M,P,B),a.clip(),y=L.color||_,a.lineWidth=L.width||2,a.strokeStyle=Ko(a,y),i.seriesColors.push(y),L.pattern&&a.setLineDash(L.pattern),Wo(a,u,d),a.stroke(),a.restore(),b=S.activeSize||4,(x=S.size||2)||1!==u.length||(x=1),w=void 0===(m=S.background)?y:m,k=void 0===(C=S.borderWidth)?1:C,I=void 0===(V=S.borderColor)?y:V,x&&(a.beginPath(),ka(r).call(r,function(e,t){var i;!hr(A,e)||(i=G===o&&Y===t?b:x)&&(a.moveTo(e.x,e.y),a.arc(e.x,e.y,i,0,2*Math.PI))}),k&&I&&(a.lineWidth=k,a.strokeStyle=I,a.stroke()),w&&(a.fillStyle=w,Ne(a).call(a))))};var Mc=function(){et(l,Cc);var n=ot(l);function l(e,t,i){var a,o,r;return Je(this,l),(r=n.call(this,e,t,i)).axisIndex=jt(a=t.xAxis).call(a,e),ka(o=t.series).call(o,function(e,t){(e.xAxisIndex||0)===r.axisIndex&&(r.series.push(e),r.seriesIndexs.push(t))}),r.position=e.position||(r.axisIndex?Ea:Wa),r.labelHeight=r.getMaxValueBound().height,r.boundHeight=r.getBoundHeight(),r}return $e(l,[{key:"getAxisValues",value:function(){var s=this,e=this.series,h=this.seriesIndexs,u=[];ka(e).call(e,function(e,t){var i=s.ui.seriesDatas[h[t]];if(i)if(Oo(i))u=Ke(u).call(u,i);else if(Eo(i)){for(var a=i.x,o=i.y,r=Math.min(a.length,o.length),n=[],l=0;l<r;l++)n.push([a[l],0]);u=Ke(u).call(u,n)}});var t=[];return ka(u).call(u,function(e){t.push(e[0])}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,a=this.getDataZoomOption(),o=0;a&&!1!==a.sliderVisible&&(o+=18);var r="e",n=this.getAxisValues();if(n&&ka(n).call(n,function(e){e.toString().length>r.length&&(r=e)}),t){t=Math.max(-45,t);return t=Math.min(45,t),o+zo(e.axisLabel.font,r,t).height+4+i}return o+co(e.axisLabel.font,"e").height+4+i}},{key:"draw",value:function(a){var e,o=this,t=this.ui,r=t.data,n=t.view,i=this.axisOption,l=this.axisIndex,s=t.bounds.xAxisRects[l],h=this.getDataZoomOption(),u=this.zoomValueRange,c=i.axisLabel.rotate;h&&(e={x:s.x,y:s.y+s.height-18,width:s.width,height:18},this.drawSlider(a,e),s={x:s.x,y:s.y,width:s.width,height:s.height-18});var d,g,f,v,p,y,x,b,m,w,C,k,V,I,D,T=s.x,S=s.y,L=s.width,A=s.height;!1!==i.show&&(i.axisLine.show&&(a.strokeStyle=i.axisLine.color,a.lineWidth=i.axisLine.width,a.beginPath(),l?(a.moveTo(T,S+A),a.lineTo(T+L,S+A)):(a.moveTo(T,S),a.lineTo(T+L,S)),a.stroke()),i.axisLabel.show&&(d=nt(u,3),g=d[0],f=d[1],d[2],v=f-g,p=this.getValuesByValueRange(),y=0,i.axisTick.show&&(y=i.axisTick.length)&&(a.strokeStyle=i.axisTick.color,a.beginPath(),ka(p).call(p,function(e){var t=T+L*((e-g)/v);l?(a.moveTo(t,S+A),a.lineTo(t,S+A-y)):(a.moveTo(t,S),a.lineTo(t,S+y))}),a.stroke()),x=i.axisLabel.font,b=i.axisLabel.color,m=i.axisLabel.formatter,w=S+(l?0:y),a.font=x,a.fillStyle=b,a.textBaseline=Fa,a.testAlign=0<c?Ha:ja,ka(p).call(p,function(e,t){var i=T+L*((e-g)/v);c?(a.save(),"function"==typeof m&&(e=m(e,r,n)),a.translate(i,w),a.rotate(cr(-c)),a.fillText(e.toString(),0,0),a.restore()):(a.textAlign=Na,a.textBaseline=o.position===Wa?Ea:Wa,a.fillText(e.toString(),i,w))}),a.save(),i.splitLine.show&&(C=t.bounds.bodyRect,k=C.x,V=C.y,I=C.width,D=C.height,a.strokeStyle=i.splitLine.color,a.lineWidth=i.splitLine.width||1,i.splitLine.pattern&&a.setLineDash(i.splitLine.pattern),a.beginPath(),ka(p).call(p,function(e,t){var i;0!==t&&(i=k+I*((e-g)/v),a.moveTo(i,V),a.lineTo(i,V+D))}),a.stroke()),a.restore()))}},{key:"drawSlider",value:function(e,t){var a=this,i=(t.x,t.y),o=t.width,r=t.height,n=nt(this.valueRange,2),l=n[0],s=n[1],h=this.ui,u=h.data,c=h.view,d=this.getDataZoomOption(),g=d.barBackground,f=void 0===g?"#eee":g,v=d.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,y=d.barWidth,x=void 0===y?Math.min(12,o):y,b=d.barBorderRadius,m=void 0===b?0:b,w=d.min,C=void 0===w?l:w,k=d.max,V=void 0===k?s:k,I=d.sliderOffsetX,D=void 0===I?0:I,T=d.sliderOffsetY,S=void 0===T?0:T,L=d.sliderWidth,A=void 0===L?5:L,R=d.sliderHeight,M=void 0===R?14:R,P=d.sliderBackground,B=void 0===P?"#32D3EB":P,_=d.sliderBorderColor,O=void 0===_?"#32D3EB":_,E=d.sliderBorderWidth,W=void 0===E?1:E,H=d.sliderBorderRadius,j=void 0===H?0:H,N=d.sliderImage,F=d.sliderVisible,z=d.zoomIncrement,G=void 0===z?.05:z,Y=d.onChange,X=s-l,C=Math.max(l,C),V=Math.min(s,V);s<C&&(C=s),V<l&&(V=l);var U=_o(t);U.y=i+(r-x)/2,U.height=x;var Z=_o(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*o;var K=Z.x-A/2+D,q=Z.x+Z.width-A/2+D,J=Z.y+(x-M)/2+S;!1!==F&&(Po(e,U,f,m),Po(e,Z,p,m),N?(No(e,ht.Default.getImage(N),K,J),No(e,ht.Default.getImage(N),q,J)):(j<1&&(j*=Math.min(A,M)),e.beginPath(),nr(e,K,J,A,M,j),e.closePath(),e.fillStyle=B,Ne(e).call(e),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()),e.beginPath(),nr(e,q,J,A,M,j),e.closePath(),e.fillStyle=B,Ne(e).call(e),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:d,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:G,min:l,max:s,value:[C,V],setter:function(e){var t=a.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===s?delete t.max:t.max=e[1],Y&&Y(i,e,u,c)},sliderRect:{x:K,y:J,width:A,height:M},sliderRect2:{x:q,y:J,width:A,height:M}}}}}]),l}(),Pc=ht.Default,Bc=Pc.clone;Pc.unionPoint;function _c(e,t){var i,a,o=t.isEmphasis,r=t.type,n=t.outFormatter,l=e.name,s=e.value,h=e.percent,u=e.seriesName,c=e.labelEmphasis,d=e.labelNormal,g=e.labelLineNormal,f=e.labelLineEmphasis;"label"===r?a=o?(i=c.font,c.formatter):(i=d.font,d.formatter):"labelLine"===r&&(a=o?(i=f.font,f.formatter):(i=g.font,g.formatter)),n&&(a=n);var v=l.toString();a&&(v=(a=a.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?u:"b"===t?l:"c"===t?s:"d"===t?(100*h).toFixed(1)+"%":e}));var p,y,x=v.split("<br>");return i&&(y=(p=co(i,"e").height+1)*x.length/2),{labelTextArray:x,textHeight:p,beginHeight:y}}var Oc=ht.Default.isBoolean,Ec=function(){function t(e){Je(this,t),this.initGLabel(e),this.initGLabelLine(e)}return $e(t,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),a=e.getValue("label.normal.formatter"),o=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!Oc(t)||t,position:i||"center",formatter:a||"",color:o,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),s=e.getValue("label.emphasis.formatter"),h=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!Oc(n)||n,position:l||"center",formatter:s||"",color:h,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),a=e.getValue("labelLine.normal.length2"),o=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),s=e.getValue("labelLine.normal.lineColor"),h=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!Oc(t)||t,length:void 0===i?15:i,length2:void 0===a?10:a,formatter:o||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:s,textColor:h};var u=e.getValue("labelLine.emphasis.show"),c=e.getValue("labelLine.emphasis.length"),d=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),y=e.getValue("labelLine.emphasis.lineColor"),x=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!Oc(u)||u,length:void 0===c?15:c,length2:void 0===d?10:d,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:y,textColor:x}}}]),t}(),Wc={f:Object.getOwnPropertySymbols},Hc=Object.assign,jc=Object.defineProperty,Nc=!Hc||n(function(){if(P&&1!==Hc({b:1},Hc(jc({},"a",{enumerable:!0,get:function(){jc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach(function(e){t[e]=e}),7!=Hc({},e)[i]||Oi(Hc({},t)).join("")!=a})?function(e,t){for(var i=I(e),a=arguments.length,o=1,r=Wc.f,n=O.f;o<a;)for(var l,s=H(arguments[o++]),h=r?Oi(s).concat(r(s)):Oi(s),u=h.length,c=0;c<u;)l=h[c++],P&&!n.call(s,l)||(i[l]=s[l]);return i}:Hc;k({target:"Object",stat:!0,forced:Object.assign!==Nc},{assign:Nc});var Fc=Q.Object.assign,zc=ht.Default.isEmptyObject,Gc=function(){function i(e,t){Je(this,i),Fc(this,e),this.initDefaultValue(t)}return $e(i,[{key:"initDefaultValue",value:function(e){var t,i,a=this.data,o=this.index,r=this.color,n=a.name,l=void 0===n?"系列名":n,s=a.value,h=void 0===s?0:s,u=a.itemStyle,c=void 0===u?{}:u,d=a.labelLine,g=void 0===d?{}:d,f=a.label,v=void 0===f?{}:f,p=e.gLabelNormal,y=e.gLabelEmphasis,x=e.gLabelLineNormal,b=e.gLabelLineEmphasis,m=r[o%r.length];this.name=l,this.value=h,this.itemStyle=Fc({color:m,borderColor:"#000"},c),this.labelNormal=Fc({},p,v.normal||{}),this.labelEmphasis=Fc({},y,v.emphasis||{}),this.labelLineNormal=Fc({},x,g.normal||{}),this.labelLineEmphasis=Fc({},b,g.emphasis||{}),zc(this.labelNormal.color)&&(t=this.labelNormal.position,this.labelNormal.color="center"===t?m:"black"),zc(this.labelEmphasis.color)&&(i=this.labelEmphasis.position,this.labelEmphasis.color="center"===i?m:"black"),zc(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=m),zc(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=m),zc(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=m),zc(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=m),this.pieColor=m}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,a=this.roseRadius,o=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?a+o:r)*Math.cos(n),s=t+(i?a+o:r)*Math.sin(n);return{textX:(l+(e+o*Math.cos(n)))/2,textY:(s+(t+o*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return _c(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t,i,a,o,r=this.labelLineNormal,n=this.labelLineEmphasis,l=this.centerX,s=this.centerY,h=this.roseType,u=this.roseRadius,c=this.innerRadius,d=this.outerRadius,g=this.lineAngle,f=this.hoverOffset,v=r.length,p=n.length,y=e?c+u+f:c+u,x=e?d+f:d,b=l+(h?y:x)*Math.cos(g),m=s+(h?y:x)*Math.sin(g);return a=e?(i=l+(t=d+f+p)*Math.cos(g),s+t*Math.sin(g)):(i=l+(o=d+v)*Math.cos(g),s+o*Math.sin(g)),{x0:b,y0:m,x1:i,y1:a}}},{key:"getLabelLineLabelInfo",value:function(e){return _c(this,{isEmphasis:e,type:"labelLine"})}}]),i}(),Yc=ht.Default.isBoolean,Xc=Math.PI,Uc=Xc/180;function Zc(e,t){for(var i=0;i<e.length;i++)if(hr(e[i].rect,t))return i}var Kc=new Cu,qc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onMove",value:function(e,t,i,a){!function(e,t,i,a,o){var r=ir(i,t,o);if(r){var n,l,s,h,u,c,d,g,f,v=r.arcPoints,p=r.arcAngles,y=r.center,x=r.radius,b=r.foucusArcNum,m=r.hoverOffset,w=r.tooltip,C=void 0===w?{}:w,k=r.pieItems,V=Bo(i,t,o,a);if(v){var I=ht.Math.Vector2,D=2*Math.PI,T=new I(y),S=x.outerRadius,L=x.innerRadius,A=ht.Default.getDistance(V,y);if(L<A&&A<(void 0!==b?S+m:S))for(var R=0,M=p.length;R<M;R++){var P=k[R],B=P.roseType,_=P.roseRadius;if(B&&(R===b?L+_+m:L+_)<A)R===b&&(delete r.foucusArcNum,t.iv());else{var O=new I(v[R]).sub(T),E=new I(V).sub(T),W=O.clone().normalize().dot(E.normalize()),H=Math.acos(W);if(0<O.x*E.y-E.x*O.y){if(H<p[R]){b!=R&&(r.foucusArcNum=R,t.iv());break}b===R&&(delete r.foucusArcNum,t.iv())}else{if(D-H<p[R]){b!=R&&(r.foucusArcNum=R,t.iv());break}b===R&&(delete r.foucusArcNum,t.iv())}}}else void 0!==b&&(delete r.foucusArcNum,t.iv())}C.show&&(void 0!==(n=r.foucusArcNum)?(s=(l=k[n]).value,h=l.percent,u=l.name,c=l.seriesName,d=C.formatter,g=[],d?(f=_c(l,{outFormatter:d}).labelTextArray,ka(f).call(f,function(e,t){g.push([null,e])})):g=[["名称",u],["百分比",(100*h).toFixed(1)+"%"],["数值",s]],Kc.setInfo({label:c,datas:g}),Wh.show(Kc.getView(),e)):Wh.hide())}}(e,t,i,a,this)}},{key:"onUp",value:function(e,t,i){var a,o=ir(i,t,this),r=o.foucusArcNum,n=o.pieItems,l=o.onSelected;void 0!==l&&void 0!==r&&l((a=n[r]).name,a.value,a.percent,t,i)}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);void 0!==a.foucusArcNum&&(delete a.foucusArcNum,t.iv(),Wh.hide())}}]),t}(),Jc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.call(this)}return $e(t,[{key:"onMove",value:function(f,v,p,e){var y=ir(p,v,this),x=y.ui,b=y.option;if(x&&b&&!y.dragging){var t=x.bounds,m=Bo(p,v,this,e,f),i=t.bodyRect,a=x.xAxisDataZoom,o=x.yAxisDataZoom,w=a?a.slider:null,C=o?o.slider:null;if(hr(i,m)&&b.tooltip.show){var r=function(){function e(r){var e=o[r],t=e.points,n=Lu(e),l=e.name;ka(t).call(t,function(e,t){var i,a,o=(i=e,a=m,ht.Default.getDistance(i,a));o<d&&o<1/0&&(s=ai(r),c=l,u=n[h=t])})}var s,h,u,c,t,i,a,d=6/(p.getZoom?p.getZoom():1),o=x.pointsInfo,r=b.tooltip.formatter;for(t in o)e(t);rr(u)?(a=u.join(","),r?a=r({name:c,value:u},v,p).toString():c&&(a=Ke(i="".concat(c,"<br/>")).call(i,a)),Wh.show(a,f)):Wh.hide();var n,l=y.hitSeriesIndex,g=y.hitPointIndex;return y.hitSeriesIndex=s,g===(y.hitPointIndex=h)&&l===s||v.iv(),(w||C)&&(n=y.sliderInfo={info:[],body:!0},w&&n.info.push({axis:Ua,info:w}),C&&n.info.push({axis:Za,info:C})),{v:void 0}}();if("object"===qe(r))return r.v}if(w&&(hr(Ao(w.sliderRect,3),m)||hr(Ao(w.sliderRect2,3),m)||hr(w.valueBarRect,m)))return So(p,"ew-resize"),void(y.sliderInfo={axis:Ua,info:w});if(C&&(hr(Ao(C.sliderRect,3),m)||hr(Ao(C.sliderRect2,3),m)||hr(C.valueBarRect,m)))return So(p,"ns-resize"),void(y.sliderInfo={axis:Za,info:C});delete y.sliderInfo,So(p,"default")}}},{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h=ir(i,t,this),u=h.ui,c=h.option;u&&c&&!h.dragging&&(o=u.xAxisDataZoom,r=u.yAxisDataZoom,n=Bo(i,t,this,a,e),l=o?o.slider:null,s=r?r.slider:null,l&&hr(l.barRect,n)&&!h.sliderInfo&&(Uu(l.setter,l,n,l.barRect),t.iv()),s&&hr(s.barRect,n)&&!h.sliderInfo&&(Zu(s.setter,s,n,s.barRect),t.iv()))}},{key:"onLeave",value:function(e,t,i){var a=ir(i,t,this);rr(a.hitPointIndex)&&(delete a.hitSeriesIndex,delete a.hitPointIndex,Wh.hide(),t.iv()),a.dragging||So(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,a){var o,r,n,l,s,h,u,c,d=ir(i,t,this),g=d.sliderInfo;d.ui;g&&(r=(o=g.info).sliderRect,n=o.sliderRect2,l=o.valueBarRect,s=o.value,h=o.barRect,u=Bo(i,t,this,a,e),d.dragging=!0,g.body?ka(c=g.info).call(c,function(e){e.draggingValue=Ku(e.info.value[0],e.info.value[1],e.info.barRect,u,e.axis===Za)}):hr(Ao(r,3),u)?g.fixed=s[1]:hr(Ao(n,3),u)?g.fixed=s[0]:hr(l,u)&&(Ua===g.axis?g.draggingValue=Uu(null,g.info,u,h,null,!0):g.draggingValue=Zu(null,g.info,u,h,null,!0)))}},{key:"onDrag",value:function(e,t,i,a){var o,r,n,c,l,s,h,u,d,g,f,v,p,y,x,b=ir(i,t,this),m=b.sliderInfo,w=b.option;b.dragging&&m&&(r=(o=m.info).barRect,n=o.setter,o.sliderRect,o.sliderRect2,o.valueBarRect,o.value,o.dataZoom,c=Bo(i,t,this,a,e),l=m.axis===Ua?Uu:Zu,x=Ua===m.axis?w.xAxis[0].axisLabel?w.xAxis[0].axisLabel.formatter:null:w.yAxis[0].axisLabel?w.yAxis[0].axisLabel.formatter:null,rr(m.fixed)?(s=l(n,m.info,c,r,m.fixed),Wh.show(x?x(s,t,i):s,e)):rr(m.draggingValue)?(h=m.draggingValue,u=l(null,m.info,c,r,null,!0)-h,d=m.info.value,g=m.info.min,f=m.info.max,(v=[d[0]+u,d[1]+u])[0]<g?v=[g,g+(d[1]-d[0])]:v[1]>f&&(v=[f-(d[1]-d[0]),f]),m.info.setter(v),p=v.join(","),x&&(p=Us(v).call(v,function(e){return x(e,t,i)}).join(", ")),Wh.show(p,e)):m.body&&ka(y=m.info).call(y,function(e){var t=e.info,i=t.barRect,a=t.setter,o=t.min,r=t.max,n=e.info.value,l=e.draggingValue,s=Ku(n[0],n[1],i,c,e.axis===Za)-l;e.axis===Za&&(s=-s);var h=e.info.value,u=[h[0]+s,h[1]+s];u[0]<o?u=[o,o+(h[1]-h[0])]:u[1]>r&&(u=[r-(h[1]-h[0]),r]),a(u)}),t.iv())}},{key:"onEndDrag",value:function(e,t,i){var a=ir(i,t,this);delete a.sliderInfo,delete a.dragging,Wh.hide()}},{key:"onScroll",value:function(e,t,i,a){var o;qu(e,t,i,this,a)&&(delete(o=ir(i,t,this)).hitSeriesIndex,delete o.hitPointIndex,t.iv())}}]),t}(),Qc=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.apply(this,arguments)}return $e(t,[{key:"onLeave",value:function(e,t,i){So(i,"default")}},{key:"onMove",value:function(e,t,i,a){var o,r,n=ir(i,t,this),l=n.uiInfos;l&&l.length&&(o=Bo(i,t,this,a,i),r=Zc(l,o),So(i,rr(r)?"pointer":n.defaultCursor||"default"))}},{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h,u,c,d,g,f,v,p=ir(i,t,this),y=p.uiInfos;y&&y.length&&(o=Bo(i,t,this,a,i),r=Zc(y,o),n=ar(this,"value",t),rr(r)&&(l=p.onChange,s=p.dataSource,h=p.value,u=p.dataValue,c=p.multiple,d=s[r].value,c?(g=s[r].value,v=Kt(f=u).call(f,0),0<=jt(v).call(v,g)?We(v).call(v,jt(v).call(v,g),1):v.push(g),t.a(n,v.join(",")),l&&l(f,v,t,i)):r!==p.activeIndex&&(t.a(n,d),l&&l(h,d,t,i))))}}]),t}();function $c(e,t){for(var i=0;i<e.length;i++)if(!e[i].active&&hr(e[i].rect,t))return e[i].value}var ed=function(){et(t,Oh);var e=ot(t);function t(){return Je(this,t),e.apply(this,arguments)}return $e(t,[{key:"onLeave",value:function(e,t,i){So(i,"default")}},{key:"onMove",value:function(e,t,i,a){var o,r,n=ir(i,t,this),l=n.uiInfos;l&&l.length&&(o=Bo(i,t,this,a,i),r=$c(l,o),So(i,rr(r)?"pointer":n.defaultCursor||"default"))}},{key:"onDown",value:function(e,t,i,a){var o,r,n,l,s,h=ir(i,t,this),u=h.uiInfos;u&&u.length&&(o=Bo(i,t,this,a,i),r=$c(u,o),n=ar(this,"value",t),rr(r)&&r!==h.value&&(l=h.onChange,s=h.value,n&&t.a(n,r),l&&l(s,r,t,i)))}}]),t}();return gr.comp={button:function(e,t,i,a,o){var r,n,l,s,h,u=i.getValue("text"),c=i.getValue("disabled"),d=i.getValue("font"),g=i.getValue("icon"),f=i.getValue("iconPosition"),v=i.getValue("iconWidth"),p=i.getValue("iconHeight"),y=i.getValue("iconGap"),x=i.getColor("iconColor"),b=i.getColor("hoverIconColor"),m=i.getColor("activeIconColor"),w=i.getColor("textColor"),C=i.getColor("hoverTextColor"),k=i.getColor("activeTextColor"),V=i.getColor("disabledTextColor"),I=i.getValue("borderWidth"),D=i.getColor("borderColor"),T=i.getColor("hoverBorderColor"),S=i.getColor("activeBorderColor"),L=i.getColor("disabledBorderColor"),A=i.getColor("background"),R=i.getColor("hoverBackground"),M=i.getColor("activeBackground"),P=i.getColor("disabledBackground"),B=i.getValue("borderRadius"),_=i.getValue("handleClick"),O=ir(o,a,i),E=nt(go(Rr),4),W=(E[0],E[1],E[2],E[3],nt(Ta(B),4)),H=W[0],j=W[1],N=W[2],F=W[3],z=t.x,G=t.y,Y=t.width,X=t.height;c?(A=P,D=L,w=V,I=I||1):(A=Ma(O,A,R,M,!0),D=Ma(O,D,T,S,!0),x=Ma(O,x,b,m,!1,!0),w=Ma(O,w,C,k,!0)),e.fillStyle=A,e.beginPath(),nr(e,z,G,Y,X,H,j,F,N),e.closePath(),Ne(e).call(e),I&&D&&(e.strokeStyle=D,e.lineWidth=I,e.stroke()),!g&&rr(u)?(e.textAlign="center",e.textBaseline="middle",e.font=d,e.fillStyle="red",e.fillText(u,z+Y/2,G+X/2)):g&&!rr(u)?Lr(e,Ar(g),"uniform",z+.5*(Y-v),G+.5*(X-p),v,p,a,o,x):g&&rr(u)&&(r=co(d,u),Ea===f||Wa===f?(n=G+.5*(X-p-r.height-y),l={x:z,height:r.height,width:Y},s={x:z+.5*(Y-v),width:v,height:p},Ea===f?(l.y=n+p+y,s.y=n):Wa===f&&(l.y=n,s.y=n+r.height+y)):(h=z+.5*(Y-v-r.width-y),l={width:r.width,y:G,height:X},s={y:.5*(X-p),width:v,height:p},Ha===f?(l.x=h,s.x=h+r.width+y):(l.x=h+v+y,s.x=h)),Sr(e,u,d,w,l.x,l.y,l.width,l.height,"center","middle"),Lr(e,Ar(g),"uniform",s.x,s.y,s.width,s.height,a,o,x)),O&&(O.disabled=c,O.onClick=_)},input:function(e,t,i,a,o){var r,n,l,s,h,u,c,d,g,f,v=i.getValue("value"),p=i.getValue("placeholder"),y=i.getColor("placeholderColor"),x=i.getValue("disabled"),b=i.getValue("borderWidth"),m=i.getColor("borderColor"),w=i.getValue("borderPattern"),C=i.getColor("focusBorderColor")||m,k=i.getValue("borderRadius"),V=i.getValue("padding"),I=i.getColor("background"),D=i.getColor("focusBackground")||I,T=i.getValue("icon"),S=i.getValue("iconWidth"),L=i.getValue("iconHeight"),A=i.getValue("iconAlign"),R=i.getValue("font"),M=i.getValue("textAlign"),P=i.getColor("textColor"),B=i.getValue("maxLength"),_=i.getValue("inputType"),O=i.getValue("enterEndInputable"),E=i.getValue("onKeyDown"),W=i.getValue("onKeyUp"),H=i.getValue("onChange"),j=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",N=i.getValue("formatter"),F=ir(o,a,i),z=F&&F.editing,G=F&&F.editingValue,Y=nt(Ta(V),4),X=Y[0],U=Y[1],Z=Y[2],K=Y[3],q=nt(Ta(k),4),J=q[0],Q=q[1],$=q[2],ee=q[3],te=t.x,ie=t.y,ae=t.width,oe=t.height;a&&z?(r=D,m=C):r=I,e.beginPath(),nr(e,te,ie,ae,oe,J,Q,ee,$),e.closePath(),r&&(e.fillStyle=r,Ne(e).call(e)),(b&&m||z&&b&&C)&&(e.save(),e.strokeStyle=z?C:m,e.lineWidth=b,w&&w.length&&e.setLineDash(w),e.stroke(),e.restore()),v=(rr(v)?v:"")+"",G&&z||(n=!v&&p,l=(N?N(v,a,o):v)||p||"",s=v?P:y,h=Math.max(0,ae-K-U),u=Math.max(0,oe-X-Z),c=te+K,d=ie+X,z&&(l=p||"",s=y),l&&(e.save(),e.beginPath(),e.rect(c,d,h,u),e.clip(),!n&&a&&"password"===_&&(l=function(){for(var e="",t=0;t<l.length;t++)e+="•";return e}()),Pr(e,l,R,s,c,ie+1,h,oe,M,"middle"),e.restore())),T&&(g="left"===A?te:"center"===A?te+.5*(ae-S):te+ae-S,Br(e,_r(T),"uniform",g,.5*(oe-L),S,L,a,o)),x&&(f=b/2,e.beginPath(),nr(e,te-f,ie-f,ae+b,oe+b,J,Q,ee,$),e.fillStyle=j,e.closePath(),Ne(e).call(e)),F&&(F.disabled=x,F.font=R,F.value=v,F.placeholder=p,F.textAlign=M,F.maxLength=B,F.textColor=P,F.inputType=_,F.enterEndInputable=O,F.onKeyUp=W,F.onKeyDown=E,F.onChange=H,F.padding=V,F.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,a,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x=i.getValue("value"),b=i.getValue("placeholder"),m=i.getColor("placeholderColor"),w=i.getColor("min"),C=i.getColor("max"),k=i.getColor("step"),V=i.getValue("disabled"),I=i.getValue("borderWidth"),D=i.getColor("borderColor"),T=i.getColor("focusBorderColor")||D,S=i.getValue("borderRadius"),L=i.getValue("padding"),A=i.getColor("background"),R=i.getColor("focusBackground")||A,M=i.getValue("icon"),P=i.getValue("iconWidth"),B=i.getValue("iconHeight"),_=i.getValue("iconAlign"),O=i.getValue("font"),E=i.getValue("textAlign"),W=i.getColor("textColor"),H=i.getValue("maxLength"),j=i.getValue("enterEndInputable"),N=i.getValue("buttonVisible"),F=i.getValue("onKeyDown"),z=i.getValue("onKeyUp"),G=i.getValue("onChange"),Y=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",X=ir(o,a,i),U=X&&X.editing,Z=X&&X.editingValue,K=nt(Ta(L),4),q=K[0],J=K[1],Q=K[2],$=K[3],ee=nt(Ta(S),4),te=ee[0],ie=ee[1],ae=ee[2],oe=ee[3],re=t.x,ne=t.y,le=t.width,se=t.height;a&&U?(r=R,D=T):r=A,e.beginPath(),nr(e,re,ne,le,se,te,ie,oe,ae),e.closePath(),r&&(e.fillStyle=r,Ne(e).call(e)),(I&&D||U&&I&&T)&&(e.strokeStyle=U?T:D,e.lineWidth=I,e.stroke()),(Z||0===Z)&&U||(n=rr(x)?x:rr(b)?b:"",l=rr(x)?W:m,s=Math.max(0,le-$-J),h=Math.max(0,se-q-Q),u=re+$,c=ne+q,U&&(n=rr(b)?b:"",l=m),rr(n)&&(e.save(),e.beginPath(),e.rect(u,c,s,h),e.clip(),Rs(e,n,O,l,u,ne+1,s,se,E,"middle"),e.restore())),N&&(d=re+le-20,g=ne+I/2,v=5<(f=se-I)/2?2.5:f/2*.4,e.strokeStyle=D,e.beginPath(),e.moveTo(d,g),e.lineTo(d,g+f),e.moveTo(d,g+f/2),e.lineTo(20+d,g+f/2),e.stroke(),e.beginPath(),e.moveTo(6+d,g+f/4+v),e.lineTo(10+d,g+f/4-v),e.lineTo(14+d,g+f/4+v),e.stroke(),e.beginPath(),e.moveTo(6+d,g+f/4*3-v),e.lineTo(10+d,g+f/4*3+v),e.lineTo(14+d,g+f/4*3-v),e.stroke(),X&&(X.buttonRects=[{x:d,y:g,width:20,height:se/2},{x:d,y:g+se/2,width:20,height:se/2}])),M&&(p="left"===_?re:"center"===_?re+.5*(le-P):re+le-P,Ms(e,Ps(M),"uniform",p,.5*(se-B),P,B,a,o)),V&&(y=I/2,e.beginPath(),nr(e,re-y,ne-y,le+I,se+I,te,ie,oe,ae),e.fillStyle=Y,e.closePath(),Ne(e).call(e)),X&&(X.disabled=V,X.font=O,X.value=x,X.placeholder=b,X.textAlign=E,X.maxLength=H,X.textColor=W,X.enterEndInputable=j,X.onKeyUp=z,X.onKeyDown=F,X.onChange=G,X.padding=L,X.step=k,X.min=w,X.max=C,X.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,a,o){var r,n,l,s,h,u,c,d,g=i.getValue("value"),f=i.getValue("placeholder"),v=i.getColor("placeholderColor"),p=i.getValue("disabled"),y=i.getValue("borderWidth"),x=i.getColor("borderColor"),b=i.getValue("borderPattern"),m=i.getColor("focusBorderColor"),w=i.getValue("borderRadius"),C=i.getValue("padding"),k=i.getColor("background"),V=i.getColor("focusBackground")||k,I=i.getValue("textAlign"),D=i.getColor("textColor"),T=i.getValue("lineHeight"),S=i.getValue("font"),L=i.getValue("wordBreak"),A=i.getValue("maxLength"),R=i.getValue("enterEndInputable"),M=i.getValue("onKeyUp"),P=i.getValue("onKeyDown"),B=i.getValue("onChange"),_=i.getValue("formatter"),O=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",E=ir(o,a,i),W=E&&E.editing,H=E&&E.editingValue,j=nt(Ta(C),4),N=j[0],F=j[1],z=j[2],G=j[3],Y=nt(Ta(w),4),X=Y[0],U=Y[1],Z=Y[2],K=Y[3],q=e.x,J=e.y,Q=e.width,$=e.height;a&&W?(r=V,x=m):r=k,t.beginPath(),nr(t,q,J,Q,$,X,U,K,Z),t.closePath(),r&&(t.fillStyle=r,Ne(t).call(t)),(y&&x||W&&y&&m)&&(t.save(),t.strokeStyle=W?m:x,t.lineWidth=y,b&&t.setLineDash(b),t.stroke(),t.restore()),g=(rr(g)?g:"")+"",H&&W||(n=(_?_(g,a,o):g)||f||"",l=g?D:v,s=Math.max(0,Q-G-F),h=Math.max(0,$-N-z),W&&(n=f||"",l=v),n&&(t.save(),t.beginPath(),t.rect(q+G,J+N,s,h),t.clip(),u=Ra(n,S,s,L),c=J+N,ka(u).call(u,function(e){J+$<c||(Or(t,e,S,l,q+G,c,s,T,I,"middle"),c+=T)}),t.restore())),p&&(d=y/2,t.beginPath(),nr(t,q-d,J-d,Q+y,$+y,X,U,K,Z),t.fillStyle=O,t.closePath(),Ne(t).call(t)),E&&(E.disabled=p,E.font=S,E.value=g,E.placeholder=f,E.textAlign=I,E.maxLength=A,E.textColor=D,E.enterEndInputable=R,E.padding=C,E.wordBreak=L,E.onKeyUp=M,E.onKeyDown=P,E.onChange=B,E.lineHeight=T,E.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,a,o){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),s=i.getColor("background"),h=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),ir(o,a,i)),g=n?h:l,f=t.x,v=t.y,p=t.width,y=t.height,x=Math.min(p,y);a&&(r?(g=u,s=c):d.pressed?n?g=ht.Default.darker(g,Ia.activeDarker):s=ht.Default.darker(s,Ia.activeDarker):d.hover&&(n?g=ht.Default.darker(g,Ia.hoverDarker):s=ht.Default.darker(s,Ia.hoverDarker))),s&&(e.beginPath(),e.fillStyle=s,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),Ne(e).call(e)),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*x,0,2*Math.PI),Ne(e).call(e)),a&&!a.__inputType&&(a.__inputType=Ya),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"))},checkbox:function(e,t,i,a,o){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),s=i.getColor("activeBorderColor"),h=i.getColor("disabledBorderColor"),u=i.getColor("background"),c=i.getColor("activeBackground"),d=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=ir(o,a,i),y=t.x,x=t.y,b=t.width,m=t.height,w=Math.min(b,m),u=r?c:u;u=n?(l=h,f=v,d):Ma(a,u,null,null,!0),r&&!n&&(l=s),m<b?y+=.5*(b-m):b<m&&(x+=.5*(m-b)),e.beginPath(),nr(e,y,x,w,w,g),e.closePath(),u&&(e.fillStyle=u,Ne(e).call(e)),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(y+.125*w,x+.5*w),e.lineTo(y+w*(3/8),x+.75*w),e.lineTo(y+.8125*w,x+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),a&&!a.__inputType&&(a.__inputType=Xa),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,a,o){var r,n=i.getValue("disabled"),l=i.getValue("borderWidth"),s=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),u=i.getValue("focusBorderColor"),c=i.getValue("borderRadius"),d=i.getValue("textColor"),g=i.getValue("value"),f=i.getValue("font"),v=i.getValue("fullMode"),p=i.getValue("showDropDownIcon"),y=i.getValue("dropDownIcon"),x=i.getValue("dropDownIconColor"),b=i.getValue("dropDownIconWidth"),m=i.getValue("dropDownIconHeight"),w=i.getValue("onChange"),C=ir(o,a,i),k=nt(Ta(c),4),V=k[0],I=k[1],D=k[2],T=k[3],S=t.x,L=t.y,A=t.width,R=t.height,M=S+A+5,P=L+R+5,B=!1;if(n?s=d=h:C&&C.editing&&u&&(s=u),e.save(),v){e.beginPath(),nr(e,S,L,A,R,V,I,T,D),e.closePath(),e.clip();for(var _=L,O=0;_<P;_+=5,O++){B=O%2!=0;for(var E=S;E<M;E+=5)e.fillStyle=B?Fr:Nr,e.fillRect(E,_,5,5),B=!B}}else{M=(r={x:S+4,y:L+4,width:1.66*(R-8),height:R-8}).x+r.width,P=r.y+r.height,e.beginPath(),e.rect(r.x,r.y,r.width,r.height),e.closePath(),e.clip();for(var W=r.y,H=0;W<P;W+=5,H++){B=H%2!=0;for(var j=r.x;j<M;j+=5)e.fillStyle=B?Fr:Nr,e.fillRect(j,W,5,5),B=!B}}e.restore(),e.beginPath(),nr(e,S,L,A,R,V,I,T,D),e.closePath(),g&&v?(e.fillStyle=g,Ne(e).call(e)):g&&!v&&(e.fillStyle=g,e.fillRect(r.x,r.y,r.width,r.height),zr.setColor(g),Wr(e,zr,f,d,r.x+r.width+4,L,A-r.width-8,R,"left","middle")),l&&(e.lineWidth=l,e.strokeStyle=s,e.stroke()),p&&Hr(e,jr(y||"ht.vector.dropDownIcon"),"uniform",S+A-8-b,L+.5*(R-m),b,m,a,o,x),C&&(C.disabled=n,C.onChange=w)},comboBox:function(e,t,i,a,o){var r,n=i.getValue("value"),l=i.getValue("placeholder"),s=i.getValue("dataSource"),h=i.getValue("disabled"),u=i.getValue("borderWidth"),c=i.getColor("borderColor"),d=i.getColor("disabledBorderColor"),g=i.getColor("focusBorderColor"),f=i.getValue("borderRadius"),v=i.getValue("padding"),p=i.getColor("background"),y=i.getColor("disabledBackground"),x=i.getColor("focusBackground")||p,b=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),C=i.getValue("iconAlign"),k=i.getValue("font"),V=i.getValue("textAlign"),I=i.getColor("textColor"),D=i.getColor("disabledTextColor"),T=i.getValue("dropDownIcon"),S=i.getColor("dropDownIconColor"),L=i.getValue("dropDownIconWidth"),A=i.getValue("dropDownIconHeight"),R=i.getValue("drawUnMatchValue"),M=ir(o,a,i),P=M&&M.editing,B=nt(Ta(v),4),_=B[0],O=B[1],E=B[2],W=B[3],H=nt(Ta(f),4),j=H[0],N=H[1],F=H[2],z=H[3],G=t.x,Y=t.y,X=t.width,U=t.height;a?h?(r=y,c=d,I=D,u=u||1):P?(r=x,c=g):r=p:r=p,e.beginPath(),nr(e,G,Y,X,U,j,N,z,F),e.closePath(),r&&(e.fillStyle=r,Ne(e).call(e)),(u&&c||P&&u&&g)&&(e.strokeStyle=P?g:c,e.lineWidth=u,e.stroke());var Z="";if(R)Z=n;else if(!To(n)&&s)for(var K=0,q=s.length;K<q;K++)if(s[K].value===n){Z=s[K].label,b=s[K].icon;break}Z||(b=null,To(n)||(Z=n+""));var J,Q=Z||l||"",$=Math.max(0,X-W-O-L-8),ee=Math.max(0,U-_-E),te=G+W,ie=Y+_;To(n)&&!h&&(I=Ia.placeholderColor),e.save(),e.beginPath(),e.rect(te,ie,$,ee),e.clip(),Yr(e,Q,k,I,b?te+m:te,ie,$,ee,V,"middle"),e.restore(),b&&(J="left"===C?te:"center"===C?G+.5*(X-m):G+X-m-O,Xr(e,Ur(b),"uniform",J,.5*(U-w),m,w,a,o)),Xr(e,Ur(T||"ht.vector.dropDownIcon"),"uniform",G+X-8-L,Y+.5*(U-A),L,A,a,o,S),M&&(M.disabled=h,M.dataSource=s,M.dropIconWidth=i.getValue("dropIconWidth"),M.dropIconHeight=i.getValue("dropIconHeight"),M.dropRowHeight=i.getValue("dropRowHeight"),M.dropWidth=i.getValue("dropWidth"),M.dropBackground=i.getValue("dropBackground"),M.dropLabelFont=i.getValue("dropLabelFont"),M.dropLabelColor=i.getValue("dropLabelColor"),M.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),M.dropActiveBackground=i.getValue("dropActiveBackground"),M.dropHoverBackground=i.getValue("dropHoverBackground"),M.dropMaxHeight=i.getValue("dropMaxHeight"),M.onChange=i.getValue("onChange"),M.dropBorderColor=i.getValue("dropBorderColor"),M.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,a,o){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),s=i.getValue("max"),h=i.getValue("showTick"),u=i.getValue("tickEvery"),c=i.getColor("tickColor"),d=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),y=i.getValue("labelEvery"),x=i.getColor("labelColor"),b=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),C=i.getValue("shadowBlur"),k=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),I=i.getValue("shadowOffsetY");en=i.getValue("clockwise"),tn=i.getValue("min"),Qr=i.getValue("startAngle"),$r=i.getValue("endAngle"),qr=Math.abs(s-tn),Jr=Math.abs($r-Qr);var D=t.x,T=t.y,S=t.width,L=t.height,A=Math.min(S,L)/2,R=Kr(l,en);if(e.save(),w&&(e.shadowColor=k,e.shadowBlur=C,e.shadowOffsetX=V,e.shadowOffsetY=I),e.translate(D+.5*S,T+.5*L),h){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var M=tn;M<=s;M+=g){var P=Kr(M,en),B=A*Math.cos(P),_=A*Math.sin(P);e.moveTo(.84*B,.84*_),e.lineTo(B,_)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=c,e.lineWidth=d;for(var O=tn;O<=s;O+=u){var E=Kr(O,en),W=A*Math.cos(E),H=A*Math.sin(E);e.moveTo(.9*W,.9*H),e.lineTo(W,H)}e.stroke()}}if(p&&y){m=Zr(m,A),e.font=b,e.fillStyle=x,e.textAlign="center",e.textBaseline="middle";for(var j=tn;j<=s;j+=y){var N=Kr(j,en),F=m*Math.cos(N),z=m*Math.sin(N);e.fillText(j,F,z)}}var G=.05*(r=Zr(r,A));e.rotate(R),e.beginPath(),e.moveTo(-1.5*G,0),e.lineTo(0,-G),e.lineTo(r,0),e.lineTo(0,G),e.closePath(),e.fillStyle=n,Ne(e).call(e),e.restore()},table:function(p,y,i,x,b){var r,e,t,h=i.getValue("columns"),a=i.getValue("dataSource"),o=i.getColor("thBackground"),n=i.getColor("tdBackground"),u=i.getValue("thHeight"),c=i.getValue("tdHeight"),m=i.getValue("textLineHeight"),d=i.getColor("thColor"),w=i.getColor("tdColor"),g=i.getValue("thFont"),C=i.getValue("tdFont"),k=i.getValue("borderWidth"),l=i.getColor("borderColor"),s=i.getColor("columnLineColor"),V=i.getValue("columnLineWidth"),f=i.getValue("columnLinePattern"),v=i.getColor("rowLineColor"),I=i.getValue("rowLineWidth"),D=i.getValue("rowLinePattern"),T=i.getValue("showHeadRowLine"),S=i.getValue("cellPadding"),L=i.getValue("showHead"),A=i.getColor("hoverBackground"),R=i.getColor("hoverColor"),M=i.getColor("selectBackground"),P=i.getColor("selectColor"),B=i.getValue("translateY")||0,_=i.getValue("translateX")||0,O=i.getValue("scrollable"),E=i.getValue("autoHideScrollBar"),W=i.getColor("scrollBarColor"),H=i.getValue("scrollBarWidth"),j=i.getValue("scrollBarWidthAbsolute"),N=i.getValue("drawRow"),F=i.getValue("multiple"),z=i.getValue("onSelectRow"),G=i.getValue("onHoverCell"),Y=i.getValue("onClickCell"),X=i.getValue("onClickCellImage"),U=i.getValue("selectedIndex")||[],Z=i.getValue("visibleFunc"),K=i.getValue("columnVisibleFunc"),q=i.getValue("resizable"),J=i.getValue("resizeLineWidth"),Q=i.getValue("resizeLineColor"),$=i.getValue("resizeInteractiveSize"),ee=i.getValue("showHeadColumnLineOnly"),te=i.getValue("showContentColumnLineOnly"),ie=i.getValue("adjustRowHeight"),ae=ir(b,x,i),oe=y.x,re=y.y,ne=y.width,le=y.height,se=ne-2*k,he=le-2*k,ue=[],ce=[],de=[],ge=[],fe=[];if(L&&(e=[oe+k,re+k,se,u]),r=[oe+k,re+u*L+k,ne,he-u*L],To(U)||ht.Default.isArray(U)||(U=[U]),p.save(),p.beginPath(),p.rect(oe,re,ne,le),p.clip(),o&&L&&(p.fillStyle=o,p.fillRect.apply(p,lt(e))),n&&(p.fillStyle=n,p.fillRect.apply(p,lt(r))),h&&0<h.length&&(ka(h).call(h,function(e,t){(K&&K(e,t,x,b)||!K)&&(de.push(e),ge.push(t))}),de.length)){var ve=de.length,pe=Vo(de,se-V*(ve-1)),ye=a.length,xe=[],be=[],me=ae.customColWidths||[],we=oe+k+_;if(L){var Ce=1;b&&b.getZoom&&(Ce=b.getZoom()),$*=1/Ce;for(var ke=0;ke<ve;ke++)!function(e){var t=de[e],i=t.drawHeadCell,a=pe[e]-2*S,o=t.headColor||t.color||d,r=t.headFont||t.font||g;"function"==typeof o&&(o=o(t)),"function"==typeof r&&(r=r(t)),we+=S,p.save(),p.beginPath();var n,l=t.displayName||t.key,s=[we,re+k,a,u];p.rect.apply(p,s),p.clip(),n=function(){var e;kn.apply(void 0,Ke(e=[p,l,r,o]).call(e,s,[t.align||"left","middle"]))},i?i(p,l,er(s),{color:o,font:r,defaultDraw:n,data:x,column:t,colIndex:ge[e]}):n(),p.restore(),we+=a+V+S,be.push({x:we-$/2-V/2,y:re,width:$,height:u})}(ke)}p.save(),p.beginPath(),p.rect(oe+k,re+k+(L?u:0),se,he-u*L),p.clip();var Ve=re;a&&0<ye&&(ka(a).call(a,function(e,t){(Z&&Z(e,t,x,b)||!Z)&&(ue.push(e),ce.push(t))}),ka(ue).call(ue,function(e,t){var r,n,l,i,a,o,s;xe.push((r=e,n=ce[t],l=m,i=c,a=h,o=ie,s=Math.max(l,i),ka(a).call(a,function(e,t){var i,a=e.format,o=r[e.key];a&&(o=a(o,r,n,t)),"string"!=typeof o||(i=o.match(Sn))&&i.length&&(s=Math.max(s,l*(i.length+1)))}),o&&(s=o(r,n,s)),s))}),!F&&1<U.length&&(U=Kt(U).call(U,0,1)),ka(ue).call(ue,function(c,d){var g=ce[d],f=xe[d],v=Ve+I*(d+T*L*1)+u*L+k+B,e={x:oe,y:v,width:ne,height:f};if(Ve+=f,we=oe+k+_,Tn(er(r),e)){p.save(),N&&N.call(i,p,c,g,e,jt(ce).call(ce,g),x,b);var a=ae&&ae.hoverIndex===g,o=U&&-1!==jt(U).call(U,g);o&&M?(p.fillStyle=M,p.fillRect(oe,v,ne,f)):!o&&a&&A&&(p.fillStyle=A,p.fillRect(oe,v,ne,f));for(var t=0;t<ve;t++)(function(e){var r=de[e],n=ge[e],t=r.drawCell,l=pe[e]-2*S,s=r.bodyFont||r.font||C,h=r.bodyColor||r.color||w;if(o&&P&&(h=P),!o&&a&&R&&(h=R),"function"==typeof h&&(h=h(c[r.key],c)),"function"==typeof s&&(s=s(c[r.key],c)),!Tn({x:we+=S,y:v,width:l,height:f},y))return we+=l+V+S;var u=c[r.key];r.format&&(u=r.format(u,c,g,n)),p.save(),p.beginPath(),p.rect(we,v,l,f),p.clip();function i(){var e,t=r.isIcon;if(r.isIndex&&(t=!1,u=d+1,r.format&&(u=r.format(u,c,g,n))),t)0<l&&Vn(p,In(u),"centerUniform",we,v+1,l,f-2,x,b);else{if(null==(e=u)||""===e)return;var i,a,o="string"==typeof u?u.match(Sn):null;(o?o.length:0)?(i=u.split(Sn),a=v,"middle"===r.vAlign?a=v+(f-i.length*m)/2:"bottom"===r.vAlign&&(a=v+(f-i.length*m)),ka(i).call(i,function(e){kn(p,e,s,h,we,a,l,m,r.align||"left",r.vAlign||"middle"),a+=m})):kn(p,u,s,h,we,v,l,f,r.align||"left",r.vAlign||"middle")}}t?t(p,u,{x:we,y:v,width:l,height:f},{column:r,colIndex:n,row:c,rowIndex:g,font:s,color:h,view:b,defaultDraw:i,data:x,isHoverRow:a,isSelectedRow:o},fe):i(),we+=l+V+S,p.restore()})(t);p.restore()}})),ae&&(ae.rowHeights=xe,ae.colWidths=pe,ae.headHeight=L?u:0,ae.rowLineWidth=I,ae.columnLineWidth=V,ae.translateX=_,ae.translateY=B,ae.autoHideScrollBar=E,ae.multiple=F,ae.selectedIndex=U,ae.dataSource=a,ae.columns=h,ae.onSelectRow=z,ae.onHoverCell=G,ae.onClickCell=Y,ae.onClickCellImage=X,ae.rawDatas=ue,ae.rawIndexs=ce,ae.rawCols=de,ae.rawColIndexs=ge,ae.headRect=e,ae.bodyRect=r,ae.resizable=q,ae.resizeRects=be,ae.customColWidths=me,ae.onClickHeadCell=i.getValue("onClickHeadCell"),ae.pannable=i.getValue("pannable"),ae.scrollBarInteractiveSize=i.getValue("scrollBarInteractiveSize"),ae.scrollSpeed=i.getValue("scrollSpeed"),ae.drawCellImageInfo=fe);var Ie=re+k+u*L+B;p.beginPath(),T&&L&&(Ie+=I/2,p.moveTo(oe,Ie),p.lineTo(oe+ne,Ie),Ie+=I/2);for(var De,Te,Se,Le,Ae,Re,Me=0;Me<ye&&(Ie+=xe[Me]+I/2,!(re+le<Ie));Me++)Ie<re||(p.moveTo(oe,Ie),p.lineTo(oe+ne,Ie)),Ie+=I/2;if(I&&(p.strokeStyle=v,p.lineWidth=I,D&&1<D.length&&p.setLineDash(D),p.stroke()),p.restore(),V){var Pe=oe+k+_,Be=re+(L?u:0);ee||(te?Be=Ie:Be+=r[3]),p.beginPath();for(var _e=0;_e<ve;_e++)Pe+=pe[_e]+V/2,p.moveTo(Pe,re),p.lineTo(Pe,Be),Pe+=V/2;p.strokeStyle=s,p.lineWidth=V,f&&1<f.length&&p.setLineDash(f),p.stroke()}x&&ae&&O&&(De=V?V*(ve-1):0,Te=I?(ye-1)*I:0,ka(pe).call(pe,function(e){De+=e}),ka(xe).call(xe,function(e){Te+=e}),Se={x:oe+k,y:re+k+(L?u:0),width:se,height:he-(L?u:0)},Le={width:De,height:Te},Ae={x:_,y:B},Re=b&&b.getZoom?b.getZoom():1,vn(p,Se,Le,Ae,{visible:!E||ae.scrollBarVisible,color:W,barWidth:j?H/Re:H,gap:2/Re},ae))}k&&Dn(p,l,oe,re,ne,le,k),ae.resizeDragPoint&&Q&&J&&(t=ae.resizeDragPoint.x,p.strokeStyle=Q,p.lineWidth=J,p.beginPath(),p.moveTo(t,re),p.lineTo(t,re+le),p.stroke()),p.restore()},pie:function(V,e,t,i,a){var o=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),I=t.getValue("startAngle"),l=t.getValue("endAngle"),s=t.getValue("tooltip.show"),h=t.getValue("tooltip.formatter"),D=t.getValue("roseType"),u=t.getValue("seriesName"),T=t.getValue("hoverOffset"),c=t.getValue("avoidLabelOverlap"),d=t.getValue("color"),g=t.getValue("minRoseRadius"),f=t.getValue("minAngle"),v=t.getValue("onSelected");if("false"===D&&(D=!1),o instanceof Array){l<I&&(l=I),360<l-I&&(l=I+360),I*=-Xc/180,l*=Xc/180;var p=e.x,y=e.y,x=e.width,b=e.height,m=Math.min(x,b),w=0,C=0,k=-I,S=nt(r,2),L=S[0],A=void 0===L?0:L,R=S[1],M=void 0===R?.5:R,P=nt(n,2),B=P[0],_=void 0===B?.5:B,O=P[1],E=void 0===O?.5:O,W=l-Math.abs(I);0<=A&&A<=1&&(A*=m/2),0<=M&&M<=1&&(M*=m/2),_=0<=_&&_<=1?_*x+p:_+p,E=0<=E&&E<=1?E*b+y:E+y,o=Rt(o).call(o,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 0<e.value&&!1!==e.visible});var H,j,N,F=Us(o).call(o,function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),z=Th(F).call(F,function(e,t){return e+t},0),G=Us(F).call(F,function(e){return e/z}),Y=Math.max.apply(Math,lt(F)),X=M-A,U=Us(F).call(F,function(e){var t=e/Y*X;return t<g?g:t}),Z=Us(G).call(G,function(e){return e*W}),K=W,q=0;f*=Uc,Z=Us(Z).call(Z,function(e,t){return e<f?(K-=f,f):(q+=F[t],e)}),Z=K<=.001?(H=W/F.length,Us(Z).call(Z,function(e,t){return H})):(j=K/q,Us(Z).call(Z,function(e,t){return e===f?f:F[t]*j})),"area"===D&&(N=2*Xc/o.length,Z=Us(Z).call(Z,function(e,t){return N}));var J,Q,$=ir(a,i,t),ee=[],te=[],ie=[],ae=[],oe=[];if($){0<o.length&&(J=new Ec(t),ka(o).call(o,function(e,t){var i,a,o,r;e&&(i=G[t],a=U[t],o=Z[t],r=k+o/2,w+=o,ee.push(new Gc({percent:i,roseRadius:a,lineAngle:r,arcAngle:o,arcEndAngle:w,arcStartAngle:C,seriesName:u,index:t,data:e,centerX:_,centerY:E,outerRadius:M,innerRadius:A,roseType:D,hoverOffset:T,color:d},J)),k+=o,C=w)}),k=-I,w=C=I),Q=$.foucusArcNum;for(var re=0,ne=ee.length;re<ne;re++){var le=ee[re].arcAngle;te.push({x:_+M*Math.cos(k),y:E+M*Math.sin(k)}),ie.push(le),k+=le,re===ne-1&&(k=-I)}!function(e,t,i){for(var a=0,o=e.length;a<o;a++){var r=e[a],n=i===a,l=r.getLabelLinePoints(n),s=l.x0,h=l.y0,u=l.x1,c=l.y1,d=r.getLabelLineLabelInfo(n),g=d.labelTextArray,f=d.textHeight,v=d.beginHeight;t.push({x0:s,y0:h,x1:u,y1:c,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(ee,ae,Q),c&&function(e,c,d,g){for(var t=[],i=[],a=0;a<e.length;a++)e[a].x0<c?t.push(e[a]):i.push(e[a]);function o(e,t){if(Gu(e).call(e,function(e,t){return e.y0-t.y0}),0<(e=Rt(e).call(e,function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2+3,a=e[e.length-1].allTextHeight/2,o=g-i-a-3,r=e.length,n=0,l=0,s=e.length;l<s;l++){if(o<(n+=e[l].allTextHeight)){r=l;break}}var h=o/(r-1);h===1/0&&(h=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=c+t*(d+10),e[u].y1=i+u*h}}0<t.length&&o(t,-1),0<i.length&&o(i,1)}(ae,_,M,b);for(var se=0,he=ee.length;se<he;se++){var ue=ee[se],ce=Q===se?ue.labelLineEmphasis:ue.labelLineNormal,de=ce.show,ge=ce.width,fe=ce.type,ve=ce.font,pe=ce.lineColor,ye=ce.textColor;if(ue.value&&!1!==de)if("continue"===function(){var e=ae[se],t=e.x0,i=e.y0,a=e.x1,o=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,s=e.lineLength2,h=e.avoidIsShow;if(c&&!h)return"continue";V.save(),V.lineWidth=ge,V.font=ve,V.strokeStyle=pe,V.fillStyle=ye,V.setLineDash("dashed"===fe?[2,2]:[]);var u=a<=t?-1:1;V.textAlign=a<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<ge?(V.moveTo(t,i),c&&V.lineTo(_+u*(M+5),i),V.lineTo(a,o),a+=u*s,V.lineTo(a,o),V.stroke()):a+=u*s,ka(l).call(l,function(e,t){V.fillText(e,a+3*u,o-n/2+r*t)}),V.restore()}())continue}V.save(),V.translate(_,E),V.rotate(-I),Te("fill"),Te("stroke"),V.restore(),function(e,t){for(var i=0,a=e.length;i<a;i++){var o=e[i].getLabelPoints(),r=o.textX,n=o.textY;t.push({textX:r,textY:n})}}(ee,oe),V.save(),V.textAlign="center",V.textBaseline="top";for(var xe=0,be=ee.length;xe<be;xe++){var me=ee[xe],we=Q===xe,Ce=we?me.labelEmphasis:me.labelNormal,ke=Ce.show,Ve=Ce.position,Ie=Ce.color,De=Ce.font;me.value&&!1!==ke&&function(){V.save(),V.font=De,V.fillStyle=Ie;var e=oe[xe],i="center"===Ve?_:e.textX,a="center"===Ve?E:e.textY,t=me.getLabelInfo(we),o=t.labelTextArray,r=t.textHeight,n=t.beginHeight;ka(o).call(o,function(e,t){V.fillText(e,i,a-n+r*t)}),V.restore()}()}V.restore(),$&&($.arcPoints=te,$.arcAngles=ie,$.center={x:_,y:E},$.radius={outerRadius:M,innerRadius:A},$.hoverOffset=T,$.tooltip={show:!Yc(s)||s,formatter:h||""},$.pieItems=ee,$.onSelected=v)}}function Te(e){for(var t=0,i=ee.length;t<i;t++){var a=ee[t],o=a.arcEndAngle,r=a.arcStartAngle,n=a.roseRadius,l=a.itemStyle,s=l.color,h=l.borderWidth,u=l.borderColor,c=l.borderType,d=void 0;if(a.value&&("stroke"===e&&0<h||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(A*Math.cos(r),A*Math.sin(r)),Q===t?(d=D?n+T+A:M+T,V.arc(0,0,d,r,o,!1),V.arc(0,0,A,o,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(d=D?n+A:M,V.arc(0,0,d,r,o,!1),V.arc(0,0,A,o,r,!0)),V.closePath(),"fill"===e){if("string"==typeof s)V.fillStyle=s;else if("object"===qe(s)){var g,f,v,p=s.type,y=s.colorStops,x=null;if("radial"===p?x=V.createRadialGradient(0,0,A,0,0,d):"linear"===p&&(f=(g=function(e,t){for(var i=ht.Math.Vector2,a=Math.cos,o=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,s=e.innerRadius,h=s+l,u=n-r,c={x:h*a(r),y:h*o(r)},d={x:h*a(n),y:h*o(n)},g={x:s*a(r),y:s*o(r)},f={x:s*a(n),y:s*o(n)},v=t,p=v+Math.PI/2,y=p+Math.PI/2,x=y+Math.PI/2,b=[{x:h*a(v),y:h*o(v)},{x:h*a(p),y:h*o(p)},{x:h*a(y),y:h*o(y)},{x:h*a(x),y:h*o(x)}],m=[c,d,g,f],w=0;w<4;w++){var C=b[w],k=new i(c),V=new i(C),I=k.clone().normalize().dot(V.normalize()),D=Math.acos(I);0<k.x*V.y-V.x*k.y?D<u&&m.push(C):2*Math.PI-D<u&&m.push(C)}for(var T=-1/0,S=1/0,L=0,A=m.length;L<A;L++)var R=m[L].y,T=Math.max(T,R),S=Math.min(S,R);return{minY:S,maxY:T}}(a,I)).minY,v=g.maxY,x=V.createLinearGradient(0,f,0,v)),x&&y instanceof Array){for(var b=0,m=y.length;b<m;b++){var w=y[b],C=w.offset,k=w.color;void 0!==C&&void 0!==k&&x.addColorStop(C,k)}V.fillStyle=x}}Ne(V).call(V)}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=h,V.setLineDash("dashed"===c?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,c,d,g,f){d.getValue("value");var v=d.getValue("max"),p=d.getValue("min"),e=d.getValue("labelEvery"),t=d.getValue("labelFont"),i=d.getColor("labelColor"),a=d.getValue("labelAlign"),o=d.getValue("labelDistance"),r=d.getValue("labelOffsetX"),n=d.getValue("labelOffsetY"),l=d.getValue("labelFormatter"),y=d.getValue("direction"),x=d.getValue("paddingBefore"),b=d.getValue("paddingAfter"),s=d.getColor("background"),h=d.getValue("smallTickEvery"),m=d.getColor("smallTickColor"),w=d.getValue("smallTickWidth"),C=d.getValue("smallTickLongness"),k=d.getValue("mediumTickEvery"),V=d.getColor("mediumTickColor"),I=d.getValue("mediumTickWidth"),D=d.getValue("mediumTickLongness"),T=d.getValue("largeTickEvery"),S=d.getColor("largeTickColor"),L=d.getValue("largeTickWidth"),A=d.getValue("largeTickLongness"),R=d.getValue("reverse"),M=d.getValue("cursors"),P=c.x,B=c.y,_=c.width,O=c.height;s&&(u.fillStyle=s,u.fillRect(P,B,_,O));var E=v-p,W=O;y!==ja&&y!==Ha||(W=_);var H=[{every:h,color:m,longness:C,width:w},{every:k,color:V,longness:D,width:I},{every:T,color:S,longness:A,width:L}];if(R){if(ka(H).call(H,function(e){if(hn(e)){var t=nn(e.longness,W);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,y===Ea||y===Wa){var i=P+_-x,a=(_-x-b)*(hn(e)/E),o=y===Ea?B:B+O;y===Wa&&(t=0-t);for(var r=p;r<=v;r+=hn(e))u.moveTo(i,o),u.lineTo(i,o+t),i-=a}else{var n=B+O-x,l=(O-x-b)*(hn(e)/E),s=y===ja?P:P+_;y===Ha&&(t=0-t);for(var h=p;h<=v;h+=hn(e))u.moveTo(s,n),u.lineTo(s+t,n),n-=l}u.stroke()}}),e){var j=nn(o,W);if(u.fillStyle=i,u.font=t,y===Ea||y===Wa){var N=P+_-x+r,F=e/E*(_-x-b),z=(y===Ea?B:B+O)+n;y===Wa?j=0-j-co(t,"1").height:u.textBaseline="hanging";for(var G=p;G<=v;G+=e){var Y=l?l(G):G,X=co(t,Y);a===Na?un(u,Y,t,i,N-.5*X.width,z+j,X.width,X.height,a,"middle"):a===Ha?u.fillText(Y,N-co(t,Y).width+2,z+j):a===ja&&u.fillText(Y,N,z+j),N-=F}}else{var U=B+O-x+n,Z=e/E*(O-x-b),K=(y===ja?P:P+_)+r;u.textBaseline="middle",y===Ha&&(j=0-j);for(var q=p;q<=v;q+=e){var J=l?l(q):q+"";y===Ha?u.fillText(J,K+j-co(t,J).width+2,U):u.fillText(J,K+j,U),U-=Z}}}M&&ka(M).call(M,function(e){var t,i,a,o=e.value,r=e.color,n=void 0===r?"red":r,l=e.size,s=void 0===l?2:l,h=e.drawTop;i=y===Ea||y===Wa?[P+(t=_-b-x)+x-(o-p)/E*t-s/2,B,s,O]:[P,B+(a=O-x-b)+x-(o-p)/E*a-s/2,_,s],u.fillStyle=n,u.fillRect.apply(u,lt(i)),h&&h(u,c,{x:i[0],y:i[1],width:i[2],height:i[3]},d,g,f)})}else{if(ka(H).call(H,function(e){if(hn(e)){var t=nn(e.longness,W);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,y===Ea||y===Wa){var i=P+x,a=(_-x-b)*(hn(e)/E),o=y===Ea?B:B+O;y===Wa&&(t=0-t);for(var r=p;r<=v;r+=hn(e))u.moveTo(i,o),u.lineTo(i,o+t),i+=a}else{var n=B+x,l=(O-x-b)*(hn(e)/E),s=y===ja?P:P+_;y===Ha&&(t=0-t);for(var h=p;h<=v;h+=hn(e))u.moveTo(s,n),u.lineTo(s+t,n),n+=l}u.stroke()}}),e){var Q=nn(o,W);if(u.fillStyle=i,u.font=t,y===Ea||y===Wa){var $=P+x+r,ee=e/E*(_-x-b),te=(y===Ea?B:B+O)+n;y===Wa?Q=0-Q-co(t,"1").height:u.textBaseline="hanging";for(var ie=p;ie<=v;ie+=e){var ae=l?l(ie):ie,oe=co(t,ae);a===Na?un(u,ae,t,i,$-.5*oe.width,te+Q,oe.width,oe.height,a,"middle"):a===Ha?u.fillText(ae,$-oe.width+2,te+Q):a===ja&&u.fillText(ae,$,te+Q),$+=ee}}else{var re=B+x+n,ne=e/E*(O-x-b),le=(y===ja?P:P+_)+r;u.textBaseline="middle",y===Ha&&(Q=0-Q);for(var se=p;se<=v;se+=e){var he=l?l(se):se+"";y===Ha?u.fillText(he,le+Q-co(t,he).width+2,re):u.fillText(he,le+Q,re),re+=ne}}}M&&ka(M).call(M,function(e){var t,i=e.value,a=e.color,o=void 0===a?"red":a,r=e.size,n=void 0===r?2:r,l=e.drawTop;t=y===Ea||y===Wa?[P+x+(i-p)/E*(_-b-x)-n/2,B,n,O]:[P,B+x+(i-p)/E*(O-x-b)-n/2,_,n],u.fillStyle=o,u.fillRect.apply(u,lt(t)),l&&l(u,c,{x:t[0],y:t[1],width:t[2],height:t[3]},d,g,f)})}},multilineText:function(i,e,t,a,o){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),s=t.getValue("color"),h=t.getValue("lineHeight"),u=t.getColor("background"),c=t.getValue("padding"),d=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),y=e.x,x=e.y,b=e.width,m=e.height,w=nt(Ta(c),4),C=w[0],k=w[1],V=w[2],I=w[3],D=nt(Ta(f),4),T=D[0],S=D[1],L=D[2],A=D[3];i.beginPath(),nr(i,y,x,b,m,T,S,A,L),i.closePath(),Mo(i,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:u});var R=I,M=C,P=0,B=b-I-k,_=r.split(/\n/),O=_.length*h+C+V,E=I+C;ka(_).call(_,function(e){var t=co(n,e);P=Math.max(P,t.width),Ln(i,e,n,s,R,M,B,h,l,"middle"),M+=h}),E+=P,a&&a.constructor===ht.Node&&(a.getWidth()===E&&a.getHeight()===O||(a.setSize(E,O),a.setSize3d(E,100,O)))},slider:function(e,t,i,a,o){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),s=i.getValue("step"),h=i.getValue("sliderImage"),u=i.getValue("getSliderAttr"),c=i.getValue("sliderBorderWidth"),d=i.getValue("sliderBorderRadius"),g=i.getColor("sliderBorderColor"),f=i.getColor("sliderBackground"),v=i.getValue("sliderWidth"),p=i.getValue("sliderHeight"),y=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),m=i.getColor("barValueBackground"),w=i.getValue("barGradient"),C=i.getColor("barGradientColor"),k=i.getValue("barWidth"),V=i.getValue("barBorderRadius"),I=i.getValue("padding"),D=i.getValue("disabled"),T=i.getColor("disabledLayerColor"),S=i.getColor("showToolTip"),L=i.getColor("toolTipFormat"),A=ir(o,a,i),l=Math.min(n,Math.max(r,l)),R=t.x,M=t.y,P=t.width,B=t.height,_=Math.abs(n-r),O={x:R+I,y:M+(B-k)/2,width:P-2*I,height:k};V<1&&(V*=k),Po(e,O,b,V);var E=ht.Default.clone(O);E.width*=(l-r)/_,w&&(m=ht.Default.createGradient(e,w,m,C,O.x,O.y,O.width,O.height)),Po(e,E,m,V);var W,H,j=E.x+E.width-v/2+y,N=E.y+(k-p)/2+x;h?(W=(W=A._sliderData)||(A._sliderData=new ht.Data),H=u?u(l,a,o):{},u&&W.setAttrObject(H),An(e,ht.Default.getImage(h),j,N,v,p,W)):(d<1&&(d*=Math.min(v,p)),e.beginPath(),nr(e,j,N,v,p,d),e.closePath(),e.fillStyle=f,Ne(e).call(e),c&&(e.lineWidth=c,e.strokeStyle=g,e.stroke())),D&&(e.fillStyle=T,e.fillRect(R,M,P,B)),A&&(A.disabled=D,A.value=l,A.max=n,A.min=r,A.step=s,A.showToolTip=S,A.toolTipFormat=L,A.barRect=O,A.onChange=i.getValue("onChange"),A.sliderRect={x:j,y:N,width:v,height:p})},rangeSlider:function(e,t,i,a,o){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),s=i.getValue("step"),h=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),y=i.getValue("sliderOffsetY"),x=i.getColor("barBackground"),b=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),I=i.getValue("disabled"),D=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),S=i.getColor("toolTipFormat"),L=ir(o,a,i),A=t.x,R=t.y,M=t.width,P=t.height,B=nt(l,2),_=B[0],O=B[1],_=Math.max(r,_),O=Math.min(n,O),E=Math.abs(n-r),W={x:A+V,y:R+(P-C)/2,width:M-2*V,height:C};k<1&&(k*=C),Po(e,W,x,k);var H=ht.Default.clone(W);H.width*=(O-_)/E,H.x+=(_-r)/E*W.width,m&&(b=ht.Default.createGradient(e,m,b,w,W.x,W.y,W.width,W.height)),Po(e,H,b,k);var j=H.x-f/2+p,N=H.x+H.width-f/2+p,F=H.y+(C-v)/2+y;h?(Rn(e,ht.Default.getImage(h),j,F,f,v),Rn(e,ht.Default.getImage(h),N,F,f,v)):(c<1&&(c*=Math.min(f,v)),e.beginPath(),nr(e,j,F,f,v,c),e.closePath(),e.fillStyle=g,Ne(e).call(e),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke()),e.beginPath(),nr(e,N,F,f,v,c),e.closePath(),e.fillStyle=g,Ne(e).call(e),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),I&&(e.fillStyle=D,e.fillRect(A,R,M,P)),L&&(L.disabled=I,L.value=l,L.max=n,L.min=r,L.step=s,L.valueBarDraggable=i.getValue("valueBarDraggable"),L.onChange=i.getValue("onChange"),L.showToolTip=T,L.toolTipFormat=S,L.barRect=W,L.valueBarRect=H,L.sliderRect={x:j,y:F,width:f,height:v},L.sliderRect2={x:N,y:F,width:f,height:v})},multipleComboBox:function(s,e,t,i,a){var o,r=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),u=t.getValue("borderWidth"),c=t.getColor("borderColor"),d=t.getColor("focusBorderColor"),g=t.getValue("borderRadius"),f=t.getColor("background"),v=t.getColor("focusBackground")||f,p=t.getColor("disabledLayerColor"),y=t.getValue("itemFont"),x=t.getColor("itemTextColor"),b=t.getColor("itemBorderWidth"),m=t.getColor("itemBorderColor"),w=t.getColor("itemBorderRadius"),C=t.getColor("itemBackground"),k=t.getColor("itemGradient"),V=t.getColor("itemGradientColor"),I=t.getValue("itemPadding"),D=t.getValue("itemHGap"),T=t.getValue("itemVGap"),S=t.getValue("closeIconOnLeft"),L=t.getValue("closeIconSize"),A=t.getColor("closeIconColor"),R=t.getValue("padding"),M=ir(a,i,t),P=M&&M.editing,B=e.x,_=e.y,O=e.width,E=e.height,W=nt(Ta(R),4),H=W[0],j=W[1],N=W[2],F=W[3],z=nt(Ta(g),4),G=z[0],Y=z[1],X=z[2],U=z[3];i&&P?(o=v,c=d):o=f,s.beginPath(),nr(s,B,_,O,E,G,Y,U,X),s.closePath(),o&&(s.fillStyle=o,Ne(s).call(s)),(u&&c||P&&u&&d)&&(s.strokeStyle=P?d:c,s.lineWidth=u,s.stroke());var Z=[];r&&n&&ka(r).call(r,function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){Z.push(n[t]);break}});var K=[],q=nt(Ta(I),4),J=q[0],Q=q[1],$=q[2],ee=q[3],te=[B+F-b/2,_+H-b/2,O-F-j+b,E-H-N+b+1];s.save(),s.beginPath(),s.rect.apply(s,te),s.clip();var ie,ae,oe,re,ne,le,se,he,ue,ce,de,ge,fe,ve,pe,ye,xe=1;0<Z.length?(oe=(ae=[B+F+b/2,_+H+b/2,O-F-j-b,E-H-N-b])[0],re=ae[1],ne=0,le=nt(Ta(w),4),se=le[0],he=le[1],ue=le[2],ce=le[3],de=C,ka(Z).call(Z,function(e){var t,i=e.label||e.value,a=co(y,i);ie=ie||a.height,ne&&oe+a.width+D+b+7>ae[0]+ae[2]&&(oe=ae[ne=0],re+=ie+T+b+J+$,xe++);var o,r,n=[oe,re,a.width+ee+Q+L+2,a.height+J+$];b&&(s.beginPath(),s.strokeStyle=m,nr.apply(void 0,Ke(o=[s]).call(o,n,[se,he,ce,ue])),s.closePath(),C&&(k&&V&&(de=Bn.apply(void 0,Ke(r=[s,k,C,V]).call(r,n))),s.fillStyle=de,Ne(s).call(s)),s.stroke());var l=[n[0]+ee+a.width+2,n[1]+J,L,n[3]-$-J];S&&(l[0]=n[0]+ee,n[0]+=L+2),n[2]=n[2]-L-2,K.push({value:e.value,rect:l}),s.beginPath(),s.strokeStyle=A,s.lineCap="round",s.moveTo(l[0],l[1]+(l[3]-L)/2),s.lineTo(l[0]+l[2],l[1]+(l[3]-L)/2+L),s.moveTo(l[0]+l[2],l[1]+(l[3]-L)/2),s.lineTo(l[0],l[1]+(l[3]-L)/2+L),s.stroke(),Pn.apply(void 0,Ke(t=[s,i,y,x]).call(t,n,["center","middle"])),oe+=a.width+D+b+ee+Q+L+2,ne++})):l&&(ve=[B+F,_+H,O-F-j,(fe=co(y,l)).height+J+$],Pn.apply(void 0,Ke(ge=[s,l,y,Ia.placeholderColor]).call(ge,ve,["left","middle"])),ie=fe.height),s.restore(),h&&(ye=[B-u/2,_-u/2,O+u,E+u],s.save(),s.beginPath(),nr.apply(void 0,Ke(pe=[s]).call(pe,ye,[G,Y,U,X])),s.clip(),s.fillStyle=p,Ne(s).call(s),s.restore()),i&&(i.__suggestHeight=H+N+(J+$+ie)*xe+T*(xe-1)),M&&(M.value=r,M.valueItemInfo=K,M.disabled=h,M.dataSource=n,M.dropIconWidth=t.getValue("dropIconWidth"),M.dropIconHeight=t.getValue("dropIconHeight"),M.dropRowHeight=t.getValue("dropRowHeight"),M.dropWidth=t.getValue("dropWidth"),M.dropBackground=t.getValue("dropBackground"),M.dropLabelFont=t.getValue("dropLabelFont"),M.dropLabelColor=t.getValue("dropLabelColor"),M.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),M.dropActiveBackground=t.getValue("dropActiveBackground"),M.dropHoverBackground=t.getValue("dropHoverBackground"),M.dropMaxHeight=t.getValue("dropMaxHeight"),M.onChange=t.getValue("onChange"),M.hideSelected=t.getValue("hideSelected"),M.maxSelection=t.getValue("maxSelection"))},richTextPane:function(s,e,t,h,u){var i,a,o,r,n,l,c,d=t.getValue("content"),g=t.getColor("background"),f=t.getValue("bgGradient"),v=t.getColor("bgGradientColor"),p=t.getValue("showArrow"),y=t.getValue("arrowOrientation"),x=t.getValue("arrowPosition"),b=t.getValue("padding"),m=t.getValue("vGap"),w=t.getValue("hGap"),C=t.getValue("font"),k=t.getValue("color"),V=t.getColor("borderColor"),I=t.getValue("borderWidth")||0,D=t.getValue("dash"),T=t.getValue("dashPattern"),S=t.getValue("vAlign"),L=nt(Ta(b),4),A=L[0],R=(L[1],L[2],L[3]),M=e.x+I/2,P=e.y+I/2,B=e.width-I,_=e.height-I,O=[M,P,B,_];s.save(),p?(s.beginPath(),O=Wa===y?(i=B-10,s.moveTo(M,P),s.lineTo(M+B,P),s.lineTo(M+B,P+_-10),s.lineTo(M+i*x+10,P+_-10),s.lineTo(M+i*x+5,P+_),s.lineTo(M+i*x,P+_-10),s.lineTo(M,P+_-10),s.closePath(),[M,P,B,_-10]):ja===y?(a=_-10,s.moveTo(M+10,P),s.lineTo(M+B,P),s.lineTo(M+B,P+_),s.lineTo(M+10,P+_),s.lineTo(M+10,P+a*x+10),s.lineTo(M,P+a*x+5),s.lineTo(M+10,P+a*x),s.closePath(),[M+10,P,B-10,_]):Ha===y?(o=_-10,s.moveTo(M,P),s.lineTo(M+B-10,P),s.lineTo(M+B-10,P+o*x),s.lineTo(M+B,P+o*x+5),s.lineTo(M+B-10,P+o*x+10),s.lineTo(M+B-10,P+_),s.lineTo(M,P+_),s.closePath(),[M,P,B-10,_]):(r=B-10,s.moveTo(M+r*x,P+10),s.lineTo(M+r*x+5,P),s.lineTo(M+r*x+10,P+10),s.lineTo(M+B,P+10),s.lineTo(M+B,P+_),s.lineTo(M,P+_),s.lineTo(M,P+10),s.closePath(),[M,P+10,B,_-10])):(s.beginPath(),s.rect(M,P,B,_)),Mo(s,{borderWidth:I,borderColor:V,background:g,bgGradient:f,bgGradientColor:v,contentRect:O,dash:D,dashPattern:T}),g&&(f&&(g=(n=ht.Default).createGradient.apply(n,Ke(l=[s,f,g,v]).call(l,lt(O)))),s.fillStyle=g,Ne(s).call(s)),V&&I&&(s.lineWidth=I,s.strokeStyle=V,s.stroke()),s.textAlign="left",d&&(d.length,c=P+A+(y===Ea?10:0),ka(d).call(d,function(e,t){var r=M+R+(y===ja?10:0),n=0,l=(d.length,[]);ka(e).call(e,function(e,t){var i=or(e.text,h,u),a=co(e.font||C,i);n=Math.max(n,a.height),a.width,l[t]=a.width}),ka(e).call(e,function(e,t){var i=or(e.text,h,u),a=or(e.font,h,u)||C,o=or(e.vAlign,h,u)||S;s.fillStyle=or(e.color,h,u)||k,s.font=a,"top"===(s.textBaseline=o)?s.fillText(i,r,c):"middle"===o?s.fillText(i,r,c+n/2):s.fillText(i,r,c+n),r+=l[t]+w}),c+=m+n})),s.restore()},textBox:function(a,e,t,i,o){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),s=t.getValue("wordBreak"),h=t.getValue("vAlign"),u=t.getColor("color"),c=t.getValue("lineHeight"),d=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),y=t.getValue("borderWidth"),x=t.getValue("borderRadius"),b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),C=t.getColor("bgGradientColor"),k=t.getValue("translateX"),V=t.getValue("translateY"),I=t.getColor("scrollBarColor"),D=t.getValue("scrollable"),T=t.getValue("autoHideScrollBar"),S=t.getValue("scrollBarWidth"),L=t.getValue("scrollBarWidthAbsolute"),A=t.getValue("underline"),R=nt(Ta(g),4),M=R[0],P=R[1],B=R[2],_=R[3],O=nt(Ta(x),4),E=O[0],W=O[1],H=O[2],j=O[3];if(a.beginPath(),nr(a,e.x,e.y,e.width,e.height,E,W,j,H),a.closePath(),Mo(a,{borderWidth:y,borderColor:p,dash:b,dashPattern:m,background:f,bgGradient:w,bgGradientColor:C,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){a.save();var N,F,z,G,Y,X,U,Z,K,q=e.x,J=e.y,Q=q+_,$=J+M,ee=ai(e.width)-_-P,te=ai(e.height)-M-B,ie=Ra(r,l,ee,s);if(n&&ie.length*c>te){var ae,oe,re,ne,le,se,he=ee+"-"+te+l+c,ue=(ue=_s[he])||(_s[he]={}),ce=0,de=0,h="top";if(ue&&ue[r])ae=ue[r],ne=ae*c,se=ai(ee*(oe=1/ae)),ai(te*oe),a.scale(ae,ae),ie=Ra(r,l,se,s);else{for(;ce<4;){if(ae=Math.sqrt(te/((ie.length+de)*c)),ne=ae*c,se=ai(ee*(oe=1/ae)),ai(te*oe),le&&a.scale(le,le),a.scale(ae,ae),(re=Ra(r,l,se,s)).length*ne>te)de+=Math.ceil((re.length*ne-te)/ne+.5),le=oe;else{if(!(re.length*ne<te&&Math.abs(te-re.length*ne)>2*ne)){ie=re;break}de-=Math.floor((te-re.length*ne)/ne),le=oe}4==++ce&&(ie=re)}ue[r]=ae}Q=(q+_)*oe,$=(J+M)*oe,ka(ie).call(ie,function(e,t){var i;ht.Default.drawText(a,e,l,u,Q,$,se,ne,d,h),A&&(i=co(l,e),Bs(a,{x:Q,y:$,height:c,width:se},i.width,d,u)),$+=c})}else if(v&&(ie.length+1)*c<te){var ge,fe,ve,pe,ye,xe,be=ee+"-"+te+l+c,me=(me=_s[be])||(_s[be]={}),we=0;if(h="top",me&&me[r])ge=me[r],pe=ge*c,xe=ai(ee*(fe=1/ge)),ai(te*fe),a.scale(ge,ge),ie=Ra(r,l,xe,s);else{for(var Ce=Math.sqrt(te/(ie.length*c));we<4;){if(pe=(ge=Ce)*c,xe=ai(ee*(fe=1/ge)),ai(te*fe),ye&&a.scale(ye,ye),a.scale(ge,ge),!((ve=Ra(r,l,xe,s)).length*pe>te||ve.length*pe<te&&te-ve.length*pe>.8*pe)){ie=ve;break}ye=fe,Ce*=Math.sqrt(te/(ve.length*pe)),4==++we&&(ie=ve)}me[r]=ge}Q=(q+_)*fe,$=(J+M)*fe,ka(ie).call(ie,function(e,t){var i;ht.Default.drawText(a,e,l,u,Q,$,xe,pe,d,h),A&&(i=co(l,e),Bs(a,{x:Q,y:$,height:c,width:xe},i.width,d,u)),$+=c})}else{!n&&D?(N=q+_,z=(F=J+M)-c,G=F+te+c,a.save(),a.beginPath(),a.rect(N,F,ee,te),a.clip(),$+=V,ka(ie).call(ie,function(e,t){var i;z<=$&&$<G&&(ht.Default.drawText(a,e,l,u,Q,$,ee,c,d,h),A&&(i=co(l,e),Bs(a,{x:Q,y:$,height:c,width:ee},i.width,d,u))),$+=c}),a.restore(),Y=ir(o,i,t),X=ee,U=ie.length*c,Z=o&&o.getZoom?o.getZoom():1,K=L?S/Z:S,Y&&(Y.translateX=k,Y.translateY=V,Y.autoHideScrollBar=T),vn(a,{x:Q,y:J+M,width:ee,height:te},{width:X,height:U},{x:k,y:V},{visible:!T||Y.scrollBarVisible,color:I,gap:0,barWidth:K},Y||{})):("middle"===h?$+=(te-ie.length*c)/2:"bottom"===h&&($+=te-ie.length*c),ka(ie).call(ie,function(e,t){var i;ht.Default.drawText(a,e,l,u,Q,$,ee,c,d,h),A&&(i=co(l,e),Bs(a,{x:Q,y:$,height:c,width:ee},i.width,d,u)),$+=c}))}a.restore()}},textEllipsis:function(e,t,i,a,o){var r,n,l=i.getValue("content"),s=i.getValue("font"),h=i.getValue("align"),u=i.getValue("vAlign"),c=i.getColor("color"),d=i.getValue("padding"),g=i.getColor("background"),f=i.getColor("borderColor"),v=i.getValue("borderWidth"),p=i.getValue("borderRadius"),y=i.getValue("dash"),x=i.getValue("dashPattern"),b=i.getValue("bgGradient"),m=i.getColor("bgGradientColor"),w=nt(Ta(d),4),C=w[0],k=w[1],V=w[2],I=w[3],D=nt(Ta(p),4),T=D[0],S=D[1],L=D[2],A=D[3];e.beginPath(),nr(e,t.x,t.y,t.width,t.height,T,S,A,L),e.closePath(),Mo(e,{borderWidth:v,borderColor:f,dash:y,dashPattern:x,background:g,bgGradient:b,bgGradientColor:m,contentRect:[t.x,t.y,t.width,t.height]});for(var R=[t.x+I,t.y+C,t.width-I-k,t.height-C-V],M=R[2],P="",B=0;B<l.length;B++){P+=l[B];var _=co(s,P+"...").width;if(_<=M&&B==l.length-1){l=P;break}if(M<_){l=(P=Kt(P).call(P,0,P.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,Ke(n=[e,l,s,c]).call(n,R,[h,u]))},verticalTextBox:function(a,e,t,i,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w=t.getValue("content"),C=t.getValue("font"),k=t.getColor("color"),V=t.getValue("padding"),I=t.getValue("startOnRight"),D=t.getColor("background"),T=t.getColor("borderColor"),S=t.getValue("borderWidth"),L=t.getValue("borderRadius"),A=t.getValue("dash"),R=t.getValue("dashPattern"),M=t.getValue("bgGradient"),P=t.getColor("bgGradientColor"),B=t.getValue("wordBreak"),_=t.getValue("vGap"),O=t.getValue("hGap"),E=t.getValue("autoWrap"),W=nt(Ta(V),4),H=W[0],j=W[1],N=W[2],F=W[3],z=nt(Ta(L),4),G=z[0],Y=z[1],X=z[2],U=z[3];a.beginPath(),nr(a,e.x,e.y,e.width,e.height,G,Y,U,X),a.closePath(),Mo(a,{borderWidth:S,borderColor:T,dash:A,dashPattern:R,background:D,bgGradient:M,bgGradientColor:P,contentRect:[e.x,e.y,e.width,e.height]}),w&&(n=(r={x:e.x+F,y:e.y+H,width:e.width-F-j,height:e.height-H-N}).x,l=r.y,s=r.width,h=E?(v=C,p=r.height,y=_,x=B,b=[],m=w.split("\n"),ka(m).call(m,function(e){if(""===e&&(e="e"),x)Array.prototype.push.apply(b,Os(e,p,v,y));else{for(var t,i,a,o,r,n="",l="",s=0;s<e.length;s++){e.charAt(s).match(/[a-z|A-Z]/g)?n+="1":n+="2"}n=(n=n.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var h=0;h<n.length;h++){n.charAt(h).match(/\_/g)&&(e=xo(e,h+1,"|"))}t=e.split("|"),i=n.split("_");for(var u=(o=co(v,"图")).height/3,c=0,d=t.length;c<d;c++)a=l+t[c],u+=o.height*t[c].length+y,"1"===i[c][0]?p<u?(l?(b.push(l),l="",c--):(r=Os(t[c],p,v,y),Array.prototype.push.apply(b,Kt(r).call(r,0,r.length-1)),l=r[r.length-1]),u=o.height/3):u===p?(b.push(a),l="",u=o.height/3):l=a:p<u?(r=Os(a,p,v,y),Array.prototype.push.apply(b,Kt(r).call(r,0,r.length-1)),l=r[r.length-1],u=o.height/3):l=a;l&&b.push(l)}}),b):[w],u=co(C,"图"),c=u.width,d=u.height,a.save(),a.fillStyle=k,a.textBaseline="top",a.font=C,I?(g=n+s-c,f=l,ka(h).call(h,function(e){for(var t=0;t<e.length;t++){var i=e[t];a.fillText(i,g,f),f+=_+d}f=l,g=g-c-O})):(g=n,f=l,ka(h).call(h,function(e){for(var t=0;t<e.length;t++){var i=e[t];a.fillText(i,g,f),f+=_+d}f=l,g+=c+O})),a.restore())},tree:function(D,T,e,S,L){var A,R,M,t,i=e.getValue("dataSource"),P=e.getValue("itemHeight"),B=e.getValue("badgeHeight"),_=e.getValue("badgeSpace"),O=e.getValue("badgeRadius"),E=e.getValue("translateX"),a=e.getValue("translateY"),o=e.getValue("borderWidth"),W=e.getValue("rowLineWidth"),r=e.getValue("treeFont"),H=e.getValue("badgeFont"),j=e.getColor("textColor"),N=e.getColor("hoverBackColor"),F=e.getColor("hoverTextColor"),z=e.getColor("selectBackColor"),G=e.getColor("selectTextColor"),n=e.getColor("backColor"),l=e.getColor("borderColor"),Y=e.getValue("rowLineColor"),s=e.getValue("showLine"),X=e.getValue("showCheckbox"),U=e.getValue("showIcon"),Z=e.getValue("showBadge"),K=e.getValue("visibleFunc")||function(){return!0},q=e.getColor("itemBackColor"),h=ir(L,S,e),u=null,J=null,c=T.x,d=T.y,g=T.width,f=T.height,Q=0,$=-W,ee={togglesRect:[],visibleRowsRect:[],checksRect:[],badgesRect:[]};h&&(h.treeTableDataModel?u=h.treeTableDataModel:(u=new Ts,h.treeTableDataModel=u),u.reset(e,T),u.init(i),0===i.length&&u.clear(),X&&u.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),u&&(A=u.getTreeIconInfo(e),n&&(D.save(),D.fillStyle=n,D.beginPath(),D.fillRect(c,d,g,f),D.restore()),D.save(),D.font=r,D.fillStyle=j,D.textBaseline="top",D.textAlign="start",R=2*D.measureText("e").width,D.beginPath(),D.rect(c,d,g,f),D.clip(),M=[],u.getRoots().each(function e(t){var i,a,o,r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I;(K(t.a("dataInfo"))||function e(t,i){var a=t.children;if(a)for(var o=0,r=a.length;o<r;o++){if(i(a[o]))return 1;if(e(a[o],i))return 1}}(t.a("dataInfo"),K))&&(t.a("treeTextWH",{textWidth:D.measureText(t.a("text")).width+2,textHeight:R}),t.initNodeRect(J,S,L),i=(J=t).a("rowRect"),o=(a=t.a("treeTextRect")).x,r=a.width,n={x:i.x-E,y:i.y,width:i.width,height:i.height},$+=P+W,Q=Math.max(Q,o-E+r),Ss(T,n)&&(l=t.a("_isHovering"),s=t.a("selected"),h=t.a("disabled"),q&&(u=n.x,c=n.y,d=n.width,g=n.height,D.save(),D.fillStyle=q,D.fillRect(u,c,d,g+1),D.restore()),N&&l&&(f=n.x,v=n.y,p=n.width,y=n.height,D.save(),D.fillStyle=N,D.fillRect(f,v,p,y),D.restore()),z&&s&&(x=n.x,b=n.y,m=n.width,w=n.height,D.save(),D.fillStyle=z,D.fillRect(x,b,m,w),D.restore()),t.drawTreeToggleIcon(D,S,L,A,ee),X&&t.drawTreeCheckIcon(D,S,L,A,ee),U&&t.drawTreeIcon(D,S,L,A),Z&&t.drawTreeBadge(D,S,L,{badgeFont:H,badgeHeight:B,badgeSpace:_,badgeRadius:O},ee),t.drawTreeText(D,S,L,{textColor:j,selectTextColor:G,hoverTextColor:F}),h&&(C=n.x,k=n.y,V=n.width,I=n.height,D.save(),D.fillStyle="rgba(192, 192, 192, 0.5)",D.fillRect(C,k,V,I),D.restore()),t.drawRowLine(D,{rowLineWidth:W,rowLineColor:Y},n),ee.visibleRowsRect.push({node:t,visibleRowRect:n}),M.push(t)),t.a("expanded")&&t.getChildren().each(e))}),s&&u.drawTreeCable(D,M,K),u.drawBorder(D,l),D.restore(),h&&(h.translateX=E,h.translateY=a,h.rectInfo=ee),t={x:c+o,y:d+o,width:g-2*o,height:f-2*o},u.drawScrollBar(D,e,L,h,Q,$,t))},treeTable:function(L,A,R,M,P){var e=R.getValue("dataSource"),B=R.getValue("translateX"),t=R.getValue("translateY"),i=R.getValue("borderWidth"),a=R.getColor("borderColor"),o=R.getValue("columnLineWidth"),r=R.getColor("columnLineColor"),_=R.getValue("rowLineWidth"),O=R.getColor("rowLineColor"),n=R.getValue("showLine"),E=R.getValue("showCheckbox"),W=R.getValue("showIcon"),l=R.getColor("lineColor"),s=R.getValue("showHead"),h=R.getValue("thHeight"),H=R.getValue("tdHeight"),j=R.getValue("tdFont"),u=R.getColor("thColor"),N=R.getColor("tdColor"),c=R.getColor("thBackground"),F=R.getColor("tdBackground"),z=R.getValue("visibleFunc")||function(){return!0},G=R.getValue("drawRow"),Y=R.getColor("hoverTextColor"),X=R.getColor("hoverBackColor"),U=R.getColor("selectTextColor"),Z=R.getColor("selectBackColor"),d=ir(P,M,R),g=null,K=null,f=A.x,v=A.y,p=A.width,y=A.height,x=0,q=s?0:-_,J={togglesRect:[],visibleRowsRect:[],checksRect:[],headCellsRect:[]};if(d&&(d.treeTableDataModel?g=d.treeTableDataModel:(g=new Ts,d.treeTableDataModel=g),g.reset(R,A,d),g.init(e),E&&g.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),g){var Q=g.a("visibleColumns"),$=g.getTreeIconInfo(R),ee=g.a("treeColumnIndex");L.save(),n&&(L.strokeStyle=l,L.setLineDash([1,1]),L.lineWidth=.5,L.lineJoin="miter"),L.font=j,L.fillStyle=N,L.textBaseline="top",L.textAlign="start";var te=2*L.measureText("e").width;L.beginPath(),L.rect(f,v,p,y),L.clip();var ie=0,ae=[];L.save(),L.beginPath(),L.rect(f+i,v+i+(s?h:0),A.width-2*i,y-2*i-(s?h:0)),L.clip(),g.getRoots().each(function e(t){if(z(t.a("dataInfo"))){t.a("treeTextWH",{textWidth:L.measureText(t.a("text")).width+2,textHeight:te}),t.initNodeRect(K),ie++;var i=(K=t).a("rowRect"),a={x:i.x-B,y:i.y,width:i.width,height:i.height};if(q+=H+_,Ls(A,a)){var o,r,n,l,s,h,u,c,d,g,f,v,p=t.a("cellsRect"),y=p.length,x=t.a("_isHovering"),b=t.a("selected"),m=t.a("disabled");if(t.drawTableRow(L,{comp:R,visibleRowRect:a,tdBackground:F,drawRow:G}),X&&x&&(o=a.x,r=a.y,n=a.width,l=a.height,L.save(),L.fillStyle=X,L.fillRect(o,r,n,l),L.restore()),Z&&b&&(s=a.x,h=a.y,u=a.width,c=a.height,L.save(),L.fillStyle=Z,L.fillRect(s,h,u,c),L.restore()),0<y)for(var w=0;w<y;w++){var C=p[w],k=C.x,V=C.y,I=C.width,D=C.height,T=Q[w],S=t.getTextColor({textColor:N,hoverTextColor:Y,selectTextColor:U},T);L.save(),L.beginPath(),S!==N&&(L.fillStyle=S),w==ee?(L.rect(k,A.y,I,A.height),L.clip(),t.drawTreeToggleIcon(L,M,P,$,J),E&&t.drawTreeCheckIcon(L,M,P,$,J),W&&t.drawTreeIcon(L,M,P,$),t.drawTreeText(L,M,P,{textColor:S,selectTextColor:U,hoverTextColor:Y})):(L.rect(k,V,I,D),L.clip(),t.drawTableCell(L,{comp:R,data:M,column:T,cellRect:C,tdFont:j,tdColor:S,colIndex:w,textHeight:te,visibleRowIndex:ie})),L.restore()}m&&(d=a.x,g=a.y,f=a.width,v=a.height,L.save(),L.fillStyle="rgba(192, 192, 192, 0.5)",L.fillRect(d,g,f,v),L.restore()),t.drawRowLine(L,{rowLineWidth:_,rowLineColor:O},a),J.visibleRowsRect.push({node:t,visibleRowRect:a}),ae.push(t)}t.a("expanded")&&t.getChildren().each(e)}}),L.restore(),n&&g.drawTreeCable(L,ae,z),g.drawTableHead(L,d,{comp:R,data:M,columnLineColor:r,thColor:u,thBackground:c}),g.drawBorder(L,a),g.drawDragColumnLine(L,d),L.restore();for(var b=g.a("columnsRect"),m=0,w=b.length;m<w;m++){x+=b[m].width,m!==w-1&&(x+=o)}d&&(d.translateX=B,d.translateY=t,d.rectInfo=J);var C={x:f+i,y:v+i+(s?h:0),width:p-2*i,height:y-2*i-(s?h:0)};g.drawScrollBar(L,R,P,d,x,q,C)}},chart:function(t,e,i,a,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w=i.getValue("series"),C=i.getValue("xAxis"),k=i.getValue("yAxis"),V=i.getValue("colors"),I=i.getColor("background"),D=i.getValue("onRectSelected"),T=i.getValue("rectSelectBorderColor"),S=i.getValue("rectSelectBackground"),L=i.getValue("boundaryGap"),A={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),formatter:i.getValue("tooltipFormatter")};w&&w.length&&(c={color:V&&V.length?V:wc,xAxis:Xu(C,mc),yAxis:Xu(k,bc),series:w,tooltip:A,onRectSelected:D,rectSelectBorderColor:T,rectSelectBackground:S},d={data:a,view:o,boundaryGap:L,rect:e,contentRect:Dc(e),valueAxis:Za,seriesDatas:Us(w).call(w,function(e){return!1===e.visible?[]:or(e.data,a,o)}),seriesColors:[],interactiveInfo:{}},ka(r=c.xAxis).call(r,function(e){e._axisObj=new kc(e,c,d)}),ka(n=c.yAxis).call(n,function(e){e._axisObj=new Vc(e,c,d)}),Yu(c,d),!a||(g=ir(o,a,i))&&(f=g,d.hoverIndex=f.hoverIndex,d._dragging=f._dragging,d.rectPoint1=f.rectPoint1,d.rectPoint2=f.rectPoint2,f._dragging&&f.rectPoint1&&f.rectPoint2&&(d.selectRect=Tc(f.rectPoint1,f.rectPoint2))),I&&(t.fillStyle=I,t.fillRect(e.x,e.y,e.width,e.height)),ka(l=c.xAxis).call(l,function(e){e._axisObj.draw(t)}),ka(s=c.yAxis).call(s,function(e){e._axisObj.draw(t)}),w&&w.length&&function(o,r,n){var e,t=r.series,i=n.interactiveInfo.axisInfos=Us(e=r.xAxis).call(e,function(e){var t;return Us(t=e._axisObj.axisInfos).call(t,function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barStackMap={},n.barStackCount=0,n.barCategoryGap=null,n.diffPointsList=[],ka(t).call(t,function(e,t){var i;e.type===Ja&&!1!==e.visible&&(e.stack?((i=n.barStackMap[e.stack])||(i=n.barStackMap[e.stack]={stackData:[],series:[]},n.barStackCount++),i.series.push(e)):n.barSeries.push(e),rr(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),ka(t).call(t,function(e,t){var i,a=e.type;a===Qa?i=pc:a===Ja?i=yc:a===$a&&(i=xc),i&&i(o,e,t,r,n)}),void 0!==n.hoverIndex){var a=i[0][n.hoverIndex];if(!a)return;var l,s=a.position,h=n.bounds.bodyRect;o.strokeStyle=r.tooltip.lineColor,o.lineWidth=r.tooltip.lineWidth,o.beginPath(),o.moveTo(s,h.y),o.lineTo(s,h.y+h.height),o.stroke(),n._hoverHandlers&&ka(l=n._hoverHandlers).call(l,function(e){e()})}}(t,c,d),d.selectRect&&(p=(v=d.selectRect).x,y=v.y,x=v.width,b=v.height,t.fillStyle=S,t.fillRect(p,y,x,b),t.strokeStyle=T,t.strokeRect(p,y,x,b)),ka(h=c.xAxis).call(h,function(e){e._axisObj.drawMarkLine(t)}),ka(u=c.yAxis).call(u,function(e){e._axisObj.drawMarkLine(t)}),a&&((m=ir(o,a,i)).ui=d,m.option=c))},radioButton:function(e,t,i,a,o){var r,n=i.getValue("value"),l=i.getValue("values")||[],s=i.getValue("labels")||[],h=i.getValue("borderWidth"),u=i.getValue("borderRadius"),c=i.getValue("font"),d=i.getColor("labelColor"),g=i.getColor("borderColor"),f=i.getColor("background"),v=i.getColor("hoverLabelColor"),p=i.getColor("hoverBorderColor"),y=i.getColor("hoverBackground"),x=i.getColor("activeLabelColor"),b=i.getColor("activeBorderColor"),m=i.getColor("activeBackground"),w=i.getColor("disabledLabelColor"),C=i.getColor("disabledBorderColor"),k=i.getColor("disabledBackground"),V=i.getValue("vertical"),I=i.getValue("onChange"),D=i.getValue("disabled"),T=ir(o,a,i),S=t.x,L=t.y,A=t.width,R=t.height,M=Math.min(l.length,s.length);if(M){Hs=js=null,rr(n)&&(r=jt(l).call(l,n),js=0<=r?r:null),T&&rr(T.hoverIndex)&&(Hs=T.hoverIndex);for(var P=[],B=0;B<M;B++)B!==Hs&&B!==js&&P.push(B);rr(Hs)&&Hs===js?P.push(Hs):(rr(js)&&P.push(js),rr(Hs)&&P.push(Hs));var _,O,E,W,H,j,N,F,z,G,Y,X,U,Z,K,q,J,Q,$,ee,te,ie,ae,oe,re,ne,le,se,he=[];if(V)for(var ue=R/M,ce=0;ce<P.length;ce++){var de=P[ce],ge=s[de],fe={x:S,y:L+de*ue,width:A,height:ue};he.push({rect:fe,index:de});var ve=Es(de,D,d,v,x,w),pe=Es(de,D,g,p,b,C),ye=Es(de,D,f,y,m,k);K=e,J=Ws(de,M),Q=u,$=ge,ee=c,te=ve,ie=h,ae=pe,oe=ye,se=le=ne=re=void 0,re=(q=fe).x,ne=q.y,le=q.width,se=q.height,K.save(),K.beginPath(),0===J?nr(K,re,ne,le,se,Q,Q,0,0):1===J?nr(K,re,ne,le,se,0):2===J?nr(K,re,ne,le,se,0,0,Q,Q):nr(K,re,ne,le,se,Q),K.closePath(),oe&&(K.fillStyle=oe,Ne(K).call(K)),ae&&ie&&(K.strokeStyle=ae,K.stroke()),K.clip(),Ns(K,$,ee,te,re,ne,le,se,"center","middle"),K.restore()}else for(var xe=A/M,be=0;be<P.length;be++){var me=P[be],we=s[me],Ce={x:S+xe*me,y:L,width:xe,height:R};he.push({rect:Ce,index:me});var ke=Es(me,D,d,v,x,w),Ve=Es(me,D,g,p,b,C),Ie=Es(me,D,f,y,m,k);_=e,E=Ws(me,M),W=u,H=we,j=c,N=ke,F=h,z=Ve,G=Ie,Z=U=X=Y=void 0,Y=(O=Ce).x,X=O.y,U=O.width,Z=O.height,_.save(),_.beginPath(),0===E?nr(_,Y,X,U,Z,W,0,W,0):1===E?nr(_,Y,X,U,Z,0):2===E?nr(_,Y,X,U,Z,0,W,0,W):nr(_,Y,X,U,Z,W),_.closePath(),G&&(_.fillStyle=G,Ne(_).call(_)),z&&F&&(_.strokeStyle=z,_.stroke()),_.clip(),Ns(_,H,j,N,Y,X,U,Z,"center","middle"),_.restore()}T&&(T.disabled=D,T.onChange=I,T.buttonRects=he,T.values=l)}},carousel:function(e,t,i,a,o){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),s=i.getValue("vertical"),h=i.getValue("index"),u=i.getValue("gap"),c=i.getValue("itemWidth"),d=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),y=i.getValue("drawItem"),x=i.getValue("animation"),b=i.getValue("onClickItem"),m=ir(o,a,i),w=t.x,C=t.y,k=t.width,V=t.height,I=h%1;if(h|=0,p&&(e.fillStyle=p,e.fillRect(w,C,k,V)),r&&r.length&&c&&d){var D=1-n,T=1-l,S=[],L=s?Zs(d,V,u,n):Zs(c,k,u,n),A=D/L,R=T/L;if(e.save(),e.beginPath(),e.rect(w,C,k,V),e.clip(),s){for(var M=w+k/2,P=C+V/2-d/2-u-I*d,B=0;B<L;B++){var _=n+A*(L-B-1-I),O=l+R*(L-B-1-I),E=h-B-1;if(E<0||E>=r.length)break;var W,H=r[E],j=[(M-c*_/2)/_,(P-=d*_)/_,c,d];e.save(),e.globalAlpha=O,e.scale(_,_),y?y(e,H,er(j),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,j)),Ho.apply(void 0,Ke(W=[e,H,v,f]).call(W,j,[Na,Fa]))),e.restore(),P-=u,S.push({index:E,rect:{x:j[0]*_,y:j[1]*_,width:j[2]*_,height:j[3]*_}})}P=C+V/2+d/2+u-I*(d+u);for(var N=0;N<L;N++){var F=n+A*(L-N-1+I),z=l+R*(L-N-1+I),G=h+N+1;if(G<0||G>=r.length)break;var Y,X=r[G],U=[(M-c*F/2)/F,P/F,c,d];e.save(),e.globalAlpha=z,e.scale(F,F),y?y(e,X,er(U),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,U)),Ho.apply(void 0,Ke(Y=[e,X,v,f]).call(Y,U,[Na,Fa]))),e.restore(),P+=d*F+u,S.push({index:G,rect:{x:U[0]*F,y:U[1]*F,width:U[2]*F,height:U[3]*F}})}P=C+V/2-d/2-I*d;var Z,K,q,J,Q=r[h];Q&&(K=1-R*I,q=[(M-c*(Z=1-A*I)/2)/Z,P/Z,c,d],e.save(),e.globalAlpha=K,e.scale(Z,Z),y?y(e,Q,er(q),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,q)),Ho.apply(void 0,Ke(J=[e,Q,v,f]).call(J,q,[Na,Fa]))),e.restore(),S.push({index:h,rect:{x:q[0]*Z,y:q[1]*Z,width:q[2]*Z,height:q[3]*Z}}))}else{for(var $=C+V/2,ee=w+k/2-c/2-u-I*c,te=0;te<L;te++){var ie=n+A*(L-te-1-I),ae=l+R*(L-te-1-I),oe=h-te-1;if(oe<0||oe>=r.length)break;var re,ne=r[oe],le=[(ee-=c*ie)/ie,($-d*ie/2)/ie,c,d];e.save(),e.globalAlpha=ae,e.scale(ie,ie),y?y(e,ne,er(le),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,le)),Ho.apply(void 0,Ke(re=[e,ne,v,f]).call(re,le,[Na,Fa]))),e.restore(),ee-=u,S.push({index:oe,rect:{x:le[0]*ie,y:le[1]*ie,width:le[2]*ie,height:le[3]*ie}})}ee=w+k/2+c/2+u-I*(c+u);for(var se=0;se<L;se++){var he=n+A*(L-se-1+I),ue=l+R*(L-se-1+I),ce=h+se+1;if(ce<0||ce>=r.length)break;var de,ge=r[ce],fe=[ee/he,($-d*he/2)/he,c,d];e.save(),e.globalAlpha=ue,e.scale(he,he),y?y(e,ge,er(fe),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,fe)),Ho.apply(void 0,Ke(de=[e,ge,v,f]).call(de,fe,[Na,Fa]))),e.restore(),ee+=c*he+u,S.push({index:ce,rect:{x:fe[0]*he,y:fe[1]*he,width:fe[2]*he,height:fe[3]*he}})}ee=w+k/2-c/2-I*c;var ve,pe,ye,xe,be=r[h];be&&(pe=1-R*I,ye=[ee/(ve=1-A*I),($-d*ve/2)/ve,c,d],e.save(),e.globalAlpha=pe,e.scale(ve,ve),y?y(e,be,er(ye),a,o):(g&&(e.fillStyle=g,e.fillRect.apply(e,ye)),Ho.apply(void 0,Ke(xe=[e,be,v,f]).call(xe,ye,[Na,Fa]))),e.restore(),S.push({index:h,rect:{x:ye[0]*ve,y:ye[1]*ve,width:ye[2]*ve,height:ye[3]*ve}}))}e.restore(),m&&(m.itemInfos=S,m.index=h,m.animation=x,m.dataSource=r,m.onClickItem=b,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,a,o){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),s=i.getValue("itemWidth"),h=i.getValue("itemHeight"),u=i.getColor("itemBackground"),c=i.getColor("itemColor"),d=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(ir(o,a,i),t.x),y=t.y,x=t.width,b=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,y,x,b)),r&&r.length&&s&&h){e.save(),e.beginPath(),e.rect(p,y,x,b),e.clip();var m=r.length;if(n){var w=h+l,C=y+v,k=p+(x-s)/2,V=0;if((C%=w*r.length)<=y)for(;;){if(Fo({x:k,y:C,width:s,height:h},t))break;V++,C+=w}else if(y<C)for(;;){if(!Fo({x:k,y:C,width:s,height:h},t)&&C<y){C+=w,V++;break}C-=w,V--}for(;;){var I={x:k,y:C,width:s,height:h};if(!Fo(I,t))break;var D,T=V%m;T<0&&(T=m+V),D=r[T],f?f(e,D,I,a,o):(u&&(e.fillStyle=u,e.fillRect(k,C,s,h)),Ho(e,D,d,c,k,C,s,h,Na,Fa)),C+=w,V++}}else{var S=s+l,L=y+(b-h)/2,A=p+v,R=0;if((A%=S*r.length)<=p)for(;;){if(Fo({x:A,y:L,width:s,height:h},t))break;R++,A+=S}else if(p<A)for(;;){if(!Fo({x:A,y:L,width:s,height:h},t)&&A<p){A+=S,R++;break}A-=S,R--}for(;;){var M={x:A,y:L,width:s,height:h};if(!Fo(M,t))break;var P,B=R%m;B<0&&(B=m+R),P=r[B],f?f(e,P,M,a,o):(u&&(e.fillStyle=u,e.fillRect(A,L,s,h)),Ho(e,P,d,c,A,L,s,h,Na,Fa)),A+=S,R++}}e.restore()}},timeAxisChart:function(t,e,i,a,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m,w,C,k,V,I,D,T,S,L,A,R,M,P,B,_,O,E,W=i.getValue("series"),H=i.getValue("xAxis"),j=i.getValue("yAxis"),N=i.getValue("colors"),F=i.getColor("background"),z=i.getValue("onRectSelected"),G=i.getValue("rectSelectBorderColor"),Y=i.getValue("rectSelectBackground"),X=i.getValue("maxVisiblePoint"),U=i.getValue("endProtectPoint"),Z=i.getValue("xAxisRange"),K={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern"),formatter:i.getValue("tooltipFormatter")};W&&W.length&&(H&&!Oo(H)&&(H=[H]),j&&!Oo(j)&&(j=[j]),h={series:W,xAxis:H,yAxis:j,color:N},u={color:N&&N.length?N:wc,xAxis:Xu(H,Sc),yAxis:Xu(j,bc),series:W,tooltip:K,onRectSelected:z,rectSelectBorderColor:G,rectSelectBackground:Y},c={data:a,view:o,maxVisiblePoint:X,endProtectPoint:U,xAxisRange:Z,originalOption:h,rect:e,contentRect:_o(e),valueAxis:Za,seriesDatas:Us(W).call(W,function(e){return!1===e.visible?[]:or(e.data,a,o)}),seriesColors:[],interactiveInfo:{}},ka(r=u.xAxis).call(r,function(e){e._axisObj=new Lc(e,u,c)}),ka(n=u.yAxis).call(n,function(e){e._axisObj=new Vc(e,u,c)}),Yu(u,c),!a||(d=ir(o,a,i))&&(g=d,c.hoverTime=g.hoverTime,c._dragging=g._dragging,c.rectPoint1=g.rectPoint1,c.rectPoint2=g.rectPoint2,g._dragging&&g.rectPoint1&&g.rectPoint2&&(c.selectRect=sr(g.rectPoint1,g.rectPoint2))),F&&(t.fillStyle=F,t.fillRect(e.x,e.y,e.width,e.height)),ka(l=u.xAxis).call(l,function(e){e._axisObj.draw(t)}),ka(s=u.yAxis).call(s,function(e){e._axisObj.draw(t)}),W&&W.length&&(f=t,p=c,R=(v=u).series,ka(R).call(R,function(e,t){"line"===e.type&&Ac(f,e,t,v,p)}),void 0!==p.hoverTime&&(x=(y=v.xAxis[0]._axisObj.zoomTimeRange)[0],b=y[1]-x,w=(m=p.bounds.bodyRect).x,C=m.y,k=m.width,V=m.height,I=w+(p.hoverTime-x)/b*k,T=(D=v.tooltip).lineColor,S=D.lineWidth,L=D.pattern,f.strokeStyle=T,f.lineWidth=S,L&&f.setLineDash(L),f.beginPath(),f.moveTo(I,C),f.lineTo(I,C+V),f.stroke(),p._hoverHandlers&&ka(A=p._hoverHandlers).call(A,function(e){e()}))),c.selectRect&&(P=(M=c.selectRect).x,B=M.y,_=M.width,O=M.height,t.fillStyle=Y,t.fillRect(P,B,_,O),t.strokeStyle=G,t.strokeRect(P,B,_,O)),a&&((E=ir(o,a,i)).ui=c,E.option=u))},pagination:function(h,e,t,u,c){var d=t.getValue("current"),i=t.getValue("pageSize"),a=t.getValue("total"),o=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),y=t.getValue("borderWidth"),x=t.getColor("borderColor"),b=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),C=t.getColor("hoverBorderColor"),k=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),I=t.getColor("activeBorderColor"),D=t.getColor("activeBackground"),T=t.getColor("disabledLabelColor"),S=t.getColor("disabledBorderColor"),L=t.getColor("disabledBackground"),A=t.getColor("disabledActiveLabelColor"),R=t.getColor("disabledActiveBorderColor"),M=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),s=u?ir(c,u,t):{},P=e.x,B=e.y,_=e.width,O=e.height;if(a){for(var E=Math.ceil(a/i),W=7<E,H=W&&4<d,j=W&&d<=E-4,N=1<d,F=d<E,z=[],G=0;G<E;G++)W?((0===G||G===E-1||Math.abs(G+1-d)<=2||!H&&G<5||!j&&E-5<G)&&z.push({label:G+1,isDisabled:!!l}),1===G&&H&&z.push({label:io,isDisabled:!!l}),G===E-2&&j&&z.push({label:ao,isDisabled:!!l})):z.push({label:G+1,isDisabled:!!l});z.unshift({label:eo,isDisabled:!N||l}),n&&z.unshift({label:oo,isDisabled:!N||l}),z.push({label:to,isDisabled:!F||l}),n&&z.push({label:ro,isDisabled:!F||l});var Y=s.hoverLabel;if(Ha===o)for(var X=P+_-y/2,U=B+(O-g)/2,Z=z.length-1;0<=Z;Z--){var K=z[Z],q=K.label,J=K.isDisabled,Q=co(m,q),$=0<=jt(Qs).call(Qs,q)?r:Math.max(r,Q.width),ee={x:X-=$,y:U,width:$,height:g},te={active:d===q,hover:Y===q,disabled:J},ie=qs(te,v,w,V,T,A),ae=qs(te,x,C,I,S,R),oe=qs(te,p,k,D,L,M);Ks(h,ee,q,m,ie,ae,b,y,oe,te,u,c),X-=f,K.rect=ee}else if(ja===o)for(var re=P+y/2,ne=B+(O-g)/2,le=0;le<z.length;le++){var se=z[le],he=se.label,ue=se.isDisabled,ce=co(m,he),de=0<=jt(Qs).call(Qs,he)?r:Math.max(r,ce.width),ge={x:re,y:ne,width:de,height:g},fe={active:d===he,hover:Y===he,disabled:ue},ve=qs(fe,v,w,V,T,A),pe=qs(fe,x,C,I,S,R),ye=qs(fe,p,k,D,L,M);Ks(h,ge,he,m,ve,pe,b,y,ye,fe,u,c),re+=de+f,se.rect=ge}else{var xe,be=0,me=B+(O-g)/2,we=[];ka(z).call(z,function(e){var t=e.label,i=(e.isDisabled,co(m,t)),a=0<=jt(Qs).call(Qs,t)?r:Math.max(r,i.width);be+=a,we.push(a)}),be+=(z.length-1)*f,xe=P+_/2-be/2,ka(z).call(z,function(e,t){var i=e.label,a=e.isDisabled,o={x:xe,y:me,width:we[t],height:g},r={active:d===i,hover:Y===i,disabled:a},n=qs(r,v,w,V,T,A),l=qs(r,x,C,I,S,R),s=qs(r,p,k,D,L,M);Ks(h,o,i,m,n,l,b,y,s,r,u,c),xe+=o.width+f,e.rect=o})}u&&(s.itemList=z,s.totalPage=E,s.current=d,s.disabled=l,s.onChange=t.getValue("onChange"))}},radio2:function(e,t,i,a,o){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),s=i.getColor("background"),h=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),ir(o,a,i));rr(d.checked)&&(n=d.checked);var g=n?h:l,f=t.x,v=t.y,p=t.width,y=t.height,x=Math.min(p,y);a&&(r?(g=u,s=c):d.pressed?n?g=ht.Default.darker(g,Ia.activeDarker):s=ht.Default.darker(s,Ia.activeDarker):d.hover&&(n?g=ht.Default.darker(g,Ia.hoverDarker):s=ht.Default.darker(s,Ia.hoverDarker))),s&&(e.beginPath(),e.fillStyle=s,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),Ne(e).call(e)),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*x,0,2*Math.PI),Ne(e).call(e)),a&&!a.__inputType&&(a.__inputType=Ya),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"),d.checked=n,d.__inputType=Ya)},valueAxisChart:function(t,e,i,a,o){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b=i.getValue("series"),m=i.getValue("xAxis"),w=i.getValue("yAxis"),C=i.getValue("colors"),k=i.getColor("background"),V=i.getValue("clipMode"),I={show:i.getValue("tooltip"),formatter:i.getValue("tooltipFormatter")};b&&b.length&&(m&&!Oo(m)&&(m=[m]),w&&!Oo(w)&&(w=[w]),h={series:b,xAxis:m,yAxis:w,color:C,clipMode:V},u={color:C&&C.length?C:wc,xAxis:Xu(m,mc),yAxis:Xu(w,bc),series:b,tooltip:I,clipMode:V},c={data:a,view:o,rect:e,contentRect:Bc(e),valueAxis:Za,originalOption:h,seriesDatas:Us(b).call(b,function(e){return!1===e.visible?[]:or(e.data,a,o)}),seriesColors:[],interactiveInfo:{}},ka(r=u.xAxis).call(r,function(e){e._axisObj=new Mc(e,u,c)}),ka(n=u.yAxis).call(n,function(e){e._axisObj=new Vc(e,u,c)}),Yu(u,c),k&&(t.fillStyle=k,t.fillRect(e.x,e.y,e.width,e.height)),!a||(d=ir(o,a,i))&&(g=d,c.hitPointIndex=g.hitPointIndex,c.hitSeriesIndex=g.hitSeriesIndex),ka(l=u.xAxis).call(l,function(e){e._axisObj.draw(t)}),ka(s=u.yAxis).call(s,function(e){e._axisObj.draw(t)}),b&&b.length&&(f=t,y=(v=u).series,(p=c).pointsInfo={},ka(y).call(y,function(e,t){Rc(f,e,t,v,p)})),a&&((x=ir(o,a,i)).ui=c,x.option=u))},qrcode:function(e,t,i,a,o){var r=i.getColor("colorDark"),n=i.getColor("colorLight"),l=i.getColor("padding"),s=i.getValue("content");if(!To(s)){e.save();var h=mh[s],u=(h=h||(mh[s]=new bh(s))).getModuleCount(),c=t.x,d=t.y,g=t.width,f=t.height,v=10*u,p=c,y=d,x=Math.min(g,f);g-=2*l,f-=2*l;var b=Math.min(g,f)/v;f<g?p=c+(g-f)/2:y=d+(f-g)/2,e.translate(p,y),e.fillStyle=n,e.fillRect(0,0,x,x);var m=v/u;e.translate(l,l),e.fillStyle=r,e.scale(b,b),e.beginPath();for(var w=0;w<u;w++)for(var C,k,V=0;V<u;V++){h.isDark(w,V)&&(C=V*m,k=w*m,e.rect(C,k,10,10))}Ne(e).call(e),e.restore()}},dragSlider:function(s,e,t,o,r){var i={dataSource:t.getValue("dataSource"),color:t.getValue("color"),step:t.getValue("step"),total:t.getValue("total"),padding:t.getValue("padding"),onChange:t.getValue("onChange"),barWidth:t.getValue("barWidth"),barBackground:t.getValue("barBackground"),barBorderRadius:t.getValue("barBorderRadius"),sliderImage:t.getValue("sliderImage"),sliderBorderWidth:t.getValue("sliderBorderWidth"),sliderBorderRadius:t.getValue("sliderBorderRadius"),sliderBorderColor:t.getValue("sliderBorderColor"),sliderBackground:t.getValue("sliderBackground"),sliderWidth:t.getValue("sliderWidth"),sliderHeight:t.getValue("sliderHeight"),sliderOffsetX:t.getValue("sliderOffsetX"),sliderOffsetY:t.getValue("sliderOffsetY"),showToolTip:t.getValue("showToolTip"),toolTipFormat:t.getValue("toolTipFormat")},a=ir(r,o,t),n=i.barBackground,l=i.barWidth,h=i.barBorderRadius,u=i.padding,c=i.sliderBackground,d=i.sliderBorderRadius,g=i.sliderBorderWidth,f=i.sliderBorderColor,v=i.sliderImage,p={itemsRect:[],dragIconsRect:[]},y=e.x,x=e.y,b=e.width,m=e.height,w=null,C=null;a&&(a.dragSliderDataModel?w=a.dragSliderDataModel:(w=new Lh,a.dragSliderDataModel=w),w.reset(i,e),w.init(),s.save(),s.beginPath(),s.rect(y,x,b,m),s.clip(),n&&(s.save(),s.fillStyle=n,s.beginPath(),Rh(s,y+u,x+(m-l)/2,b-2*u,l,h),s.closePath(),Ne(s).call(s),s.restore()),w.getRoots().each(function(e,t,i){e.initNodeRect(C);var a=(C=e).getAttrObject(),o=a.itemRect,r=a.color,n=0===t,l=t===i.size()-1;s.save(),s.fillStyle=r,s.beginPath(),Rh(s,o.x,o.y,o.width,o.height,n?h:0,l?h:0,n?h:0,l?h:0),s.closePath(),Ne(s).call(s),s.restore(),p.itemsRect.push({dragSliderData:e,itemRect:o})}),w.getRoots().each(function(e,t,i){var a=e.getAttrObject().dragIconRect;v?Ph(s,Mh(v),"fill",a.x,a.y,a.width,a.height,o,r):(s.save(),s.fillStyle=c,s.beginPath(),Rh(s,a.x,a.y,a.width,a.height,d,d,d,d),s.closePath(),Ne(s).call(s),g&&(s.lineWidth=g,s.strokeStyle=f,s.stroke()),s.restore()),p.dragIconsRect.push({dragSliderData:e,dragIconRect:a})}),s.restore(),a.rectInfo=p)},verticalBar:function(o,e,t,i,a){var r,n,l,s,h,u,c,d,g,f,v,p,y,x,b,m=t.getValue("colors"),w=t.getValue("labelColor"),C=t.getValue("dataSource"),k=t.getValue("font"),V=t.getValue("barPercent");C&&C.length&&(r=(i?ht.vector.getVectorInfo(a,i,t):{}).hoverIndex,n=e.x,l=e.y,s=e.width,h=e.height,u=h/C.length*V,c=h/C.length,d=(c-u)/2,f=[],p=(v=void(g=0)===p)?-1/0:p,ka(C).call(C,function(e){var t=ht.Default.getTextSize(k,e.name);g=Math.max(g,t.width),f.push(f),v&&(p=Math.max(p,e.value))}),y=s-g-10-48,x=l,b=n,ka(C).call(C,function(e,t){b=n;var i=f[t];ht.Default.drawText(o,e.name,k,w,b,x,i.width,c,"left","middle"),b+=g+5;var a=e.value/p,a=Math.min(a,1);o.fillStyle=r===t?ht.Default.brighter(m[t]):m[t%m.length],o.fillRect(b,x+d,y*a,u),b+=y*a+5,ht.Default.drawText(o,e.value+"",k,w,b,x,48,c,"left","middle"),x+=c}))},checkGroup:function(n,e,t,l,s){var h,i,a,u,c,d,o=t.getValue("dataSource"),r=t.getValue("value"),g=t.getValue("vPadding"),f=t.getValue("hPadding"),v=t.getValue("vGap"),p=t.getValue("hGap"),y=t.getColor("boxBackground"),x=t.getColor("activeBoxBackground"),b=t.getColor("checkIconColor"),m=(t.getValue("layerImage"),t.getColor("labelColor")),w=t.getValue("labelFont"),C=t.getColor("activeLabelColor"),k=t.getValue("multiple"),V=t.getValue("getLabelColor"),I=ir(s,l,t),D=r;o&&o.length&&(h=I.uiInfos=Us(o).call(o,function(e){return{label:e.label,value:e.value}}),i=e.x,a=e.y,u=e.width,e.height,c=i+f,d=a+g,n.save(),n.textBaseline=Fa,n.textAlign=ja,k&&(D=(r||"").split(",")),ka(o).call(o,function(e,t){var i=e.label,a=e.value,o=k?0<=jt(D).call(D,a):a===D,r=o?C:m;n.beginPath(),n.moveTo(c,d+8),n.lineTo(c+8,d),n.lineTo(c+16,d+8),n.lineTo(c+8,d+16),n.fillStyle=o?x:y,Ne(n).call(n),o&&(n.beginPath(),n.moveTo(c+3,d+8+1),n.lineTo(c+8,d+16-2),n.lineTo(c+16+4,d+8-6),n.lineTo(c+16+1,d+8-6),n.lineTo(c+8,d+16-5),n.lineTo(c+6,d+8+1),n.fillStyle=b,Ne(n).call(n)),To(i)&&(i=a),n.font=w,n.fillStyle=V?V(r,e,t,l,s):r,n.fillText(i,c+16+p,d+8),h[t].rect={x:c,y:d,width:Math.max(1,u-2*f),height:16},(h[t].active=o)&&(I.activeIndex=t),d=d+16+v}),n.restore(),I&&(I.value=r,I.dataValue=D,I.dataSource=o,I.onChange=t.getValue("onChange"),I.multiple=k))},parallelogramTab:function(g,e,t,i,a){var f,o,r,v,p,n=t.getValue("dataSource"),y=t.getValue("value"),x=t.getValue("gap"),b=t.getValue("activeItemWidth"),m=t.getValue("activeItemHeight"),w=t.getValue("itemWidth"),C=t.getValue("itemHeight"),k=t.getColor("activeItemBackground"),V=t.getColor("itemBackground"),I=t.getColor("labelColor"),D=t.getValue("labelFont"),T=t.getColor("activeLabelColor"),S=t.getValue("activeLabelFont"),L=t.getValue("offset"),l=ir(a,i,t);n&&n.length&&(f=l.uiInfos=Us(n).call(n,function(e){return{value:e}}),o=e.x,r=e.y,e.width,v=r+e.height/2,p=o,g.font=D,ka(n).call(n,function(e,t){var i,a,o,r=e===y,n=r?m:C,l=r?b:w,s=L<1?n*L:s,h=[],u=r?k:V,c=r?T:I,d=r?S:D;t?((h=[]).push({x:p-s,y:v-n}),h.push({x:p+l-s,y:v-n}),h.push({x:p+l,y:v}),h.push({x:p,y:v}),i=sr(h),Wo(g,h),g.fillStyle=u,Ne(g).call(g),g.fillStyle=c,g.font=d,g.fillText(e,i.x+i.width/2,i.y+i.height/2),p+=l+x,f[t].rect=i):(a=n/2,g.fillStyle=u,h.push({x:p,y:v-a}),h.push({x:p+l,y:v-a}),h.push({x:p+l+s,y:v+a}),h.push({x:p,y:v+a}),Wo(g,h),Ne(g).call(g),o=sr(h),g.fillStyle=c,g.font=d,g.textBaseline=Fa,g.textAlign=Na,g.fillText(e,o.x+o.width/2,o.y+o.height/2+2),f[t].rect=o,f[t].active=e===y,p+=l+x+s,v+=a)}),l&&(l.value=y,l.dataSource=n,l.onChange=t.getValue("onChange")))},radar:function(s,e,t,i,a){var h,o,r=this,n=t.getValue("series"),u=t.getValue("colors"),c=t.getValue("indicator")||[],d=t.getValue("min")||0,l=t.getValue("isCircle"),g=t.getValue("fillAlpha"),f=t.getValue("borderWidth"),v=t.getValue("splitLineVisible"),p=t.getValue("splitLineColor"),y=t.getValue("splitLineWidth"),x=t.getValue("splitLinePattern"),b=t.getValue("splitNumber"),m=t.getValue("splitColors"),w=t.getValue("axisLineVisible"),C=t.getValue("axisLineColor"),k=t.getValue("axisLineWidth"),V=t.getValue("axisLinePattern"),I=e.x,D=e.y,T=e.width,S=e.height,L=Math.min(T,S)/2,A=5,R=m.length,M=-1/0,P=Math.PI,B=2*P,_=P/2;if(n&&(n=_o(n),A=0,ka(n).call(n,function(e){e.data=or(e.data,i,a);var t=Math.max.apply(r,e.data);M<t&&(M=t),e.data.length>A&&(A=e.data.length)})),A){if(h=B/A,s.save(),s.translate(I+T/2,D+S/2),w){s.save(),s.beginPath();for(var O=0;O<A;O++)O&&s.rotate(h),s.moveTo(0,0),s.lineTo(0,-L);s.strokeStyle=C,s.lineWidth=k,V&&s.setLineDash(V),s.stroke(),s.restore()}if(b){var E=L/b,W=[];if(s.strokeStyle=p,s.lineWidth=y,x&&s.setLineDash(x),l){if(v)for(var H=1;H<=b;H++){var j=H*E;s.beginPath(),s.arc(0,0,j,0,B),s.stroke()}if(m&&m.length)for(var N=0;N<b;N++){var F=m[N%R],z=0<N?N*E:null,G=(N+1)*E;s.beginPath(),s.fillStyle=F,s.arc(0,0,G,0,B),rr(z)&&s.arc(0,0,z,0,B,!0),Ne(s).call(s)}}else{for(var Y=1;Y<=b;Y++){var X=Y*E,U=[];W.push(U),s.beginPath();for(var Z=0;Z<A;Z++){var K=h*Z-_,q=Math.cos(K)*X,J=Math.sin(K)*X;U.push([q,J]),Z?s.lineTo(q,J):s.moveTo(q,J)}s.closePath(),v&&s.stroke()}if(m&&m.length)for(var Q=0;Q<b;Q++){var $=m[Q%R],ee=W[Q-1],te=W[Q];if(s.beginPath(),s.fillStyle=$,ee)for(var ie=A-1;0<=ie;ie--){var ae=nt(ee[ie],2),oe=ae[0],re=ae[1];ie===A-1?s.moveTo(oe,re):s.lineTo(oe,re)}for(var ne=0;ne<A;ne++){var le=nt(te[ne],2),se=le[0],he=le[1];ne?s.lineTo(se,he):s.moveTo(se,he)}Ne(s).call(s)}}}n&&(o=u.length,ka(n).call(n,function(e,t){var i,n=e.color||u[t%o],l=[];s.beginPath(),ka(i=e.data).call(i,function(e,t){var i=h*t-_,a=e/(((c[t]||{}).max||M)-d)*L,o=Math.cos(i)*a,r=Math.sin(i)*a;l.push([o,r]),t?s.lineTo(o,r):s.moveTo(o,r)}),s.closePath(),s.globalAlpha=g,s.fillStyle=n,Ne(s).call(s),f&&(s.globalAlpha=1,s.strokeStyle=n,s.lineWidth=f,s.stroke()),ka(l).call(l,function(e,t){var i=c[t]||{},a=nt(e,2),o=a[0],r=a[1];s.beginPath(),s.fillStyle=i.color||n,s.arc(o,r,2,0,B),Ne(s).call(s)})})),s.restore()}},chartLegend:function(g,e,t,f,v){var i,a,o,r,n,p,l=t.getValue("dataSource"),y=t.getValue("colors"),x=t.getValue("orientation"),b=t.getValue("iconWidth"),m=t.getValue("iconHeight"),w=t.getValue("textGap"),s=t.getValue("hGap"),h=t.getValue("vGap"),u=t.getValue("hPadding"),c=t.getValue("vPadding"),d=t.getValue("font"),C=t.getColor("labelColor"),k=t.getColor("disabledLabelColor"),V=t.getColor("disabledIconColor"),I=t.getColor("drawIcon"),D=t.getValue("align"),T=t.getValue("vAlign"),S=t.getValue("vertical"),L=ir(v,f,t),A=e.x,R=e.y,M=e.width,P=e.height;l&&l.length&&(a=P-2*c,o=A+u,r=R+c,(i=M-2*u)<=0||a<=0||(n=[],ka(l).call(l,function(e){var t=co(d,e.name),i={};x===ja||x===Ha?(i.width=t.width+w+b,i.height=Bh(t.height,m)):(i.width=Bh(t.width,b),i.height=t.height+m+w),n.push(i)}),p=function(e,r,t){var i,a,n=t.align,l=t.vAlign,s=t.hGap,h=t.vGap,o=t.vertical,u=e.x,c=e.y,d=e.width,g=e.height,f=[],v=0,p=0,y=0,x=0;if(o){for(var b=a=i=0,m=r.length;b<m;b++){var w=r[b],C=x,x=Bh(w.width,x);y+=h+w.height,v&&g<y?(i+=C+s,a=Math.max(a,y-2*h-w.height),f.push({itemCount:v,orientationSize:a}),y=x=v=a=0,b--):v++}v&&(i+=x,f.push({itemCount:v,orientationSize:y-s}))}else{for(var k=a=i=0,V=r.length;k<V;k++){var I=r[k],D=x;x=Bh(I.height,x),p+=s+I.width,v&&d<p?(a+=D+h,i=Math.max(i,p-2*s-I.width),f.push({itemCount:v,orientationSize:i}),p=x=v=i=0,k--):v++}v&&(a+=x,f.push({itemCount:v,orientationSize:p-s}))}var T,S,L,A=1,R=1,M=r[0];return o?(p=n===Ha?(A=-1,u+d):n===ja?u:u+(d-i)/2,l===Wa&&(R=-1),T=p,S=y,x=L=0,ka(f).call(f,function(e){var t=e.itemCount,i=e.orientationSize;S=l===Fa?c+(g-i)/2:l===Wa?c+g:c;for(var a=0;a<t;a++){var o=r[L];l===Wa&&(S-=o.height),x=Bh(o.width,x),o.x=n===Ha?T-o.width:T,o.y=S,l===Wa?S-=h:S+=(h+o.height)*R,L++}T+=(s+x)*A})):(n===Ha?(A=-1,p=u+d-M.width):n===ja&&(p=u),y=l===Wa?(R=-1,c+g-M.height):l===Ea?c:c+(g-a)/2,T=p,S=y,x=L=0,ka(f).call(f,function(e){var t=e.itemCount,i=e.orientationSize;T=n===Na?u+(d-i)/2:n===Ha?u+d:p;for(var a=0;a<t;a++){var o=r[L];n===Ha&&(T-=o.width),x=Bh(o.height,x),o.x=T,o.y=S,n===Ha?T-=s:T+=(s+o.width)*A,L++}S+=(h+x)*R})),r}({x:o,y:r,width:i,height:a},n,{align:D,vAlign:T,hGap:s,vGap:h,vertical:S}),ka(l).call(l,function(e,t){var i,a,o=e.visible,r=e.name,n=p[t],l=n.x,s=n.y,h=n.width,u=n.height,c={width:b,height:m};x===Ea?(c.x=l+(h-b)/2,i=l+h/2,a=(c.y=s)+m+w,g.textAlign=Na,g.textBaseline=Ea):x===Wa?(c.x=l+(h-b)/2,c.y=s+u-m,i=l+h/2,a=c.y-w,g.textAlign=Na,g.textBaseline=Wa):(x===Ha?(c.x=l+h-b,c.y=s,i=c.x-w,a=s+u/2,g.textAlign=Ha):(c.x=l,c.y=s+(u-m)/2,i=l+b+w,a=s+u/2,g.textAlign=ja),g.textBaseline=Fa);var d=!1===o?V:y[t%y.length];I?I(g,c,e,t,d,f,v):(g.fillStyle=d,g.fillRect(c.x,c.y,c.width,c.height)),g.fillStyle=!1===o?k:C,g.fillText(r||t,i,a)}),L.rects=p,L.dataSource=l))}},gr.dragSliderInteractor=new jh,gr.pieInteractor=new qc,gr.buttonInteractor=new Xh,gr.inputInteractor=new Fh,gr.textAreaInteractor=new Nh,gr.radioInteractor=new Uh,gr.checkboxInteractor=new Kh,gr.colorPickerInteractor=new qh,gr.dateTimePickerInteractor=new Jh,gr.comboBoxInteractor=new hu,gr.tableInteractor=new uu,gr.sliderInteractor=new du,gr.rangeSliderInteractor=new gu,gr.multipleComboBoxInteractor=new fu,gr.treeInteractor=new pu,gr.treeTableInteractor=new xu,gr.chartInteractor=new Vu,gr.inputNumberInteractor=new Gh,gr.dateRangePickerInteractor=new Iu,gr.radioButtonInteractor=new Au,gr.carouselInteractor=new _u,gr.timeAxisChartInteractor=new lc,gr.carouselInteractor2=new Ou,gr.paginationInteractor=new hc,gr.textBoxInteractor=new uc,gr.radioInteractor2=new Zh,gr.valueAxisChartInteractor=new Jc,gr.checkGroupInteractor=new Qc,gr.parallelogramTabInteractor=new ed,gr.chartLegendInteractor=new Eh,gr.Color=Oa,gr.ListView=eu,gr.ListDropDown=tu,gr.getVectorInfo=ir,gr.caluMultilineSize=function(e){var t=e.a("ht.content"),i=e.a(Va.FONT),a=e.a(Va.LINE_HEIGHT),o=e.a(Va.PADDING),r=nt(Ta(o),4),n=r[0],l=r[1],s=r[2],h=r[3],u=t.split(/\n/),c=0;return ka(u).call(u,function(e){var t=co(i,e);c=Math.max(c,t.width)}),{width:c+h+l,height:u.length*a+n+s}},gr.caluRichTextPaneSize=function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),a=n.a("ht.showArrow"),o=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),s=n.a("ht.hGap"),h=n.a("ht.font"),u=nt(Ta(i),4),c=u[0],d=u[1],g=u[2],f=u[3]+d+t,v=c+g+t;a&&(o===ja||o===Ha?f+=10:v+=10);var p=0,y=0;return e&&(ka(e).call(e,function(e,t){var o=0,r=(e.length-1)*s;ka(e).call(e,function(e,t){var i=or(e.text,n,l),a=co(e.font||h,i);o=Math.max(o,a.height),r+=a.width}),p=Math.max(p,r),y+=o}),y+=(e.length-1)*r),{width:f+=p,height:v+=y}},gr.setFormData=function r(n,e,l){return(e?e.getChildren():n.dm().getDatas()).each(function(e){var t,i=e.a(Va.FORM_ITEM_NAME),a=e.a(Va.FORM_ITEM_GROUP),o=l[i];if(i)void 0!==o&&(t=o,e.a(Va.VALUE,t));else if(a){if(void 0===(o=l[a]))return;e.__inputType===Ya?e.a(Va.CHECKED,e.a(Va.VALUE)===o):e.__inputType===Xa&&e.a(Va.CHECKED,0<=jt(o).call(o,e.a(Va.VALUE)))}e.hasChildren()&&r(n,e,l)}),l},gr.openColorDropDown=yr,gr.openDateTimeDropDown=xr,gr.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t,i=e.a(Va.FORM_ITEM_NAME),a=e.a(Va.FORM_ITEM_GROUP);if(i)n[i]=mo(e);else if(a&&!n[Va.FORM_ITEM_GROUP]){if(e.__inputType===Ya)for(var o=0;o<l.length;o++){var r=l.get(o);if(a===r.a(Va.FORM_ITEM_GROUP)&&r.a(Va.CHECKED)){n[a]=mo(r);break}}else e.__inputType===Xa&&(t=[],l.each(function(e){a===e.a(Va.FORM_ITEM_GROUP)&&e.a(Va.CHECKED)&&t.push(mo(e))}),n[a]=t)}}),n},gr.selectFile=Co,gr.tooltip=Wh,gr.getVersion=function(){return Dr},gr.closeAllDropDown=function(){ka(dr).call(dr,function(e){e.close&&e.close()})},gr}();
