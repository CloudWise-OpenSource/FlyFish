(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1260:function(e,t,n){"use strict";n.r(t),function(e){var a=n(309),r=n(1302),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=Object(a.b)(function(e,t){return o({screenListReducer:e.screenListReducer},t)})(r.a);t.default=function(){return e.createElement(s,null)}}.call(this,n(0))},1275:function(e,t,n){"use strict";var a=n(7),r=n(16),o=a.a.request,s=o.postJSON,i=o.get;n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var c=function(e,t,n,a,o){return function(e,t,n,a,o){return s(r.a.registry,{user_name:e,user_email:t,user_password:n,key:a,captcha:o})}(e,t,n,a,o)},u=function(){return i(r.a.getCaptcha)}},1301:function(e,t,n){e.exports=n.p+"b052a49c2e750de1b08c1a244a161d6d.png"},1302:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});n(82);var a,r,o=n(45),s=n(1259),i=n.n(s),c=n(1),u=n.n(c),l=n(0),p=n(7),f=n(23),h=n(1275),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=n(1301),g=(r=a=function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.onEnterDown=function(t){return 13===t.keyCode?e.onSubmit():null},e.onSubmit=function(){var t=e.state,n=t.user_name,a=t.user_email,r=t.user_password,o=t.re_user_password,s=t.key,i=t.captcha;if(r.trim()!==o.trim())return p.a.prompt.error("两次密码输入不一致");e.setState({loading:!0},function(){Object(h.b)(n,a,r,s,i).then(function(t){e.setState({loading:!1},function(){p.a.auth.setLoginInfo(t.data),window.location.href=f.a.v_component_list})},function(t){e.setState({loading:!1}),p.a.prompt.error(t.msg)})})},e.getCaptcha=function(){Object(h.a)().then(function(t){e.setState({key:t.data.key,captcha_svg:t.data.captcha.replace("\\","")})},function(e){p.a.prompt.error(e.msg)})},e.state={user_name:"",user_email:"",user_password:"",re_user_password:"",key:"",captcha:"",captcha_svg:"",loading:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,l["PureComponent"]),m(n,[{key:"componentDidMount",value:function(){this.getCaptcha()}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:i.a.login},e.createElement("div",{className:i.a.login_box},e.createElement("div",{className:i.a.login_box_left},e.createElement("div",{className:i.a.login_top},"用户注册"),e.createElement("input",{type:"text",value:this.state.user_name,className:i.a.login_email,onChange:function(e){return t.setState({user_name:e.target.value.trim()})},placeholder:"用户名",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"text",value:this.state.user_email,className:i.a.login_email,onChange:function(e){return t.setState({user_email:e.target.value.trim()})},placeholder:"邮箱",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"password",value:this.state.user_password,className:i.a.login_password,onChange:function(e){return t.setState({user_password:e.target.value.trim()})},placeholder:"密码",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"password",value:this.state.re_user_password,className:i.a.login_password,onChange:function(e){return t.setState({re_user_password:e.target.value.trim()})},placeholder:"再次输入密码",onKeyDown:this.onEnterDown}),e.createElement("div",{className:i.a.captcha_box},e.createElement("input",{type:"text",value:this.state.captcha,className:i.a.captcha,onChange:function(e){return t.setState({captcha:e.target.value.trim()})},placeholder:"验证码",onKeyDown:this.onEnterDown}),e.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.captcha_svg},onClick:this.getCaptcha})),e.createElement(o.a,{className:i.a.btn_login,loading:!!this.state.loading&&{delay:300},onClick:this.onSubmit},"注  册")),e.createElement("img",{src:d,className:i.a.img_right,alt:"login-right"})))}}]),n}(),a.contextTypes={store:u.a.object.isRequired,router:u.a.object.isRequired},r)}).call(this,n(0))}}]);