!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=24)}([function(e,t){e.exports=require("path")},function(e,t,r){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";const n=r(0),s="win32"===process.platform,{REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:i,REGEX_REMOVE_BACKSLASH:a}=r(4);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>o.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(i,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.removeBackslashes=e=>e.replace(a,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".");return 3===e.length&&+e[0]>=9||8==+e[0]&&+e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===s||"\\"===n.sep,t.escapeLast=(e,r,n)=>{let s=e.lastIndexOf(r,n);return-1===s?e:"\\"===e[s-1]?t.escapeLast(e,r,s-1):e.slice(0,s)+"\\"+e.slice(s)}},function(e,t,r){"use strict";const n=r(0),s={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},o={...s,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?o:s}},function(e,t,r){"use strict";const n=r(44),s=r(6),o=r(45),{kStatusCode:i,NOOP:a}=r(1),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),f=Symbol("error");let d;function _(e){this[h].push(e),this[u]+=e.length}function g(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[h].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][i]=1009,this.removeListener("data",g),this.reset())}function m(e){this[l]._inflate=null,e[i]=1007,this[p](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!d){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;d=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r})}),e}decompress(e,t,r){d.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){d.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){const o=this._isServer?"client":"server";if(!this._inflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[h]=[],this._inflate.on("error",m),this._inflate.on("data",g)}this._inflate[p]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=s.concat(this._inflate[h],this._inflate[u]);t&&this.params[`${o}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[h]=[]),r(null,n)})}_compress(e,t,r){const o=this._isServer?"server":"client";if(!this._deflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[h]=[],this._deflate.on("error",a),this._deflate.on("data",_)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[h],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[p]=null,t&&this.params[`${o}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[u]=0,this._deflate[h]=[]),r(null,e)})}}},function(e,t,r){"use strict";const{EMPTY_BUFFER:n}=r(1);function s(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let s=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,s),s+=n.length}return s<t?r.slice(0,s):r}function o(e,t,r,n,s){for(let o=0;o<s;o++)r[n+o]=e[o]^t[3&o]}function i(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),n=t.BufferUtil||t;e.exports={concat:s,mask(e,t,r,s,i){i<48?o(e,t,r,s,i):n.mask(e,t,r,s,i)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?i(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:s,mask:o,toArrayBuffer:a,toBuffer:c,unmask:i}}},function(e,t,r){"use strict";const n=r(8);e.exports=(e,t={})=>{let r=(e,s={})=>{let o=t.escapeInvalid&&n.isInvalidBrace(s),i=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(o||i)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=r(t);return a};return r(e)}},function(e,t,r){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,n=1,s)=>!1!==s&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=s),t.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?r(s,t):void 0!==s&&t.push(s)}return t};return r(e),t}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=r(11),s=r(29),o=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),i=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},l=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},u=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},p=(e,t,r,n)=>{if(r)return s(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);return e===t?o:`[${o}-${String.fromCharCode(t)}]`},h=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return s(e,t,r)},f=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),d=(e,t,r)=>{if(!0===r.strictRanges)throw f([e,t]);return[]},_=(e,t,r=1,n={})=>{let s=Number(e),o=Number(t);if(!Number.isInteger(s)||!Number.isInteger(o)){if(!0===n.strictRanges)throw f([e,t]);return[]}0===s&&(s=0),0===o&&(o=0);let i=s>o,a=String(e),d=String(t),_=String(r);r=Math.max(Math.abs(r),1);let g=c(a)||c(d)||c(_),m=g?Math.max(a.length,d.length,_.length):0,y=!1===g&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),v=n.transform||(e=>t=>!0===e?Number(t):String(t))(y);if(n.toRegex&&1===r)return p(u(e,m),u(t,m),!0,n);let b={negatives:[],positives:[]},E=[],S=0;for(;i?s>=o:s<=o;)!0===n.toRegex&&r>1?b[(x=s)<0?"negatives":"positives"].push(Math.abs(x)):E.push(l(v(s,S),m,y)),s=i?s-r:s+r,S++;var x;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let r,n=t.capture?"":"?:",s="",o="";return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(o=`-(${n}${e.negatives.join("|")})`),r=s&&o?`${s}|${o}`:s||o,t.wrap?`(${n}${r})`:r})(b,n):h(E,null,{wrap:!1,...n}):E},g=(e,t,r,n={})=>{if(null==t&&i(e))return[e];if(!i(e)||!i(t))return d(e,t,n);if("function"==typeof r)return g(e,t,1,{transform:r});if(o(r))return g(e,t,0,r);let s={...n};return!0===s.capture&&(s.wrap=!0),r=r||s.step||1,a(r)?a(e)&&a(t)?_(e,t,r,s):((e,t,r=1,n={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return d(e,t,n);let s=n.transform||(e=>String.fromCharCode(e)),o=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),c=o>i,l=Math.min(o,i),u=Math.max(o,i);if(n.toRegex&&1===r)return p(l,u,!1,n);let f=[],_=0;for(;c?o>=i:o<=i;)f.push(s(o,_)),o=c?o-r:o+r,_++;return!0===n.toRegex?h(f,null,{wrap:!1,options:n}):f})(e,t,Math.max(Math.abs(r),1),s):null==r||o(r)?g(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,s)};e.exports=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomInRange=void 0,t.randomInRange=(e,t)=>e+Math.floor(Math.random()*(t-e))},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";const n=r(16),s=r(41),o=r(17),i=r(14),a=r(42),{randomBytes:c,createHash:l}=r(2),{URL:u}=r(43),p=r(5),h=r(18),f=r(21),{BINARY_TYPES:d,EMPTY_BUFFER:_,GUID:g,kStatusCode:m,kWebSocket:y,NOOP:v}=r(1),{addEventListener:b,removeEventListener:E}=r(46),{format:S,parse:x}=r(22),{toBuffer:C}=r(6),R=["CONNECTING","OPEN","CLOSING","CLOSED"],A=[8,13];class w extends n{constructor(e,t,r){super(),this.readyState=w.CONNECTING,this.protocol="",this._binaryType=d[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),function e(t,r,n,i){const a={protocolVersion:A[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0};if(!A.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} `+`(supported versions: ${A.join(", ")})`);let h;r instanceof u?(h=r,t.url=r.href):(h=new u(r),t.url=r);const f="ws+unix:"===h.protocol;if(!(h.host||f&&h.pathname))throw new Error(`Invalid URL: ${t.url}`);const d="wss:"===h.protocol||"https:"===h.protocol,_=d?443:80,m=c(16).toString("base64"),y=d?s.get:o.get;let v;a.createConnection=d?k:O,a.defaultPort=a.defaultPort||_,a.port=h.port||_,a.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=h.pathname+h.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(v=new p(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=S({[p.extensionName]:v.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(h.username||h.password)&&(a.auth=`${h.username}:${h.password}`);if(f){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let b=t._req=y(a);a.timeout&&b.on("timeout",()=>{T(t,b,"Opening handshake has timed out")});b.on("error",e=>{t._req.aborted||(b=t._req=null,t.readyState=w.CLOSING,t.emit("error",e),t.emitClose())}),b.on("response",s=>{const o=s.headers.location,c=s.statusCode;if(o&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void T(t,b,"Maximum redirects exceeded");b.abort();const s=new u(o,r);e(t,s,n,i)}else t.emit("unexpected-response",b,s)||T(t,b,`Unexpected server response: ${s.statusCode}`)}),b.on("upgrade",(e,r,s)=>{if(t.emit("upgrade",e),t.readyState!==w.CONNECTING)return;b=t._req=null;const o=l("sha1").update(m+g).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void T(t,r,"Invalid Sec-WebSocket-Accept header");const i=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);let u;if(!n&&i?u="Server sent a subprotocol but none was requested":n&&!i?u="Server sent no subprotocol":i&&!c.includes(i)&&(u="Server sent an invalid subprotocol"),u)T(t,r,u);else{if(i&&(t.protocol=i),v)try{const r=x(e.headers["sec-websocket-extensions"]);r[p.extensionName]&&(v.accept(r[p.extensionName]),t._extensions[p.extensionName]=v)}catch(e){return void T(t,r,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(r,s,a.maxPayload)}})}(this,e,t,r)):this._isServer=!0}get CONNECTING(){return w.CONNECTING}get CLOSING(){return w.CLOSING}get CLOSED(){return w.CLOSED}get OPEN(){return w.OPEN}get binaryType(){return this._binaryType}set binaryType(e){d.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,r){const n=new h(this._binaryType,this._extensions,this._isServer,r);this._sender=new f(e,this._extensions),this._receiver=n,this._socket=e,n[y]=this,e[y]=this,n.on("conclude",L),n.on("drain",P),n.on("error",I),n.on("message",$),n.on("ping",M),n.on("pong",B),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",D),e.on("data",j),e.on("end",U),e.on("error",F),this.readyState=w.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=w.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=w.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return T(this,this._req,e)}this.readyState!==w.CLOSING?(this.readyState=w.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===w.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===w.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||_,t,r)):N(this,e,r)}pong(e,t,r){if(this.readyState===w.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===w.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||_,t,r)):N(this,e,r)}send(e,t,r){if(this.readyState===w.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==w.OPEN)return void N(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||_,n,r)}terminate(){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return T(this,this._req,e)}this._socket&&(this.readyState=w.CLOSING,this._socket.destroy())}}}function O(e){return e.path=e.socketPath,i.connect(e)}function k(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function T(e,t,r){e.readyState=w.CLOSING;const n=new Error(r);Error.captureStackTrace(n,T),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,r){if(t){const r=C(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){r(new Error(`WebSocket is not open: readyState ${e.readyState} `+`(${R[e.readyState]})`))}}function L(e,t){const r=this[y];r._socket.removeListener("data",j),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function P(){this[y]._socket.resume()}function I(e){const t=this[y];t._socket.removeListener("data",j),t.readyState=w.CLOSING,t._closeCode=e[m],t.emit("error",e),t._socket.destroy()}function H(){this[y].emitClose()}function $(e){this[y].emit("message",e)}function M(e){const t=this[y];t.pong(e,!t._isServer,v),t.emit("ping",e)}function B(e){this[y].emit("pong",e)}function D(){const e=this[y];this.removeListener("close",D),this.removeListener("end",U),e.readyState=w.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",j),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",H),e._receiver.on("finish",H))}function j(e){this[y]._receiver.write(e)||this.pause()}function U(){const e=this[y];e.readyState=w.CLOSING,e._receiver.end(),this.end()}function F(){const e=this[y];this.removeListener("error",F),this.on("error",v),e&&(e.readyState=w.CLOSING,this.destroy())}R.forEach((e,t)=>{w[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(w.prototype,`on${e}`,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),w.prototype.addEventListener=b,w.prototype.removeEventListener=E,e.exports=w},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";const{Writable:n}=r(19),s=r(5),{BINARY_TYPES:o,EMPTY_BUFFER:i,kStatusCode:a,kWebSocket:c}=r(1),{concat:l,toArrayBuffer:u,unmask:p}=r(6),{isValidStatusCode:h,isValidUTF8:f}=r(20);function d(e,t,r,n){const s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,d),s[a]=n,s}e.exports=class extends n{constructor(e,t,r,n){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,d(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[s.extensionName])return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,d(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,d(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,d(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,d(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,d(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,d(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,d(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=i;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&p(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(d(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",r)}else{const r=l(t,e);if(!f(r))return this._loop=!1,d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return d(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return d(RangeError,`invalid status code ${t}`,!0,1002);const r=e.slice(2);if(!f(r))return d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";try{const e=r(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,r){"use strict";const{randomFillSync:n}=r(2),s=r(5),{EMPTY_BUFFER:o}=r(1),{isValidStatusCode:i}=r(20),{mask:a,toBuffer:c}=r(6),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let s=t.mask?6:2,o=e.length;e.length>=65536?(s+=8,o=127):e.length>125&&(s+=2,o=126);const i=Buffer.allocUnsafe(r?e.length+s:s);return i[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(i[0]|=64),i[1]=o,126===o?i.writeUInt16BE(e.length,2):127===o&&(i.writeUInt32BE(0,2),i.writeUInt32BE(e.length,6)),t.mask?(n(l,0,4),i[1]|=128,i[s-4]=l[0],i[s-3]=l[1],i[s-2]=l[2],i[s-1]=l[3],r?(a(e,l,i,s,e.length),[i]):(a(e,l,e,0,e.length),[i,e])):[i,e]}close(e,t,r,n){let s;if(void 0===e)s=o;else{if("number"!=typeof e||!i(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+r),s.writeUInt16BE(e,0),s.write(t,2)}}this._deflating?this.enqueue([this.doClose,s,r,n]):this.doClose(s,r,n)}doClose(e,t,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),o=this._extensions[s.extensionName];let i=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=n.length>=o._threshold),this._compress=a):(a=!1,i=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:i,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:i,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(u.frame(e,r),n);const o=this._extensions[s.extensionName];this._deflating=!0,o.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];"function"==typeof r&&r(e)}}else this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(t,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},function(e,t,r){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function s(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let r,o,i=Object.create(null),a=!1,c=!1,l=!1,u=-1,p=-1,h=0;for(;h<e.length;h++){const f=e.charCodeAt(h);if(void 0===r)if(-1===p&&1===n[f])-1===u&&(u=h);else if(32===f||9===f)-1===p&&-1!==u&&(p=h);else{if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);const n=e.slice(u,p);44===f?(s(t,n,i),i=Object.create(null)):r=n,u=p=-1}}else if(void 0===o)if(-1===p&&1===n[f])-1===u&&(u=h);else if(32===f||9===f)-1===p&&-1!==u&&(p=h);else if(59===f||44===f){if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),s(i,e.slice(u,p),!0),44===f&&(s(t,r,i),i=Object.create(null),r=void 0),u=p=-1}else{if(61!==f||-1===u||-1!==p)throw new SyntaxError(`Unexpected character at index ${h}`);o=e.slice(u,h),u=p=-1}else if(c){if(1!==n[f])throw new SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===n[f])-1===u&&(u=h);else if(34===f&&-1!==u)l=!1,p=h;else{if(92!==f)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===f&&61===e.charCodeAt(h-1))l=!0;else if(-1===p&&1===n[f])-1===u&&(u=h);else if(-1===u||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let n=e.slice(u,p);a&&(n=n.replace(/\\/g,""),a=!1),s(i,o,n),44===f&&(s(t,r,i),i=Object.create(null),r=void 0),o=void 0,u=p=-1}}else-1===p&&(p=h)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const f=e.slice(u,p);return void 0===r?s(t,f,i):(void 0===o?s(i,f,!0):s(i,o,a?f.replace(/\\/g,""):f),s(t,r,i)),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderLogger=void 0,t.bootloaderLogger={info:(...e)=>{}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(9),c=o(r(10)),l=o(r(25)),u=i(r(26)),p=o(r(0)),h=r(38),f=r(54),d=r(55),_=r(56),g=r(23),m=r(60),y=r(61),v={cwd:process.cwd(),processId:process.pid,nodeVersion:process.version,architecture:process.arch};(()=>{try{if("$jsDebugIsRegistered"in global)return;const e=new d.BootloaderEnvironment(process.env),t=e.inspectorOptions;if(g.bootloaderLogger.info("runtime.launch","Bootloader imported",{env:t,args:process.argv}),Object.assign(global,{$jsDebugIsRegistered:!0}),!_.checkAll(t))return void e.unsetForTree();try{if(!r(62).isMainThread)return}catch(e){}!function(e){var t;const r=null===(t=e.inspectorOptions)||void 0===t?void 0:t.fileCallback;if(!r)return;c.writeFileSync(r,JSON.stringify(v)),e.updateInspectorOption("fileCallback",void 0)}(e),/(\\|\/|^)node(64)?(.exe)?$/.test(process.execPath)&&(t.execPath=process.execPath);const n=y.createTargetId(),s=function(e,t){const r=function(e){if(!e)return!1;try{return c.readdirSync(p.dirname(e)).includes(p.basename(e))}catch(e){return!1}}(e.inspectorIpc)?e.deferredMode?1:0:2;if(g.bootloaderLogger.info("runtime","Set debug mode",{mode:r}),2===r)return!1;const n=void 0!==l.url();if(!n){if(!function(e){switch(e.autoAttachMode){case"always":return!0;case"smart":return function(e){const t=process.argv[1];if(!t)return!0;return function(e,t){if(!t.aaPatterns)return!1;return u.default([e.replace(/\\/g,"/")],[...t.aaPatterns.map(e=>e.replace(f.knownToolToken,f.knownToolGlob))],{dot:!0,nocase:!0}).length>0}(t,e)}(e);case"onlyWithFlag":default:return!1}}(e))return!1;l.open(function(e){if(!e.mandatePortTracking)return 0;try{return h.findOpenPortSync({attempts:20})}catch(e){return 0}}(e),void 0,!1)}const s={ipcAddress:e.inspectorIpc||"",pid:String(process.pid),telemetry:v,scriptName:process.argv[1],inspectorURL:l.url(),waitForDebugger:!0,ownId:t,openerId:e.openerId};if(0===r)!function(e,t){const r=a.spawn(e,[m.watchdogPath],{env:{NODE_INSPECTOR_INFO:JSON.stringify(t),NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK},stdio:"ignore",detached:!0});r.unref()}(e.execPath||process.execPath,s);else{const{status:t,stderr:r}=a.spawnSync(e.execPath||process.execPath,["-e",'const c=require("net").createConnection(process.env.NODE_INSPECTOR_IPC);setTimeout(()=>{console.error("timeout"),process.exit(1)},10000),c.on("error",e=>{console.error(e),process.exit(1)}),c.on("connect",()=>{c.write(process.env.NODE_INSPECTOR_INFO,"utf-8"),c.write(Buffer.from([0])),c.on("data",e=>{console.error("read byte",e[0]),process.exit(e[0])})});'],{env:{NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK,NODE_INSPECTOR_INFO:JSON.stringify(s),NODE_INSPECTOR_IPC:e.inspectorIpc}});if(t)return console.error(r.toString()),console.error("Error activating auto attach, please report to https://aka.ms/js-dbg-issue"),!1}const o=l;o.waitForDebugger?o.waitForDebugger():l.open(n?void 0:0,void 0,!0);return!0}(t,n);t.onlyEntrypoint?e.unsetForTree():s&&e.updateInspectorOption("openerId",n)}catch(e){console.error(`Error in the js-debug bootloader, please report to https://aka.ms/js-dbg-issue: ${e.stack}`)}})()},function(e,t){e.exports=require("inspector")},function(e,t,r){"use strict";const n=r(11),s=r(27),o=r(34),i=r(3),a=e=>"string"==typeof e&&(""===e||"./"===e),c=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,i=new Set,a=0,c=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let l=o(String(t[i]),{...r,onResult:c},!0),u=l.state.negated||l.state.negatedExtglob;u&&a++;for(let t of e){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),s.add(e.output)))}}let l=(a===t.length?[...i]:[...s]).filter(e=>!n.has(e));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map(e=>e.replace(/\\/g,"")):t}return l};c.match=c,c.matcher=(e,t)=>o(e,t),c.any=c.isMatch=(e,t,r)=>o(t,r)(e),c.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],o=c(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),s.push(e.output)}});for(let e of s)o.includes(e)||n.add(e);return[...n]},c.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>c.contains(e,t,r));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return c.isMatch(e,t,{...r,contains:!0})},c.matchKeys=(e,t,r)=>{if(!i.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=c(Object.keys(e),t,r),s={};for(let t of n)s[t]=e[t];return s},c.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=o(String(e),r);if(n.some(e=>t(e)))return!0}return!1},c.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=o(String(e),r);if(!n.every(e=>t(e)))return!1}return!0},c.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every(t=>o(t,r)(e))},c.capture=(e,t,r)=>{let n=i.isWindows(r),s=o.makeRe(String(e),{...r,capture:!0}).exec(n?i.toPosixSlashes(t):t);if(s)return s.slice(1).map(e=>void 0===e?"":e)},c.makeRe=(...e)=>o.makeRe(...e),c.scan=(...e)=>o.scan(...e),c.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of s(String(n),t))r.push(o.parse(e,t));return r},c.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:s(e,t)},c.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return c.braces(e,{...t,expand:!0})},e.exports=c},function(e,t,r){"use strict";const n=r(7),s=r(28),o=r(31),i=r(32),a=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=a.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};a.parse=(e,t={})=>i(e,t),a.stringify=(e,t={})=>n("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),s(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let r=o(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,r){"use strict";const n=r(12),s=r(8);e.exports=(e,t={})=>{let r=(e,o={})=>{let i=s.isInvalidBrace(o),a=!0===e.invalid&&!0===t.escapeInvalid,c=!0===i||!0===a,l=!0===t.escapeInvalid?"\\":"",u="";if(!0===e.isOpen)return l+e.value;if(!0===e.isClose)return l+e.value;if("open"===e.type)return c?l+e.value:"(";if("close"===e.type)return c?l+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=s.reduce(e.nodes),o=n(...r,{...t,wrap:!1,toRegex:!0});if(0!==o.length)return r.length>1&&o.length>1?`(${o})`:o}if(e.nodes)for(let t of e.nodes)u+=r(t,e);return u};return r(e)}},function(e,t,r){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=r(30),s=(e,t,r)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let o={relaxZeros:!0,...r};"boolean"==typeof o.strictZeros&&(o.relaxZeros=!1===o.strictZeros);let c=e+":"+t+"="+String(o.relaxZeros)+String(o.shorthand)+String(o.capture)+String(o.wrap);if(s.cache.hasOwnProperty(c))return s.cache[c].result;let l=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(l-u)){let r=e+"|"+t;return o.capture?`(${r})`:!1===o.wrap?r:`(?:${r})`}let p=d(e)||d(t),h={min:e,max:t,a:l,b:u},f=[],_=[];if(p&&(h.isPadded=p,h.maxLen=String(h.max).length),l<0){_=i(u<0?Math.abs(u):1,Math.abs(l),h,o),l=h.a=0}return u>=0&&(f=i(l,u,h,o)),h.negatives=_,h.positives=f,h.result=function(e,t,r){let n=a(e,t,"-",!1,r)||[],s=a(t,e,"",!1,r)||[],o=a(e,t,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}(_,f,o),!0===o.capture?h.result=`(${h.result})`:!1!==o.wrap&&f.length+_.length>1&&(h.result=`(?:${h.result})`),s.cache[c]=h,h.result};function o(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),s=n.length,o="",i=0;for(let e=0;e<s;e++){let[t,s]=n[e];t===s?o+=t:"0"!==t||"9"!==s?o+=f(t,s,r):i++}return i&&(o+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function i(e,t,r,n){let s,i=function(e,t){let r=1,n=1,s=u(e,r),o=new Set([t]);for(;e<=s&&s<=t;)o.add(s),r+=1,s=u(e,r);for(s=p(t+1,n)-1;e<s&&s<=t;)o.add(s),n+=1,s=p(t+1,n)-1;return o=[...o],o.sort(c),o}(e,t),a=[],l=e;for(let e=0;e<i.length;e++){let t=i[e],c=o(String(l),String(t),n),u="";r.isPadded||!s||s.pattern!==c.pattern?(r.isPadded&&(u=_(t,r,n)),c.string=u+c.pattern+h(c.count),a.push(c),l=t+1,s=c):(s.count.length>1&&s.count.pop(),s.count.push(c.count[0]),s.string=s.pattern+h(s.count),l=t+1)}return a}function a(e,t,r,n,s){let o=[];for(let s of e){let{string:e}=s;n||l(t,"string",e)||o.push(r+e),n&&l(t,"string",e)&&o.push(r+e)}return o}function c(e,t){return e>t?1:t>e?-1:0}function l(e,t,r){return e.some(e=>e[t]===r)}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function p(e,t){return e-e%Math.pow(10,t)}function h(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function f(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function d(e){return/^-?(0+)\d/.test(e)}function _(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}s.cache={},s.clearCache=()=>s.cache={},e.exports=s},function(e,t,r){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,r){"use strict";const n=r(12),s=r(7),o=r(8),i=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?o.flatten(t).map(e=>`{${e}}`):t;for(let s of e)if(Array.isArray(s))for(let e of s)n.push(i(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?i(s,e,r):s+e);return o.flatten(n)};e.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,c={})=>{e.queue=[];let l=c,u=c.queue;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,u=l.queue;if(e.invalid||e.dollar)return void u.push(i(u.pop(),s(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(i(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=o.reduce(e.nodes);if(o.exceedsLimit(...a,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=n(...a,t);return 0===c.length&&(c=s(e,t)),u.push(i(u.pop(),c)),void(e.nodes=[])}let p=o.encloseBrace(e),h=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,h=f.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?h.push(i(h.pop(),r.value)):r.nodes&&a(r,e):u.push(i(u.pop(),h,p)):(1===t&&h.push(""),h.push(""))}return h};return o.flatten(a(e))}},function(e,t,r){"use strict";const n=r(7),{MAX_LENGTH:s,CHAR_BACKSLASH:o,CHAR_BACKTICK:i,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_RIGHT_CURLY_BRACE:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:_,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:m,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=r(33);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},v="number"==typeof r.maxLength?Math.min(s,r.maxLength):s;if(e.length>v)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${v})`);let b,E={type:"root",input:e,nodes:[]},S=[E],x=E,C=E,R=0,A=e.length,w=0,O=0;const k=()=>e[w++],T=e=>{if("text"===e.type&&"dot"===C.type&&(C.type="text"),!C||"text"!==C.type||"text"!==e.type)return x.nodes.push(e),e.parent=x,e.prev=C,C=e,e;C.value+=e.value};for(T({type:"bos"});w<A;)if(x=S[S.length-1],b=k(),b!==y&&b!==m)if(b!==o)if(b!==d)if(b!==f)if(b!==l)if(b!==u)if(b!==_&&b!==g&&b!==i)if(b!==p)if(b!==h)if(b===a&&O>0){if(x.ranges>0){x.ranges=0;let e=x.nodes.shift();x.nodes=[e,{type:"text",value:n(x)}]}T({type:"comma",value:b}),x.commas++}else if(b===c&&O>0&&0===x.commas){let e=x.nodes;if(0===O||0===e.length){T({type:"text",value:b});continue}if("dot"===C.type){if(x.range=[],C.value+=b,C.type="range",3!==x.nodes.length&&5!==x.nodes.length){x.invalid=!0,x.ranges=0,C.type="text";continue}x.ranges++,x.args=[];continue}if("range"===C.type){e.pop();let t=e[e.length-1];t.value+=C.value+b,C=t,x.ranges--;continue}T({type:"dot",value:b})}else T({type:"text",value:b});else{if("brace"!==x.type){T({type:"text",value:b});continue}let e="close";x=S.pop(),x.close=!0,T({type:e,value:b}),O--,x=S[S.length-1]}else{O++;let e=C.value&&"$"===C.value.slice(-1)||!0===x.dollar;x=T({type:"brace",open:!0,close:!1,dollar:e,depth:O,commas:0,ranges:0,nodes:[]}),S.push(x),T({type:"open",value:b})}else{let e,r=b;for(!0!==t.keepQuotes&&(b="");w<A&&(e=k());)if(e!==o){if(e===r){!0===t.keepQuotes&&(b+=e);break}b+=e}else b+=e+k();T({type:"text",value:b})}else{if("paren"!==x.type){T({type:"text",value:b});continue}x=S.pop(),T({type:"text",value:b}),x=S[S.length-1]}else x=T({type:"paren",nodes:[]}),S.push(x),T({type:"text",value:b});else{R++;let e;for(;w<A&&(e=k());)if(b+=e,e!==f)if(e!==o){if(e===d&&(R--,0===R))break}else b+=k();else R++;T({type:"text",value:b})}else T({type:"text",value:"\\"+b});else T({type:"text",value:(t.keepEscaping?b:"")+k()});do{if(x=S.pop(),"root"!==x.type){x.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=S[S.length-1],t=e.nodes.indexOf(x);e.nodes.splice(t,1,...x.nodes)}}while(S.length>0);return T({type:"eos"}),E}},function(e,t,r){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(35)},function(e,t,r){"use strict";const n=r(0),s=r(36),o=r(37),i=r(3),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},s=i.isWindows(t),o=a.makeRe(e,t,!1,!0),c=o.state;delete o.state;let l=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};l=a(n.ignore,e,r)}const u=(r,i=!1)=>{let{isMatch:u,match:p,output:h}=a.test(r,o,t,{glob:e,posix:s}),f={glob:e,state:c,regex:o,posix:s,input:r,output:h,match:p,isMatch:u};return"function"==typeof n.onResult&&n.onResult(f),!1===u?(f.isMatch=!1,!!i&&f):l(r)?("function"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!i&&f):("function"==typeof n.onMatch&&n.onMatch(f),!i||f)};return r&&(u.state=c),u};a.test=(e,t,r,{glob:n,posix:s}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let o=r||{},c=o.format||(s?i.toPosixSlashes:null),l=e===n,u=l&&c?c(e):e;return!1===l&&(u=c?c(e):e,l=u===n),!1!==l&&!0!==o.capture||(l=!0===o.matchBase||!0===o.basename?a.matchBase(e,t,r,s):t.exec(u)),{isMatch:!!l,match:l,output:u}},a.matchBase=(e,t,r,s=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>o(e,t),a.scan=(e,t)=>s(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let s,i=t||{},c=i.contains?"":"^",l=i.contains?"":"$",u={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=u.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(s=o.fastpaths(e,t)),void 0===s&&(u=a.parse(e,t),u.prefix=p+(u.prefix||""),s=u.output),!0===r)return s;let h=`${c}(?:${s})${l}`;u&&!0===u.negated&&(h=`^(?!${h}).*$`);let f=a.toRegex(h,t);return!0===n&&(f.state=u),f},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(4),e.exports=a},function(e,t,r){"use strict";const n=r(3),{CHAR_ASTERISK:s,CHAR_AT:o,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:y}=r(4);e.exports=(e,t)=>{let r,v,b=t||{},E=e.length-1,S=-1,x=0,C=0,R=!1,A=!1,w=!1,O=0,k=!1,T=()=>S>=E,N=()=>(r=v,e.charCodeAt(++S));for(;S<E;){let t;if(v=N(),v!==i){if(!0===k||v===p)for(O++;!T()&&(t=N());)if(t!==i)if(t!==p){if(!k&&t===c&&(t=N())===c){R=!0;break}if(!k&&t===a){R=!0;break}if(t===g&&(O--,0===O)){k=!1;break}}else O++;else A=!0,t=N();if(v!==u){if(v===s){R=!0;break}if(v===s||v===_){R=!0;break}if(v===f)for(;!T()&&(t=N());)if(t!==i){if(t===y){R=!0;break}}else A=!0,t=N();if((v===d||v===o||v===l)&&e.charCodeAt(S+1)===h){R=!0;break}if(v!==l||S!==x){if(v===h)for(;!T()&&(t=N());)if(t!==i){if(t===m){R=!0;break}}else A=!0,t=N();if(R)break}else w=!0,x++}else{if(r===c&&S===x+1){x+=2;continue}C=S+1}}else A=!0,t=N(),t===p&&(k=!0)}let L="",P=e,I=e,H="";return x>0&&(L=e.slice(0,x),e=e.slice(x),C-=x),I&&!0===R&&C>0?(I=e.slice(0,C),H=e.slice(C)):!0===R?(I="",H=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===u||e===i)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===b.unescape&&(H&&(H=n.removeBackslashes(H)),I&&!0===A&&(I=n.removeBackslashes(I))),{prefix:L,input:P,base:I,glob:H,negated:w,isGlob:R}}},function(e,t,r){"use strict";const n=r(3),s=r(4),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=s,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,f=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;let r={...t},f="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,d=e.length;if(d>f)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${f}`);let _={type:"bos",value:"",output:r.prepend||""},g=[_],m=r.capture?"":"?:",y=n.isWindows(t);const v=s.globChars(y),b=s.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:S,SLASH_LITERAL:x,ONE_CHAR:C,DOTS_SLASH:R,NO_DOT:A,NO_DOT_SLASH:w,NO_DOTS_SLASH:O,QMARK:k,QMARK_NO_DOT:T,STAR:N,START_ANCHOR:L}=v,P=e=>`(${m}(?:(?!${L}${e.dot?R:E}).)*?)`;let I=r.dot?"":A,H=!0===r.bash?P(r):N,$=r.dot?k:T;r.capture&&(H=`(${H})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,B={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},D=[],j=[],U=_;const F=()=>B.index===d-1,q=B.peek=(t=1)=>e[B.index+t],G=B.advance=()=>e[++B.index],W=e=>{B.output+=null!=e.output?e.output:e.value,B.consumed+=e.value||""},K=e=>{B[e]++,j.push(e)},Q=e=>{B[e]--,j.pop()},V=e=>{if("globstar"===U.type){let t=B.braces>0&&("comma"===e.type||"brace"===e.type),r=D.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(B.output=B.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=H,B.output+=U.output)}D.length&&"paren"!==e.type&&!b[e.value]&&(D[D.length-1].inner+=e.value),(e.value||e.output)&&W(e),U&&"text"===U.type&&"text"===e.type?U.value+=e.value:(e.prev=U,g.push(e),U=e)},z=(e,t)=>{let n={...b[t],conditions:1,inner:""};n.prev=U,n.parens=B.parens,n.output=B.output;let s=(r.capture?"(":"")+n.open;V({type:e,value:t,output:B.output?"":C}),V({type:"paren",extglob:!0,value:G(),output:s}),K("parens"),D.push(n)},X=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let s=H;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(s=P(r)),(s!==H||F()||/^\)+$/.test(e.slice(B.index+1)))&&(n=t.close=")$))"+s),"bos"===t.prev.type&&F()&&(B.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:M,output:n}),Q("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,s,o,i)=>"\\"===s?(t=!0,e):"?"===s?r?r+s+(o?k.repeat(o.length):""):0===i?$+(o?k.repeat(o.length):""):k.repeat(n.length):"."===s?E.repeat(n.length):"*"===s?r?r+s+(o?H:""):H:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),B.output=n,B}for(;!F();){if(M=G(),"\0"===M)continue;if("\\"===M){let t=q();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",V({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(B.index+1)),s=0;if(n&&n[0].length>2&&(s=n[0].length,B.index+=s,s%2!=0&&(M+="\\")),!0===r.unescape?M=G()||"":M+=G()||"",0===B.brackets){V({type:"text",value:M});continue}}if(B.brackets>0&&("]"!==M||"["===U.value||"[^"===U.value)){if(!1!==r.posix&&":"===M){let e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){let e=U.value.lastIndexOf("["),t=U.value.slice(0,e),r=U.value.slice(e+2),n=i[r];if(n){U.value=t+n,B.backtrack=!0,G(),_.output||1!==g.indexOf(U)||(_.output=C);continue}}}("["===M&&":"!==q()||"-"===M&&"]"===q())&&(M="\\"+M),"]"!==M||"["!==U.value&&"[^"!==U.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===U.value&&(M="^"),U.value+=M,W({value:M});continue}if(1===B.quotes&&'"'!==M){M=n.escapeRegex(M),U.value+=M,W({value:M});continue}if('"'===M){B.quotes=1===B.quotes?0:1,!0===r.keepQuotes&&V({type:"text",value:M});continue}if("("===M){V({type:"paren",value:M}),K("parens");continue}if(")"===M){if(0===B.parens&&!0===r.strictBrackets)throw new SyntaxError(h("opening","("));let e=D[D.length-1];if(e&&B.parens===e.parens+1){X(D.pop());continue}V({type:"paren",value:M,output:B.parens?")":"\\)"}),Q("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(B.index+1).includes("]"))K("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));M="\\"+M}V({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||U&&"bracket"===U.type&&1===U.value.length){V({type:"text",value:M,output:"\\"+M});continue}if(0===B.brackets){if(!0===r.strictBrackets)throw new SyntaxError(h("opening","["));V({type:"text",value:M,output:"\\"+M});continue}Q("brackets");let e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),U.value+=M,W({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(U.value);if(B.output=B.output.slice(0,-U.value.length),!0===r.literalBrackets){B.output+=t,U.value=t;continue}U.value=`(${m}${t}|${U.value})`,B.output+=U.value;continue}if("{"===M&&!0!==r.nobrace){V({type:"brace",value:M,output:"("}),K("braces");continue}if("}"===M){if(!0===r.nobrace||0===B.braces){V({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===B.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=u(n,r),B.backtrack=!0}V({type:"brace",value:M,output:e}),Q("braces");continue}if("|"===M){D.length>0&&D[D.length-1].conditions++,V({type:"text",value:M});continue}if(","===M){let e=M;B.braces>0&&"braces"===j[j.length-1]&&(e="|"),V({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===U.type&&1===B.index){B.start=B.index+1,B.consumed="",B.output="",g.pop(),U=_;continue}V({type:"slash",value:M,output:x});continue}if("."===M){if(B.braces>0&&"dot"===U.type){"."===U.value&&(U.output=E),U.type="dots",U.output+=M,U.value+=M,B.dots=!0;continue}V({type:"dot",value:M,output:E});continue}if("?"===M){if(U&&"paren"===U.type){let e=q(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(q(2)))&&(t="\\"+M),V({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("qmark",M);continue}if(!0!==r.dot&&("slash"===U.type||"bos"===U.type)){V({type:"qmark",value:M,output:T});continue}V({type:"qmark",value:M,output:k});continue}if("!"===M){if(!0!==r.noextglob&&"("===q()&&("?"!==q(2)||!/[!=<:]/.test(q(3)))){z("negate",M);continue}if(!0!==r.nonegate&&0===B.index){p(B);continue}}if("+"===M){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("plus",M);continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)){let e=!0===U.extglob?"\\"+M:M;V({type:"plus",value:M,output:e});continue}if(B.parens>0&&!1!==r.regex){V({type:"plus",value:M});continue}V({type:"plus",value:S});continue}if("@"===M){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){V({type:"at",value:M,output:""});continue}V({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(B.index+1));t&&(M+=t[0],B.index+=t[0].length),V({type:"text",value:M});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=M,U.output=H,B.backtrack=!0,B.consumed+=M;continue}if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("star",M);continue}if("star"===U.type){if(!0===r.noglobstar){B.consumed+=M;continue}let t=U.prev,n=t.prev,s="slash"===t.type||"bos"===t.type,o=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!s||!F()&&"/"!==q())){V({type:"star",value:M,output:""});continue}let i=B.braces>0&&("comma"===t.type||"brace"===t.type),a=D.length&&("pipe"===t.type||"paren"===t.type);if(!s&&"paren"!==t.type&&!i&&!a){V({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(B.index+1,B.index+4);){let t=e[B.index+4];if(t&&"/"!==t)break;B.consumed+="/**",B.index+=3}if("bos"===t.type&&F()){U.type="globstar",U.value+=M,U.output=P(r),B.output=U.output,B.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!o&&F()){B.output=B.output.slice(0,-(t.output+U.output).length),t.output="(?:"+t.output,U.type="globstar",U.output=P(r)+"|$)",U.value+=M,B.output+=t.output+U.output,B.consumed+=M;continue}let c=q();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==q(2)?"|$":"";B.output=B.output.slice(0,-(t.output+U.output).length),t.output="(?:"+t.output,U.type="globstar",U.output=`${P(r)}${x}|${x}${e})`,U.value+=M,B.output+=t.output+U.output,B.consumed+=M+G(),V({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===c){U.type="globstar",U.value+=M,U.output=`(?:^|${x}|${P(r)}${x})`,B.output=U.output,B.consumed+=M+G(),V({type:"slash",value:M,output:""});continue}B.output=B.output.slice(0,-U.output.length),U.type="globstar",U.output=P(r),U.value+=M,B.output+=U.output,B.consumed+=M;continue}let t={type:"star",value:M,output:H};!0!==r.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==r.regex?(B.index!==B.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(B.output+=w,U.output+=w):!0===r.dot?(B.output+=O,U.output+=O):(B.output+=I,U.output+=I),"*"!==q()&&(B.output+=C,U.output+=C)),V(t)):(t.output=M,V(t)):(t.output=".*?","bos"!==U.type&&"slash"!==U.type||(t.output=I+t.output),V(t))}for(;B.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));B.output=n.escapeLast(B.output,"["),Q("brackets")}for(;B.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing",")"));B.output=n.escapeLast(B.output,"("),Q("parens")}for(;B.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","}"));B.output=n.escapeLast(B.output,"{"),Q("braces")}if(!0===r.strictSlashes||"star"!==U.type&&"bracket"!==U.type||V({type:"maybe_slash",value:"",output:`${x}?`}),!0===B.backtrack){B.output="";for(let e of B.tokens)B.output+=null!=e.output?e.output:e.value,e.suffix&&(B.output+=e.suffix)}return B};f.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=l[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:u,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:m,START_ANCHOR:y}=s.globChars(c);let v=r.capture?"":"?:",b=!0===r.bash?".*?":m,E=r.dot?_:d,S=r.dot?g:d;r.capture&&(b=`(${b})`);const x=e=>`(${v}(?:(?!${y}${e.dot?f:u}).)*?)`,C=e=>{switch(e){case"*":return`${E}${h}${b}`;case".*":return`${u}${h}${b}`;case"*.*":return`${E}${b}${u}${h}${b}`;case"*/*":return`${E}${b}${p}${h}${S}${b}`;case"**":return E+x(r);case"**/*":return`(?:${E}${x(r)}${p})?${S}${h}${b}`;case"**/*.*":return`(?:${E}${x(r)}${p})?${S}${b}${u}${h}${b}`;case"**/.*":return`(?:${E}${x(r)}${p})?${u}${h}${b}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=C(r[1],t);if(!n)return;return n+u+r[2]}}};let R=C(e);return R&&!0!==r.strictSlashes&&(R+=`${p}?`),R},e.exports=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOpenPortSync=void 0;const n=r(9),s=r(13);var o=r(39);Object.defineProperty(t,"acquirePortNumber",{enumerable:!0,get:function(){return o.acquirePortNumber}}),t.findOpenPortSync=function({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){const n=i();let o=s.randomInRange(e,t);for(let s=Math.min(r,t-e);s>=0;s--){if(n(o))return o;o=o===t-1?e:o+1}throw new Error("No open port found")};const i=()=>{const e=e=>0===n.spawnSync(process.execPath,["-e",'require("net").createServer().on("listening",()=>process.exit(0)).on("error",()=>process.exit(1)).listen(+process.env.PORT)'],{env:Object.assign(Object.assign({},process.env),{PORT:String(e),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:"1"})}).status;let t="win32"===process.platform?e:r=>{var s;const o=n.spawnSync("nc",["-z","127.0.0.1",String(r)]);return"ENOENT"===(null===(s=o.error)||void 0===s?void 0:s.code)&&(t=e),1===o.status};return e=>t(e)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.serverResolutionPromise=t.makeAcquireWebSocketServer=t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const i=o(r(14)),a=o(r(40)),c=r(49),l=r(13);function u(e,t=c.NeverCancelled){let r;return new Promise((n,s)=>{const o=i.createServer();o.listen(e,"127.0.0.1",()=>{const e=o.address();o.close(()=>n(e.port))}),o.on("error",s),r=t.onCancellationRequested(()=>{o.close(),s(new c.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==r?void 0:r.dispose())}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=u}={},s=c.NeverCancelled){let o=l.randomInRange(e,t);for(let i=Math.min(r,t-e);;i--)try{return await n(o,s)}catch(r){if(0===i||r instanceof c.TaskCancelledError)throw r;o=o===t-1?e:o+1}},t.isPortOpen=async function(e,t){try{return await u(e,t),!0}catch(e){return!1}},t.acquirePortNumber=u,t.makeAcquireTcpServer=e=>(r,n)=>{const s=i.createServer(e);return s.listen(r,"127.0.0.1"),t.serverResolutionPromise(s,n)},t.makeAcquireWebSocketServer=e=>(r,n)=>t.serverResolutionPromise(new a.Server(Object.assign(Object.assign({host:"127.0.0.1"},e),{port:r})),n),t.serverResolutionPromise=(e,t)=>{let r;return new Promise((n,s)=>{e.on("error",s),e.on("listening",()=>n(e)),r=t.onCancellationRequested(()=>{e.close(),s(new c.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==r?void 0:r.dispose())}},function(e,t,r){"use strict";const n=r(15);n.createWebSocketStream=r(47),n.Server=r(48),n.Receiver=r(18),n.Sender=r(21),e.exports=n},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";const n=Symbol("kDone"),s=Symbol("kRun");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[s]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[s]()}[s](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class s extends n{constructor(e,t){super("message",t),this.data=e}}class o extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new s(e,this))}function n(e,r){t.call(this,new o(e,r,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new i(this))}"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const{Duplex:n}=r(19);function s(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(s,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(s,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",o),c.on("error",i),c}},function(e,t,r){"use strict";const n=r(16),{createHash:s}=r(2),{createServer:o,STATUS_CODES:i}=r(17),a=r(5),c=r(15),{format:l,parse:u}=r(22),{GUID:p}=r(1),h=/^[+/0-9A-Za-z]{22}==$/,f=Symbol("kUsedByWebSocketServer");function d(e){e.emit("close")}function _(){this.destroy()}function g(e,t,r,n){e.writable&&(r=r||i[t],n={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",_),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port)this._server=o((e,t)=>{const r=i[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[f])throw new Error("The HTTP/S server is already being used by another WebSocket server");e.server[f]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit("close"));delete t[f]}process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",_);const s=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],i={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!s||!h.test(s)||8!==o&&13!==o||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),i[a.extensionName]=r)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,c,l)=>{if(!o)return g(t,a||401,c,l);this.completeUpgrade(s,i,e,t,r,n)});if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(s,i,e,t,r,n)}completeUpgrade(e,t,r,n,o,i){if(!n.readable||!n.writable)return n.destroy();const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${s("sha1").update(e+p).digest("base64")}`],h=new c(null);let f=r.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,r):f[0],f&&(u.push(`Sec-WebSocket-Protocol: ${f}`),h.protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push(`Sec-WebSocket-Extensions: ${r}`),h._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",_),h.setSocket(n,o,this.options.maxPayload),this.clients&&(this.clients.add(h),h.on("close",()=>this.clients.delete(h))),i(h)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(50),s=r(51),o=r(53);class i extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=i,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new i(r||"Task cancelled"));const n=o.getDeferred(),s=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new i(r||"Task cancelled")}),e.then(e=>(s.dispose(),e)).catch(e=>{throw s.dispose(),e})])},t.cancellableRace=function(e,t){const r=new c(t),n=e.map(async e=>{try{return await e(r.token)}finally{r.cancel()}});return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class c{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new c(t),n=r._token=new l,s=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(s)),r}get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token instanceof l&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof l&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=c;class l{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new s.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolError=void 0;class n extends Error{constructor(e){super("__errorMarker"in e?e.error.format:e.format),this._cause="__errorMarker"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListenerMap=t.EventEmitter=void 0;const n=r(52);class s{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(s),s}}get size(){return this._listeners.size}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}t.EventEmitter=s;t.ListenerMap=class{constructor(){this.map=new Map,this.listeners=this.map}listen(e,t){let r=this.map.get(e);r||(r=new s,this.map.set(e,r));const o=r.event(t);return{dispose:n.once(()=>{o.dispose(),0===(null==r?void 0:r.size)&&this.map.delete(e)})}}emit(e,t){var r;null===(r=this.listeners.get(e))||void 0===r||r.fire(t)}}},function(e,t,r){"use strict";function n(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];t(s,n)&&(r[n]=s)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.upcastPartial=t.pick=t.flatten=t.bisectArray=t.trailingEdgeThrottle=t.debounce=t.memoizeWeak=t.memoize=t.once=t.getCaseInsensitiveProperty=t.caseInsensitiveMerge=t.walkObject=t.sortKeys=t.filterObject=t.mapKeys=t.mapValues=t.filterValues=t.assertNever=t.removeUndefined=t.removeNulls=t.truthy=void 0,t.truthy=e=>!!e,t.removeNulls=e=>n(e,e=>null!==e),t.removeUndefined=e=>n(e,e=>void 0!==e),t.assertNever=(e,t)=>{throw new Error(t.replace("{value}",JSON.stringify(e)))},t.filterValues=n,t.mapValues=function(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];r[n]=t(s,n)}return r},t.mapKeys=function(e,t){const r={};for(const n of Object.keys(e)){const s=t(n,e[n]);void 0!==s&&(r[s]=e[n])}return r},t.filterObject=function(e,t){const r={};for(const n of Object.keys(e))t(n,e[n])&&(r[n]=e[n]);return r},t.sortKeys=function(e,t){if(!e||"object"!=typeof e||e instanceof Array)return e;const r={};for(const n of Object.keys(e).sort(t))r[n]=e[n];return r},t.walkObject=function e(t,r){if(t=r(t))if(t instanceof Array)t=t.map(t=>e(t,r));else if("object"==typeof t&&t)for(const n of Object.keys(t))t[n]=e(t[n],r);return t},t.caseInsensitiveMerge=function(...e){if(0===e.length)return{};const t={},r=Object.create(null);for(const n of e)if(n)for(const e of Object.keys(n)){const s=e.toLowerCase();r[s]?t[r[s]]=n[e]:(r[s]=e,t[e]=n[e])}return t},t.getCaseInsensitiveProperty=function(e,t){if(e.hasOwnProperty(t))return e[t];const r=t.toLowerCase();for(const t of Object.keys(e))if(t.toLowerCase()===r)return e[t]};const s=Symbol("unset");t.once=function(e){let t=s;const r=(...n)=>(t===s&&(r.value=t=e(...n)),t);return r.forget=()=>{t=s,r.value=void 0},r.value=void 0,r},t.memoize=function(e){const t=new Map,r=r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n};return r.clear=()=>t.clear(),r},t.memoizeWeak=function(e){const t=new WeakMap;return r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n}},t.debounce=function(e,t){let r;const n=()=>{void 0!==r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,t()},e)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.trailingEdgeThrottle=function(e,t){let r;const n=()=>{void 0===r&&(r=setTimeout(()=>{r=void 0,t()},e))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.bisectArray=function(e,t){const r=[],n=[];for(const s of e)t(s)?r.push(s):n.push(s);return[r,n]},t.flatten=function(e){let t=[];for(const r of e)t=t.concat(r);return t},t.pick=function(e,t){const r={};for(const n of t)r[n]=e[n];return r},t.upcastPartial=e=>e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeferred=t.some=t.disposableTimeout=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise(t=>setTimeout(t,e)):new Promise(()=>{}),t.disposableTimeout=(e,t)=>{const r=setTimeout(e,t);return{dispose:()=>clearTimeout(r)}},t.some=function(e){return new Promise((t,r)=>{let n=e.length;for(const s of e)s.then(e=>{e?(t(e),n=-1):0==--n&&t(void 0)}).catch(r)})},t.getDeferred=function(){let e,t=null,r=null,n=!1;const s=new Promise((s,o)=>{t=t=>{n=!0,e=t,s(t)},r=e=>{n=!0,o(e)}});return{resolve:t,reject:r,promise:s,get settledValue(){return e},hasSettled:()=>n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(57),logger_1=__webpack_require__(23);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(59).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&"node-gyp.js"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const i=r(2),a=r(10),c=r(58),l=o(r(0));class u{constructor(){this.disposed=!1,this.path=l.join(c.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-u.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),u.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=u,u.updateInterval=1e3,u.recencyDeadline=2e3},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=59},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(2);t.createTargetId=()=>n.randomBytes(12).toString("hex")},function(e,t){e.exports=require("worker_threads")}]);
//# sourceURL=bootloader.bundle.cdp