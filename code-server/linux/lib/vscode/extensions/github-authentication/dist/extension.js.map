{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/diagnostic-channel/dist/src/channel.js","webpack:///./node_modules/applicationinsights/out/Library/Logging.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///external \"stream\"","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/index.js","webpack:///external \"url\"","webpack:///external \"zlib\"","webpack:///./node_modules/applicationinsights/out/Library/Util.js","webpack:///external \"vscode\"","webpack:///external \"http\"","webpack:///external \"path\"","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js","webpack:///external \"https\"","webpack:///external \"crypto\"","webpack:///external \"os\"","webpack:///./node_modules/applicationinsights/out/Library/CorrelationIdManager.js","webpack:///external \"fs\"","webpack:///./node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js","webpack:///./node_modules/applicationinsights/out/Declarations/Constants.js","webpack:///./node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","webpack:///external \"util\"","webpack:///external \"assert\"","webpack:///./node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","webpack:///./src/common/logger.ts","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js","webpack:///./node_modules/semver/semver.js","webpack:///./node_modules/emitter-listener/listener.js","webpack:///./node_modules/shimmer/index.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/Performance.js","webpack:///./node_modules/applicationinsights/out/Library/Config.js","webpack:///./node_modules/applicationinsights/out/Library/Context.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./src/github.ts","webpack:///./node_modules/vscode-nls/lib/main.js","webpack:///./src/common/utils.ts","webpack:///./node_modules/diagnostic-channel/dist/src/patchRequire.js","webpack:///external \"module\"","webpack:///external \"timers\"","webpack:///./node_modules/stack-chain/index.js","webpack:///external \"child_process\"","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/RequestParser.js","webpack:///./node_modules/applicationinsights/out/Library/Traceparent.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/HttpRequests.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/VSCodeFilterProvider.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/follow-redirects/index.js","webpack:////home/app/code-server/lib/vscode/node_modules/debug/src/common.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/uuid/dist/esm-node/rng.js","webpack:///./node_modules/uuid/dist/esm-node/bytesToUuid.js","webpack:///./node_modules/uuid/dist/esm-node/v1.js","webpack:///./node_modules/uuid/dist/esm-node/v35.js","webpack:///./node_modules/uuid/dist/esm-node/v3.js","webpack:///./node_modules/uuid/dist/esm-node/md5.js","webpack:///./node_modules/uuid/dist/esm-node/v4.js","webpack:///./node_modules/uuid/dist/esm-node/v5.js","webpack:///./node_modules/uuid/dist/esm-node/sha1.js","webpack:///./src/extension.ts","webpack:///./src/common/keychain.ts","webpack:///external \"keytar\"","webpack:///./src/githubServer.ts","webpack:///./node_modules/node-fetch/lib/index.mjs","webpack:///./node_modules/vscode-extension-telemetry/lib/telemetryReporter.js","webpack:///./node_modules/applicationinsights/out/applicationinsights.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/index.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js","webpack:///external \"@opentelemetry/tracing\"","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","webpack:///external \"console\"","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$","webpack:///./node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js","webpack:///external \"events\"","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js","webpack:///./node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js","webpack:///./node_modules/cls-hooked/index.js","webpack:///./node_modules/cls-hooked/context.js","webpack:///external \"async_hooks\"","webpack:///./node_modules/cls-hooked/context-legacy.js","webpack:///./node_modules/async-hook-jl/index.js","webpack:///./node_modules/async-hook-jl/async-hook.js","webpack:///./node_modules/async-hook-jl/patches/next-tick.js","webpack:///./node_modules/async-hook-jl/patches/promise.js","webpack:///./node_modules/async-hook-jl/patches/timers.js","webpack:///./node_modules/stack-chain/stack-chain.js","webpack:///./node_modules/stack-chain/format.js","webpack:///./node_modules/continuation-local-storage/context.js","webpack:///./node_modules/async-listener/index.js","webpack:///./node_modules/async-listener/glue.js","webpack:///external \"net\"","webpack:///external \"dns\"","webpack:///./node_modules/async-listener/es6-wrapped-promise.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/Console.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Constants.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js","webpack:///./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/Exceptions.js","webpack:///external \"constants\"","webpack:///./node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js","webpack:///./node_modules/applicationinsights/out/Library/Tracestate.js","webpack:///./node_modules/applicationinsights/out/Library/QuickPulseStateManager.js","webpack:///./node_modules/applicationinsights/out/Library/ConnectionStringParser.js","webpack:///./node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js","webpack:///./node_modules/applicationinsights/out/Library/QuickPulseSender.js","webpack:///./node_modules/applicationinsights/out/AutoCollection/NativePerformance.js","webpack:///external \"applicationinsights-native-metrics\"","webpack:///./node_modules/applicationinsights/out/Library/NodeClient.js","webpack:///./node_modules/applicationinsights/out/Library/TelemetryClient.js","webpack:///./node_modules/applicationinsights/out/Library/Channel.js","webpack:///./node_modules/applicationinsights/out/TelemetryProcessors/index.js","webpack:///./node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js","webpack:///./node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js","webpack:///./node_modules/applicationinsights/out/Library/Sender.js","webpack:///./node_modules/applicationinsights/out/Library/EnvelopeFactory.js","webpack:///./src/experimentationService.ts","webpack:///./node_modules/vscode-tas-client/index.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/VSCodeTasClient.js","webpack:///./node_modules/tas-client/index.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationService.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/TasApiFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/FilteredFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/BaseFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/Util/AxiosHttpClient.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/adapters/http.js","webpack:///./node_modules/follow-redirects/debug.js","webpack:////home/app/code-server/lib/vscode/node_modules/debug/src/index.js","webpack:////home/app/code-server/lib/vscode/node_modules/debug/src/browser.js","webpack:////home/app/code-server/lib/vscode/node_modules/ms/index.js","webpack:////home/app/code-server/lib/vscode/node_modules/debug/src/node.js","webpack:///external \"tty\"","webpack:////home/app/code-server/lib/vscode/node_modules/supports-color/index.js","webpack:////home/app/code-server/lib/vscode/node_modules/has-flag/index.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/axios/lib/helpers/isAxiosError.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationServiceAutoPolling.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationServiceBase.js","webpack:///./node_modules/tas-client/tas-client/Util/MemoryKeyValueStorage.js","webpack:///./node_modules/tas-client/tas-client/Util/PollingService.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/MementoKeyValueStorage.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/TelemetryDisabledExperimentationService.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","this","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","require","channel","Logging","info","message","optionalParams","_i","arguments","enableDebug","console","TAG","warn","disableWarnings","disableErrors","toString","isArray","val","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","obj","fn","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","slice","extend","a","b","thisArg","trim","str","replace","stripBOM","content","charCodeAt","__export","__assign","assign","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","split","indexOf","substring","int32ArrayToBase64","array","toChar","v","String","fromCharCode","x","map","join","Buffer","from","substr","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","id","isError","Error","isPrimitive","input","propType","msToTimeSpan","totalms","isNaN","sec","toFixed","min","floor","hour","days","extractError","err","looseError","code","extractObject","origProperty","toJSON","validateStringMap","field","stringTarget","JSON","stringify","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","client","requestUrl","excludedDomains","config","correlationHeaderExcludedDomains","RegExp","test","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","options","host","port","path","pathname","proxyUrl","undefined","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","request","safeIncludeCorrelationHeader","correlationHeader","header","Array","addCorrelationIdHeaderFromString","setHeader","requestContextSourceKey","correlationId","components","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","Domain","CorrelationIdManager","queryCorrelationId","callback","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","method","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","on","correlationIdPrefix","setTimeout","correlationIdRetryIntervalMs","error","end","cancelCorrelationIdQuery","generateRequestId","parentId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","startIndex","delimiter","requestIdMaxLength","trimPosition","w3cEnabled","DiagChannel","CorrelationContextManager","getCurrentContext","enabled","context","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","wrapEmitter","emitter","bindEmitter","wrapCallback","enable","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","disable","nodeVer","process","versions","node","parseInt","canUseClsHooked","greater800","less820","greater470","props","addHeaderData","keyvals","keyval","parts","concat","serializeToHeader","getProperty","setProperty","bannedCharacters","QuickPulseCounter","PerformanceCounter","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","PROCESSOR_TIME","REQUEST_RATE","REQUEST_DURATION","COMMITTED_BYTES","REQUEST_FAILURE_RATE","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","EXCEPTION_RATE","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","HttpDependencyParser","CorrelationContextManager_1","Traceparent","AutoCollectHttpDependencies","INSTANCE","_client","isEnabled","_isEnabled","_isInitialized","_initialize","IsInitialized","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","apply","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","requestNumber","getUrl","getHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","dispose","padLeft","pad","repeat","max","Logger","output","vscode","createOutputChannel","stack","success","logLevel","level","appendLine","data2String","getUTCHours","getMinutes","getUTCSeconds","getMilliseconds","env","publishers","unpatchedModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","debug","SemVer","NODE_DEBUG","args","unshift","log","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","Number","re","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","TypeError","match","raw","major","minor","patch","prerelease","num","build","format","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","sort","list","rsort","Range","range","set","parseRange","isX","toLowerCase","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","_","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","every","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","shimmer","wrap","unwrap","SYMBOL","propertyIsEnumerable","configurable","writable","_listeners","self","_events","_findAndProcess","before","unprocessed","_process","_wrap","unwrapped","visit","wrapped","onAddListener","onEmit","addListener","removeListener","emit","adding","existing","returned","__wrapped","remover","funktion","logger","nodule","wrapper","original","__unwrap","massWrap","nodules","names","massUnwrap","os","Constants","AutoCollectPerformance","collectionInterval","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","duration","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","PROCESS_TIME","freeMem","freemem","usedMem","memoryUsage","rss","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","_lastRequestExecutionTime","_lastDependencyExecutionTime","ConnectionStringParser","Config","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","keys","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","setCorrelationId","ENV_http_proxy","ENV_https_proxy","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","ENV_nativeMetricsDisablers","ENV_nativeMetricsDisableAll","fs","Contracts","Context","packageJsonPath","ContextTagKeys","tags","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","resolve","__dirname","appVersion","packageJson","readFileSync","exception","applicationVersion","deviceId","cloudRoleInstance","deviceOSVersion","type","cloudRole","DefaultRoleName","arch","platform","sdkVersion","internalSdkVersion","utils","encode","encodeURIComponent","params","paramsSerializer","serializedParams","toISOString","hashmarkIndex","enhanceError","AuthProviderType","telemetryReporter","_sessions","_sessionChangeEmitter","EventEmitter","_keychain","Keychain","_githubServer","GitHubServer","readSessions","verifySessions","friendlyName","github","subscriptions","registerUriHandler","uriHandler","commands","registerCommand","manuallyProvideToken","authentication","registerAuthenticationProvider","supportsMultipleAccounts","secrets","onDidChange","checkForUpdates","scopes","arrayEquals","token","checkIsEdu","checkEnterpriseVersion","verifiedSessions","verificationPromises","async","getUserInfo","accessToken","afterTokenLoad","Promise","all","then","storeSessions","storedSessions","added","removed","sessionIndex","findIndex","fire","changed","getToken","tryMigrate","sessionPromises","userInfo","account","label","displayName","accountName","NETWORK_ERROR","deleteToken","setToken","sendTelemetryEvent","login","tokenToSession","showErrorMessage","MessageFormat","BundleFormat","LocalizeInfo","resolvedBundles","isPseudo","isDefined","readJsonFileSync","filename","rest","arg","replacement","createScopedLocalizeFunction","messages","localize","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","bundlePath","file","cacheRoot","hash","useMemoryOnly","writeBundle","encoding","flag","utimes","SyntaxError","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","contents","metaData","module_2","entry","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadDefaultNlsBundle","folder","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","candidate","root","language","existsSync","lastIndexOf","findInTheBoxBundle","loadMessageBundle","ext","extname","messageFormat","both","headerFile","dirname","parent","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","is","comment","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","initializeSettings","opts","bundleFormat","standalone","thisArgs","disposables","passthrough","adapter","subscription","cancel","promise","reject","catch","one","itemEquals","len","moduleModule","nativeModules","binding","originalRequire","patchedModules","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","_stackChain","Base","Data","DataPoint","DataPointType","Envelope","ExceptionDetails","PageViewData","SeverityLevel","StackFrame","extendStatics","__extends","setPrototypeOf","__proto__","__","_super","ver","properties","measurements","RequestParser","startTime","_setStatus","status","endTime","_isSuccess","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","isValidSpanId","legacyRootId","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","getRequestId","getOperationName","getCorrelationContextHeader","getTraceparent","getTracestate","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","once","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","getLegacyRootId","VSCodeFilterProvider","extensionName","extensionVersion","targetPopulation","Filters","ApplicationVersion","trimVersionSuffix","Build","appName","ClientId","machineId","ExtensionName","ExtensionVersion","Language","TargetPopulation","filters","Map","filterValues","values","getFilterValue","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","defaults","XMLHttpRequest","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","createError","isAxiosError","description","number","fileName","lineNumber","columnNumber","isAbsoluteURL","combineURLs","baseURL","requestedURL","URL","Writable","assert","eventHandlers","arg1","arg2","arg3","_redirectable","RedirectionError","createErrorType","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","protocols","maxRedirects","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","urlStr","urlToOptions","equal","wrappedRequest","noop","urlObject","startsWith","search","href","removeMatchingHeaders","regex","lastValue","defaultMessage","CustomError","captureStackTrace","abort","_currentRequest","removeAllListeners","write","currentRequest","removeHeader","msecs","startTimer","_timeout","clearTimeout","clearTimer","socket","searchPos","agents","_currentUrl","_isRedirect","buffers","writeNext","finished","trackRedirects","location","followRedirects","destroy","previousHostName","redirectUrl","redirectUrlParts","beforeRedirect","responseDetails","cause","responseUrl","redirects","createDebug","namespace","prevTime","enableOverride","curr","ms","prev","formatter","formatters","formatArgs","useColors","color","selectColor","init","newDebug","toNamespace","regexp","default","namespaces","skips","save","humanize","colors","abs","load","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","source","mergeDeepProperties","axiosKeys","otherKeys","Cancel","rnds8","Uint8Array","rng","randomFillSync","byteToHex","buf","offset","bth","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","nsecs","dt","tl","tmh","generateUUID","off","unescape","bytes","stringToBytes","uuid","hex","uuidToBytes","hashfunc","idx","DNS","v35","createHash","update","digest","rnds","start","aiKey","ExperimentationTelemetry","experimentationService","createExperimentationService","initialFetch","loginService","GitHubAuthenticationProvider","initialize","Readable","BUFFER","TYPE","Blob","blobParts","size","element","byteOffset","byteLength","ab","readable","_read","relativeStart","relativeEnd","span","slicedBuffer","blob","FetchError","systemError","errno","convert","INTERNALS","PassThrough","Body","body","_ref","_ref$size","_ref$timeout","disturbed","consumeBody","_this4","alloc","stream","accum","accumBytes","resTimeout","chunk","append","delete","getAll","has","arrayBuffer","clone","instance","p1","p2","bodyUsed","getBoundary","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","ct","_this2","_this3","charset","exec","pop","convertBody","text","mixIn","proto","desc","getOwnPropertyDescriptor","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","Headers","rawHeaders","headerNames","headerName","iterator","pairs","pair","getHeaders","_pairs$i","createHeadersIterator","kind","k","entries","INTERNAL","HeadersIteratorPrototype","_INTERNAL","done","exportNodeCompatibleHeaders","hostHeaderKey","INTERNALS$1","STATUS_CODES","Response","contentType","statusText","counter","ok","redirected","INTERNALS$2","parse_url","format_url","streamDestructionSupported","isRequest","parsedURL","toUpperCase","inputBody","signal","isAbortSignal","redirect","follow","compress","AbortError","PassThrough$1","resolve_url","fetch","contentLengthValue","totalBytes","getNodeRequestOptions","send","aborted","abortAndFinalize","finalize","reqTimeout","removeEventListener","addEventListener","createHeadersLenient","isRedirect","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","Z_SYNC_FLUSH","finishFlush","createGunzip","createBrotliDecompress","createInflate","createInflateRaw","dest","writeToStream","appInsights","TelemetryReporter","extensionId","firstParty","userOptIn","logFilePath","logStream","createWriteStream","flags","autoClose","updateUserOptIn","onDidChangeTelemetryEnabled","optOutListener","workspace","onDidChangeConfiguration","getConfiguration","TELEMETRY_CONFIG_ID","newOptInValue","isTelemetryEnabled","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","commonProperties","getCommonProperties","userId","sessionId","isNewAppInstall","uiKind","UIKind","Web","Desktop","cleanRemoteName","remoteName","shouldSendErrorTelemetry","extension","extensionKind","ExtensionKind","Workspace","_extension","extensions","getExtension","cloneAndChange","change","anonymizeFilePaths","cleanupPatterns","appRoot","extensionPath","updatedStack","cleanUpIndexes","cleanupPatterns_1","lastIndex","nodeModulesRegex","fileRegex","_loop_1","y","cleanupPatterns_2","eventName","cleanProperties","_key","trackEvent","sendTelemetryErrorEvent","errorProps","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","DistributedTracingModes","AutoCollectConsole","AutoCollectExceptions","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","AutoCollectNativePerformance","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","collectConsoleLog","collectExtendedMetrics","extendedMetricsConfig","parseEnabled","disabledMetrics","useAsyncHooks","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","addCollector","quickPulseClient","azuresdk","consolePub","tedious","diagnostic_channel_1","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","onEnd","shutdown","azureCoreTracing","coreTracing","tracer_1","BasicTracer","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","originalBunyan","originalEmit","_emit","rec","noemit","stream_1","originalConsole","aiLoggingOutStream","aiLoggingErrStream","stderr","aiLoggingConsole","Console","originalMethod","consoleMethods_1","mongoCore","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","next","eventMap","requestId","startedData","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","hrDuration","query","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","events_1","postgres6","originalPg","originalPgPath","originalClientQuery","Client","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","command","ceil","preparable","plan","postgres7","callbackProvided","_Promise","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","connection","parametersByName","statement","__rest","getOwnPropertySymbols","winston3","originalWinston","AppInsightsTransport","meta","splat","levelKind","npm","levels","syslog","mapLevelToKind","Transport","patchedConfigure","lastLevel","add","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","loggingFilter","f","util","async_hooks","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","_indent","getNamespace","destroyNamespace","inspect","debug2","_rawDebug","createHook","asyncId","triggerId","resource","executionAsyncId","indentStr","showHidden","depth","triggerAsyncId","triggerIdContext","enter","exit","ERROR_SYMBOL","asyncHooksCurrentId","currentId","createContext","_ns_name","run","runAndReturn","runPromise","thisSymbol","unwrappedContexts","thunk","fromException","asyncHook","invertedProviders","providers","msg","DEBUG","getFunctionName","addHooks","uid","handle","provider","parentUid","parentHandle","_state","stackChain","modifier","_modifiers","deattach","AsyncHook","_asyncHook","attach","frames","callSite","getFileName","asyncWrap","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","Hooks","initFns","preFns","postFns","destroyFns","hook","pre","post","didThrow","removeElement","item","_hooks","setupHooks","hooks","remove","removeHooks","NextTickWrap","state","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","setImmediate","clearImmediate","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","callSites","_modify","chain","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","mutated","lines","ee","FormatErrorString","line","frame","removeAsyncListener","addAsyncListener","contexts","storage","after","v6plus","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Socket","onSocket","childProcess","wrapChildProcess","child","stdio","activatorFirst","onexit","ChildProcess","_fatalException","_originalNextTick","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","lchown","lchmod","ftruncate","Deflate","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","executor","ensureAslWrapper","inherits","wrapThen","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","aslWrapper","last","wrapPromise","asyncCatcher","inAsyncTick","listenerStack","union","destLength","addedLength","j","missing","errorValues","inErrorTick","handled","errorThrew","threw","AsyncListener","callbacks","createAsyncListener","registered","simpleWrap","super","_methodNames","Contracts_1","clients","subscriber","trackTrace","severity","Warning","Information","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","deviceLocale","deviceModel","deviceOEMName","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","internalAgentVersion","internalNodeName","Measurement","sampleRate","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","bunyanToAILevelMap","10","Verbose","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","verbose","silly","unknown","_canUseUncaughtExceptionMonitor","_exceptionListenerHandle","reThrow","_FALLBACK_ERROR_MESSAGE","isAppCrashing","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","_RETHROW_EXIT_MESSAGE","_getUrlFromRequestOptions","baseTelemetry","dependencyId","dependencyName","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","commandName","dbName","databaseName","queryObj","sqlString","sql","connectionConfig","_connection","socketPath","q","conn","Tracestate","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","check","results","ip","parseId","setBackCompatFromThisTraceContext","userAgent","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","Boolean","vendorValid","keydeduper","parts_1","part","strict","QuickPulseEnvelopeFactory","QuickPulseSender","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_sender","collector","_addMetric","addDocument","envelope","telemetryEnvelopeToQuickPulseDocument","_goQuickPulse","enableCollectors","count","Value","Weight","createQuickPulseMetric","Name","_resetQuickPulseBuffer","createQuickPulseEnvelope","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","ping","_quickPulseDone","shouldPOST","connectionString","_FIELDS_SEPARATOR","reduce","fields","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","endpointsuffix","locationPrefix","StreamId","documents","machineName","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","baseData","severityLevel","Message","exceptionDetails","exceptionMessage","exceptionType","assembly","typeName","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","responseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseConfig","_config","_consecutiveErrors","_submitData","postOrPing","_b","payload","quickPulseHost","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","_disabledMetrics","_metricsAvailable","NativeMetricsEmitters","_emitter","_trackNativeMetrics","disableAll","individualOptOuts","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","pow","total","loop","getLoopData","loopUsage","heap","_c","heapUsed","heapTotal","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Channel","TelemetryProcessors","Sender","EnvelopeFactory","_telemetryProcessors","sender","trackAvailability","track","triggerSend","telemetryType","createEnvelope","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setDiskRetryMode","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","requestData","remoteDependencyData","child_process","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","spawn","windowsHide","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdout","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","lstat","stats","mkdir","isDirectory","_getShallowDirectorySize","readdir","files","totalSize","stat","fileStats","_getShallowDirectorySizeSync","readdirSync","statSync","tmpdir","TEMPDIR_PREFIX","getTime","fileFullPath","mkdirSync","dirSize","tempDir","basename","firstFile","filePath","readFile","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","getTags","trace","remoteDependency","parseStack","metric","Aggregation","availabilityData","runLocation","totalSizeInBytes","_StackFrame","parsedFrame","sizeInBytes","left","right","acceptedLeft","acceptedRight","howMany","matches","baseSize","baseReporter","sharedProperties","_measurements","packageJSON","getExperimentationService","uriScheme","Public","Insiders","Internal","Team","getTargetPopulation","globalState","VSCodeTasClient_1","getExperimentationServiceAsync","VSCodeFilterProvider_1","tas_client_1","MementoKeyValueStorage_1","TelemetryDisabledExperimentationService_1","memento","filterProviders","providerList","keyValueStorage","MementoKeyValueStorage","ExperimentationService","storageKey","featuresTelemetryPropertyName","assignmentContextTelemetryPropertyName","telemetryEventName","refetchInterval","initializePromise","ExperimentationService_1","TasApiFeatureProvider_1","AxiosHttpClient_1","ExperimentationServiceAutoPolling_1","ExperimentationServiceAutoPolling","invokeInit","featureProviders","addFeatureProvider","TasApiFeatureProvider","AxiosHttpClient","REFRESH_RATE_IN_MINUTES","FilteredFeatureProvider_1","FilteredFeatureProvider","httpClient","getFilters","filterValue","PostEventToTelemetry","responseData","configs","Configs","features","Parameters","featureName","includes","assignmentContext","AssignmentContext","BaseFeatureProvider_1","BaseFeatureProvider","cachedTelemetryEvents","filterHeaders","jsonHeaders","postEvent","isFetching","fetchPromise","axios_1","proxy","Axios","mergeConfig","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","promises","spread","buildURL","InterceptorManager","dispatchRequest","interceptors","interceptor","fulfilled","rejected","shift","getUri","handlers","use","eject","h","transformData","throwIfCancellationRequested","cancelToken","throwIfRequested","reason","fns","normalizedName","settle","buildFullPath","isURLSameOrigin","requestHeaders","auth","username","password","Authorization","btoa","fullPath","open","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","read","setRequestHeader","onDownloadProgress","onUploadProgress","upload","expires","secure","toGMTString","decodeURIComponent","relativeURL","ignoreDuplicateOf","originURL","msie","urlParsingNode","createElement","resolveURL","setAttribute","charAt","requestURL","httpFollow","httpsFollow","pkg","resolvePromise","rejectPromise","urlAuth","isHttpsRequest","transport","proxyEnv","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","proxyElement","proxyUrlAuth","setProxy","base64","redirection","isHttpsProxy","lastRequest","decompress","createUnzip","responseBuffer","responseEncoding","browser","__nwjs","lastC","setItem","removeItem","getItem","documentElement","style","WebkitAppearance","firebug","table","$1","localStorage","localstorage","warned","plural","msAbs","isPlural","round","parseFloat","isFinite","long","fmtLong","fmtShort","tty","inspectOpts","colorCode","hideDate","getDate","isatty","fd","deprecate","supportsColor","O","hasFlag","forceColor","getSupportLevel","hasBasic","has256","has16m","translateLevel","isTTY","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","FORCE_COLOR","argv","pos","terminatorPos","arr","ExperimentationServiceBase_1","PollingService_1","ExperimentationServiceBase","refreshRateMs","pollingService","PollingService","OnPollTick","getFeaturesAsync","StartPolling","overrideInMemoryFeatures","StopPolling","MemoryKeyValueStorage_1","featuresConsumed","_features","MemoryKeyValueStorage","loadCachePromise","loadCachedFeatureData","resolveInitialFetchPromise","setSharedProperty","getFeatures","featureResults","updateFeatures","feature","existingConfig","Id","setValue","cachedFeatureData","getValue","flight","configId","checkCache","_featuresConsumed","cachedValue","getTreatmentVariable","defaultValue","fetchInterval","intervalHandle","onTick","pollImmediately","mementoGlobalStorage"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 62);\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","module.exports = require(\"stream\");","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","module.exports = require(\"url\");","module.exports = require(\"zlib\");","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","module.exports = require(\"vscode\");","module.exports = require(\"http\");","module.exports = require(\"path\");","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","module.exports = require(\"https\");","module.exports = require(\"crypto\");","module.exports = require(\"os\");","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","module.exports = require(\"fs\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","module.exports = require(\"util\");","module.exports = require(\"assert\");","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\n\ntype LogLevel = 'Trace' | 'Info' | 'Error';\n\nclass Log {\n\tprivate output: vscode.OutputChannel;\n\n\tconstructor() {\n\t\tthis.output = vscode.window.createOutputChannel('GitHub Authentication');\n\t}\n\n\tprivate data2String(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\treturn data.stack || data.message;\n\t\t}\n\t\tif (data.success === false && data.message) {\n\t\t\treturn data.message;\n\t\t}\n\t\treturn data.toString();\n\t}\n\n\tpublic info(message: string, data?: any): void {\n\t\tthis.logLevel('Info', message, data);\n\t}\n\n\tpublic error(message: string, data?: any): void {\n\t\tthis.logLevel('Error', message, data);\n\t}\n\n\tpublic logLevel(level: LogLevel, message: string, data?: any): void {\n\t\tthis.output.appendLine(`[${level}  - ${this.now()}] ${message}`);\n\t\tif (data) {\n\t\t\tthis.output.appendLine(this.data2String(data));\n\t\t}\n\t}\n\n\tprivate now(): string {\n\t\tconst now = new Date();\n\t\treturn padLeft(now.getUTCHours() + '', 2, '0')\n\t\t\t+ ':' + padLeft(now.getMinutes() + '', 2, '0')\n\t\t\t+ ':' + padLeft(now.getUTCSeconds() + '', 2, '0') + '.' + now.getMilliseconds();\n\t}\n}\n\nfunction padLeft(s: string, n: number, pad = ' ') {\n\treturn pad.repeat(Math.max(0, n - s.length)) + s;\n}\n\nconst Logger = new Log();\nexport default Logger;\n","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { v4 as uuid } from 'uuid';\nimport { Keychain } from './common/keychain';\nimport { GitHubServer, uriHandler, NETWORK_ERROR } from './githubServer';\nimport Logger from './common/logger';\nimport { arrayEquals } from './common/utils';\nimport { ExperimentationTelemetry } from './experimentationService';\n\ninterface SessionData {\n\tid: string;\n\taccount?: {\n\t\tlabel?: string;\n\t\tdisplayName?: string;\n\t\tid: string;\n\t}\n\tscopes: string[];\n\taccessToken: string;\n}\n\nexport enum AuthProviderType {\n\tgithub = 'github',\n\t'github-enterprise' = 'github-enterprise'\n}\n\n\nexport class GitHubAuthenticationProvider implements vscode.AuthenticationProvider {\n\tprivate _sessions: vscode.AuthenticationSession[] = [];\n\tprivate _sessionChangeEmitter = new vscode.EventEmitter<vscode.AuthenticationProviderAuthenticationSessionsChangeEvent>();\n\tprivate _githubServer: GitHubServer;\n\n\tprivate _keychain: Keychain;\n\n\tconstructor(private context: vscode.ExtensionContext, private type: AuthProviderType, private telemetryReporter: ExperimentationTelemetry) {\n\t\tthis._keychain = new Keychain(context, `${type}.auth`);\n\t\tthis._githubServer = new GitHubServer(type, telemetryReporter);\n\t}\n\n\tget onDidChangeSessions() {\n\t\treturn this._sessionChangeEmitter.event;\n\t}\n\n\tpublic async initialize(): Promise<void> {\n\t\ttry {\n\t\t\tthis._sessions = await this.readSessions();\n\t\t\tawait this.verifySessions();\n\t\t} catch (e) {\n\t\t\t// Ignore, network request failed\n\t\t}\n\n\t\tlet friendlyName = 'GitHub';\n\t\tif (this.type === AuthProviderType.github) {\n\t\t\tthis.context.subscriptions.push(vscode.window.registerUriHandler(uriHandler));\n\t\t}\n\t\tif (this.type === AuthProviderType['github-enterprise']) {\n\t\t\tfriendlyName = 'GitHub Enterprise';\n\t\t}\n\n\t\tthis.context.subscriptions.push(vscode.commands.registerCommand(`${this.type}.provide-token`, () => this.manuallyProvideToken()));\n\t\tthis.context.subscriptions.push(vscode.authentication.registerAuthenticationProvider(this.type, friendlyName, this, { supportsMultipleAccounts: false }));\n\t\tthis.context.subscriptions.push(this.context.secrets.onDidChange(() => this.checkForUpdates()));\n\t}\n\n\tasync getSessions(scopes?: string[]): Promise<vscode.AuthenticationSession[]> {\n\t\treturn scopes\n\t\t\t? this._sessions.filter(session => arrayEquals(session.scopes, scopes))\n\t\t\t: this._sessions;\n\t}\n\n\tprivate async afterTokenLoad(token: string): Promise<void> {\n\t\tif (this.type === AuthProviderType.github) {\n\t\t\tthis._githubServer.checkIsEdu(token);\n\t\t}\n\t\tif (this.type === AuthProviderType['github-enterprise']) {\n\t\t\tthis._githubServer.checkEnterpriseVersion(token);\n\t\t}\n\t}\n\n\tprivate async verifySessions(): Promise<void> {\n\t\tconst verifiedSessions: vscode.AuthenticationSession[] = [];\n\t\tconst verificationPromises = this._sessions.map(async session => {\n\t\t\ttry {\n\t\t\t\tawait this._githubServer.getUserInfo(session.accessToken);\n\t\t\t\tthis.afterTokenLoad(session.accessToken);\n\t\t\t\tverifiedSessions.push(session);\n\t\t\t} catch (e) {\n\t\t\t\t// Remove sessions that return unauthorized response\n\t\t\t\tif (e.message !== 'Unauthorized') {\n\t\t\t\t\tverifiedSessions.push(session);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPromise.all(verificationPromises).then(_ => {\n\t\t\tif (this._sessions.length !== verifiedSessions.length) {\n\t\t\t\tthis._sessions = verifiedSessions;\n\t\t\t\tthis.storeSessions();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async checkForUpdates() {\n\t\tlet storedSessions: vscode.AuthenticationSession[];\n\t\ttry {\n\t\t\tstoredSessions = await this.readSessions();\n\t\t} catch (e) {\n\t\t\t// Ignore, network request failed\n\t\t\treturn;\n\t\t}\n\n\t\tconst added: vscode.AuthenticationSession[] = [];\n\t\tconst removed: vscode.AuthenticationSession[] = [];\n\n\t\tstoredSessions.forEach(session => {\n\t\t\tconst matchesExisting = this._sessions.some(s => s.id === session.id);\n\t\t\t// Another window added a session to the keychain, add it to our state as well\n\t\t\tif (!matchesExisting) {\n\t\t\t\tLogger.info('Adding session found in keychain');\n\t\t\t\tthis._sessions.push(session);\n\t\t\t\tadded.push(session);\n\t\t\t}\n\t\t});\n\n\t\tthis._sessions.map(session => {\n\t\t\tconst matchesExisting = storedSessions.some(s => s.id === session.id);\n\t\t\t// Another window has logged out, remove from our state\n\t\t\tif (!matchesExisting) {\n\t\t\t\tLogger.info('Removing session no longer found in keychain');\n\t\t\t\tconst sessionIndex = this._sessions.findIndex(s => s.id === session.id);\n\t\t\t\tif (sessionIndex > -1) {\n\t\t\t\t\tthis._sessions.splice(sessionIndex, 1);\n\t\t\t\t}\n\n\t\t\t\tremoved.push(session);\n\t\t\t}\n\t\t});\n\n\t\tif (added.length || removed.length) {\n\t\t\tthis._sessionChangeEmitter.fire({ added, removed, changed: [] });\n\t\t}\n\t}\n\n\tprivate async readSessions(): Promise<vscode.AuthenticationSession[]> {\n\t\tconst storedSessions = await this._keychain.getToken() || await this._keychain.tryMigrate();\n\t\tif (storedSessions) {\n\t\t\ttry {\n\t\t\t\tconst sessionData: SessionData[] = JSON.parse(storedSessions);\n\t\t\t\tconst sessionPromises = sessionData.map(async (session: SessionData): Promise<vscode.AuthenticationSession> => {\n\t\t\t\t\tconst needsUserInfo = !session.account;\n\t\t\t\t\tlet userInfo: { id: string, accountName: string };\n\t\t\t\t\tif (needsUserInfo) {\n\t\t\t\t\t\tuserInfo = await this._githubServer.getUserInfo(session.accessToken);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: session.id,\n\t\t\t\t\t\taccount: {\n\t\t\t\t\t\t\tlabel: session.account\n\t\t\t\t\t\t\t\t? session.account.label || session.account.displayName!\n\t\t\t\t\t\t\t\t: userInfo!.accountName,\n\t\t\t\t\t\t\tid: session.account?.id ?? userInfo!.id\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscopes: session.scopes,\n\t\t\t\t\t\taccessToken: session.accessToken\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn Promise.all(sessionPromises);\n\t\t\t} catch (e) {\n\t\t\t\tif (e === NETWORK_ERROR) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tLogger.error(`Error reading sessions: ${e}`);\n\t\t\t\tawait this._keychain.deleteToken();\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate async storeSessions(): Promise<void> {\n\t\tawait this._keychain.setToken(JSON.stringify(this._sessions));\n\t}\n\n\tget sessions(): vscode.AuthenticationSession[] {\n\t\treturn this._sessions;\n\t}\n\n\tpublic async createSession(scopes: string[]): Promise<vscode.AuthenticationSession> {\n\t\ttry {\n\t\t\t/* __GDPR__\n\t\t\t\t\"login\" : { }\n\t\t\t*/\n\t\t\tthis.telemetryReporter?.sendTelemetryEvent('login');\n\n\t\t\tconst token = await this._githubServer.login(scopes.join(' '));\n\t\t\tthis.afterTokenLoad(token);\n\t\t\tconst session = await this.tokenToSession(token, scopes);\n\t\t\tawait this.setToken(session);\n\t\t\tthis._sessionChangeEmitter.fire({ added: [session], removed: [], changed: [] });\n\n\t\t\tLogger.info('Login success!');\n\n\t\t\treturn session;\n\t\t} catch (e) {\n\t\t\t// If login was cancelled, do not notify user.\n\t\t\tif (e.message === 'Cancelled') {\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"loginCancelled\" : { }\n\t\t\t\t*/\n\t\t\t\tthis.telemetryReporter?.sendTelemetryEvent('loginCancelled');\n\t\t\t\tthrow e;\n\t\t\t}\n\n\t\t\t/* __GDPR__\n\t\t\t\t\"loginFailed\" : { }\n\t\t\t*/\n\t\t\tthis.telemetryReporter?.sendTelemetryEvent('loginFailed');\n\n\t\t\tvscode.window.showErrorMessage(`Sign in failed: ${e}`);\n\t\t\tLogger.error(e);\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\tpublic async manuallyProvideToken(): Promise<void> {\n\t\tthis._githubServer.manuallyProvideToken();\n\t}\n\n\tprivate async tokenToSession(token: string, scopes: string[]): Promise<vscode.AuthenticationSession> {\n\t\tconst userInfo = await this._githubServer.getUserInfo(token);\n\t\treturn {\n\t\t\tid: uuid(),\n\t\t\taccessToken: token,\n\t\t\taccount: { label: userInfo.accountName, id: userInfo.id },\n\t\t\tscopes\n\t\t};\n\t}\n\n\tprivate async setToken(session: vscode.AuthenticationSession): Promise<void> {\n\t\tconst sessionIndex = this._sessions.findIndex(s => s.id === session.id);\n\t\tif (sessionIndex > -1) {\n\t\t\tthis._sessions.splice(sessionIndex, 1, session);\n\t\t} else {\n\t\t\tthis._sessions.push(session);\n\t\t}\n\n\t\tawait this.storeSessions();\n\t}\n\n\tpublic async removeSession(id: string) {\n\t\ttry {\n\t\t\t/* __GDPR__\n\t\t\t\t\"logout\" : { }\n\t\t\t*/\n\t\t\tthis.telemetryReporter?.sendTelemetryEvent('logout');\n\n\t\t\tLogger.info(`Logging out of ${id}`);\n\t\t\tconst sessionIndex = this._sessions.findIndex(session => session.id === id);\n\t\t\tif (sessionIndex > -1) {\n\t\t\t\tconst session = this._sessions[sessionIndex];\n\t\t\t\tthis._sessions.splice(sessionIndex, 1);\n\t\t\t\tthis._sessionChangeEmitter.fire({ added: [], removed: [session], changed: [] });\n\t\t\t} else {\n\t\t\t\tLogger.error('Session not found');\n\t\t\t}\n\n\t\t\tawait this.storeSessions();\n\t\t} catch (e) {\n\t\t\t/* __GDPR__\n\t\t\t\t\"logoutFailed\" : { }\n\t\t\t*/\n\t\t\tthis.telemetryReporter?.sendTelemetryEvent('logoutFailed');\n\n\t\t\tvscode.window.showErrorMessage(`Sign out failed: ${e}`);\n\t\t\tLogger.error(e);\n\t\t\tthrow e;\n\t\t}\n\t}\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar fs = require(\"fs\");\r\nvar toString = Object.prototype.toString;\r\nfunction isDefined(value) {\r\n    return typeof value !== 'undefined';\r\n}\r\nfunction isNumber(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nfunction isString(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nfunction isBoolean(value) {\r\n    return value === true || value === false;\r\n}\r\nfunction readJsonFileSync(filename) {\r\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\r\n}\r\nvar MessageFormat;\r\n(function (MessageFormat) {\r\n    MessageFormat[\"file\"] = \"file\";\r\n    MessageFormat[\"bundle\"] = \"bundle\";\r\n    MessageFormat[\"both\"] = \"both\";\r\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\r\nvar BundleFormat;\r\n(function (BundleFormat) {\r\n    // the nls.bundle format\r\n    BundleFormat[\"standalone\"] = \"standalone\";\r\n    BundleFormat[\"languagePack\"] = \"languagePack\";\r\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\r\nvar LocalizeInfo;\r\n(function (LocalizeInfo) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\r\n    }\r\n    LocalizeInfo.is = is;\r\n})(LocalizeInfo || (LocalizeInfo = {}));\r\nvar resolvedLanguage;\r\nvar resolvedBundles;\r\nvar options;\r\nvar isPseudo;\r\nfunction initializeSettings() {\r\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: MessageFormat.bundle };\r\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\r\n        try {\r\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\r\n            var language = void 0;\r\n            var locale = void 0;\r\n            if (vscodeOptions_1.availableLanguages) {\r\n                var value = vscodeOptions_1.availableLanguages['*'];\r\n                if (isString(value)) {\r\n                    language = value;\r\n                }\r\n            }\r\n            if (isString(vscodeOptions_1.locale)) {\r\n                options.locale = vscodeOptions_1.locale.toLowerCase();\r\n            }\r\n            if (language === undefined) {\r\n                options.language = options.locale;\r\n            }\r\n            else if (language !== 'en') {\r\n                options.language = language;\r\n            }\r\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\r\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\r\n            }\r\n            if (isString(vscodeOptions_1._cacheRoot)) {\r\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\r\n            }\r\n            if (isString(vscodeOptions_1._languagePackId)) {\r\n                options.languagePackId = vscodeOptions_1._languagePackId;\r\n            }\r\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\r\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\r\n                try {\r\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\r\n                }\r\n                catch (error) {\r\n                    // We can't read the translation config file. Mark the cache as corrupted.\r\n                    if (vscodeOptions_1._corruptedFile) {\r\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\r\n                        fs.exists(dirname, function (exists) {\r\n                            if (exists) {\r\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\r\n                                    console.error(err);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    resolvedLanguage = undefined;\r\n    resolvedBundles = Object.create(null);\r\n}\r\ninitializeSettings();\r\nfunction supportsLanguagePack() {\r\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\r\n        && options.translationsConfig !== undefined;\r\n}\r\nfunction format(message, args) {\r\n    var result;\r\n    if (isPseudo) {\r\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\r\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\r\n    }\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            var arg = args[index];\r\n            var replacement = match;\r\n            if (typeof arg === 'string') {\r\n                replacement = arg;\r\n            }\r\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\r\n                replacement = String(arg);\r\n            }\r\n            return replacement;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction createScopedLocalizeFunction(messages) {\r\n    return function (key, message) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNumber(key)) {\r\n            if (key >= messages.length) {\r\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\r\n                return;\r\n            }\r\n            return format(messages[key], args);\r\n        }\r\n        else {\r\n            if (isString(message)) {\r\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\r\n                return format(message, args);\r\n            }\r\n            else {\r\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction resolveLanguage(file) {\r\n    var resolvedLanguage;\r\n    if (options.cacheLanguageResolution && resolvedLanguage) {\r\n        resolvedLanguage = resolvedLanguage;\r\n    }\r\n    else {\r\n        if (isPseudo || !options.language) {\r\n            resolvedLanguage = '.nls.json';\r\n        }\r\n        else {\r\n            var locale = options.language;\r\n            while (locale) {\r\n                var candidate = '.nls.' + locale + '.json';\r\n                if (fs.existsSync(file + candidate)) {\r\n                    resolvedLanguage = candidate;\r\n                    break;\r\n                }\r\n                else {\r\n                    var index = locale.lastIndexOf('-');\r\n                    if (index > 0) {\r\n                        locale = locale.substring(0, index);\r\n                    }\r\n                    else {\r\n                        resolvedLanguage = '.nls.json';\r\n                        locale = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (options.cacheLanguageResolution) {\r\n            resolvedLanguage = resolvedLanguage;\r\n        }\r\n    }\r\n    return file + resolvedLanguage;\r\n}\r\nfunction findInTheBoxBundle(root) {\r\n    var language = options.language;\r\n    while (language) {\r\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n        else {\r\n            var index = language.lastIndexOf('-');\r\n            if (index > 0) {\r\n                language = language.substring(0, index);\r\n            }\r\n            else {\r\n                language = undefined;\r\n            }\r\n        }\r\n    }\r\n    // Test if we can reslove the default bundle.\r\n    if (language === undefined) {\r\n        var candidate = path.join(root, 'nls.bundle.json');\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction mkdir(directory) {\r\n    try {\r\n        fs.mkdirSync(directory);\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'EEXIST') {\r\n            return;\r\n        }\r\n        else if (err.code === 'ENOENT') {\r\n            var parent = path.dirname(directory);\r\n            if (parent !== directory) {\r\n                mkdir(parent);\r\n                fs.mkdirSync(directory);\r\n            }\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n}\r\nfunction createDefaultNlsBundle(folder) {\r\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_1 in metaData) {\r\n        var entry = metaData[module_1];\r\n        result[module_1] = entry.messages;\r\n    }\r\n    return result;\r\n}\r\nfunction createNLSBundle(header, metaDataPath) {\r\n    var languagePackLocation = options.translationsConfig[header.id];\r\n    if (!languagePackLocation) {\r\n        return undefined;\r\n    }\r\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\r\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_2 in metaData) {\r\n        var entry = metaData[module_2];\r\n        var translations = languagePack[header.outDir + \"/\" + module_2];\r\n        if (translations) {\r\n            var resultMessages = [];\r\n            for (var i = 0; i < entry.keys.length; i++) {\r\n                var messageKey = entry.keys[i];\r\n                var key = isString(messageKey) ? messageKey : messageKey.key;\r\n                var translatedMessage = translations[key];\r\n                if (translatedMessage === undefined) {\r\n                    translatedMessage = entry.messages[i];\r\n                }\r\n                resultMessages.push(translatedMessage);\r\n            }\r\n            result[module_2] = resultMessages;\r\n        }\r\n        else {\r\n            result[module_2] = entry.messages;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction touch(file) {\r\n    var d = new Date();\r\n    fs.utimes(file, d, d, function () {\r\n        // Do nothing. Ignore\r\n    });\r\n}\r\nfunction cacheBundle(key, bundle) {\r\n    resolvedBundles[key] = bundle;\r\n    return bundle;\r\n}\r\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\r\n    var result;\r\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\r\n    var useMemoryOnly = false;\r\n    var writeBundle = false;\r\n    try {\r\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\r\n        touch(bundle);\r\n        return result;\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'ENOENT') {\r\n            writeBundle = true;\r\n        }\r\n        else if (err instanceof SyntaxError) {\r\n            // We have a syntax error. So no valid JSON. Use\r\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\r\n            fs.unlink(bundle, function (err) {\r\n                if (err) {\r\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\r\n                }\r\n            });\r\n            useMemoryOnly = true;\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    result = createNLSBundle(header, bundlePath);\r\n    if (!result || useMemoryOnly) {\r\n        return result;\r\n    }\r\n    if (writeBundle) {\r\n        try {\r\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'EEXIST') {\r\n                return result;\r\n            }\r\n            throw err;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadDefaultNlsBundle(bundlePath) {\r\n    try {\r\n        return createDefaultNlsBundle(bundlePath);\r\n    }\r\n    catch (err) {\r\n        console.log(\"Generating default bundle from meta data failed.\", err);\r\n        return undefined;\r\n    }\r\n}\r\nfunction loadNlsBundle(header, bundlePath) {\r\n    var result;\r\n    // Core decided to use a language pack. Do the same in the extension\r\n    if (supportsLanguagePack()) {\r\n        try {\r\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Load or create bundle failed \", err);\r\n        }\r\n    }\r\n    if (!result) {\r\n        // No language pack found, but core is running in language pack mode\r\n        // Don't try to use old in the box bundles since the might be stale\r\n        // Fall right back to the default bundle.\r\n        if (options.languagePackSupport) {\r\n            return loadDefaultNlsBundle(bundlePath);\r\n        }\r\n        var candidate = findInTheBoxBundle(bundlePath);\r\n        if (candidate) {\r\n            try {\r\n                return readJsonFileSync(candidate);\r\n            }\r\n            catch (err) {\r\n                console.log(\"Loading in the box message bundle failed.\", err);\r\n            }\r\n        }\r\n        result = loadDefaultNlsBundle(bundlePath);\r\n    }\r\n    return result;\r\n}\r\nfunction tryFindMetaDataHeaderFile(file) {\r\n    var result;\r\n    var dirname = path.dirname(file);\r\n    while (true) {\r\n        result = path.join(dirname, 'nls.metadata.header.json');\r\n        if (fs.existsSync(result)) {\r\n            break;\r\n        }\r\n        var parent = path.dirname(dirname);\r\n        if (parent === dirname) {\r\n            result = undefined;\r\n            break;\r\n        }\r\n        else {\r\n            dirname = parent;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadMessageBundle(file) {\r\n    if (!file) {\r\n        // No file. We are in dev mode. Return the default\r\n        // localize function.\r\n        return localize;\r\n    }\r\n    // Remove extension since we load json files.\r\n    var ext = path.extname(file);\r\n    if (ext) {\r\n        file = file.substr(0, file.length - ext.length);\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.bundle) {\r\n        var headerFile = tryFindMetaDataHeaderFile(file);\r\n        if (headerFile) {\r\n            var bundlePath = path.dirname(headerFile);\r\n            var bundle = resolvedBundles[bundlePath];\r\n            if (bundle === undefined) {\r\n                try {\r\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\r\n                    try {\r\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\r\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\r\n                    }\r\n                    catch (err) {\r\n                        console.error('Failed to load nls bundle', err);\r\n                        bundle = cacheBundle(bundlePath, null);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.error('Failed to read header file', err);\r\n                    bundle = cacheBundle(bundlePath, null);\r\n                }\r\n            }\r\n            if (bundle) {\r\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\r\n                var messages = bundle.nlsBundle[module_3];\r\n                if (messages === undefined) {\r\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\r\n                    return function () {\r\n                        return 'Messages not found.';\r\n                    };\r\n                }\r\n                return createScopedLocalizeFunction(messages);\r\n            }\r\n        }\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.file) {\r\n        // Try to load a single file bundle\r\n        try {\r\n            var json = readJsonFileSync(resolveLanguage(file));\r\n            if (Array.isArray(json)) {\r\n                return createScopedLocalizeFunction(json);\r\n            }\r\n            else {\r\n                if (isDefined(json.messages) && isDefined(json.keys)) {\r\n                    return createScopedLocalizeFunction(json.messages);\r\n                }\r\n                else {\r\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\r\n                    return function () {\r\n                        return 'File bundle has unsupported format. See console for details';\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                console.error('Failed to load single file bundle', err);\r\n            }\r\n        }\r\n    }\r\n    console.error(\"Failed to load message bundle for file \" + file);\r\n    return function () {\r\n        return 'Failed to load message bundle. See console for details.';\r\n    };\r\n}\r\nexports.loadMessageBundle = loadMessageBundle;\r\nfunction config(opts) {\r\n    if (opts) {\r\n        if (isString(opts.locale)) {\r\n            options.locale = opts.locale.toLowerCase();\r\n            options.language = options.locale;\r\n            resolvedLanguage = undefined;\r\n            resolvedBundles = Object.create(null);\r\n        }\r\n        if (opts.messageFormat !== undefined) {\r\n            options.messageFormat = opts.messageFormat;\r\n        }\r\n        if (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\r\n            options.languagePackSupport = false;\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    return loadMessageBundle;\r\n}\r\nexports.config = config;\r\n//# sourceMappingURL=main.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EventEmitter, Event, Disposable } from 'vscode';\n\nexport function filterEvent<T>(event: Event<T>, filter: (e: T) => boolean): Event<T> {\n\treturn (listener, thisArgs = null, disposables?) => event(e => filter(e) && listener.call(thisArgs, e), null, disposables);\n}\n\nexport function onceEvent<T>(event: Event<T>): Event<T> {\n\treturn (listener, thisArgs = null, disposables?) => {\n\t\tconst result = event(e => {\n\t\t\tresult.dispose();\n\t\t\treturn listener.call(thisArgs, e);\n\t\t}, null, disposables);\n\n\t\treturn result;\n\t};\n}\n\n\nexport interface PromiseAdapter<T, U> {\n\t(\n\t\tvalue: T,\n\t\tresolve:\n\t\t\t(value: U | PromiseLike<U>) => void,\n\t\treject:\n\t\t\t(reason: any) => void\n\t): any;\n}\n\nconst passthrough = (value: any, resolve: (value?: any) => void) => resolve(value);\n\n/**\n * Return a promise that resolves with the next emitted event, or with some future\n * event as decided by an adapter.\n *\n * If specified, the adapter is a function that will be called with\n * `(event, resolve, reject)`. It will be called once per event until it resolves or\n * rejects.\n *\n * The default adapter is the passthrough function `(value, resolve) => resolve(value)`.\n *\n * @param event the event\n * @param adapter controls resolution of the returned promise\n * @returns a promise that resolves or rejects as specified by the adapter\n */\nexport function promiseFromEvent<T, U>(\n\tevent: Event<T>,\n\tadapter: PromiseAdapter<T, U> = passthrough): { promise: Promise<U>, cancel: EventEmitter<void> } {\n\tlet subscription: Disposable;\n\tlet cancel = new EventEmitter<void>();\n\treturn {\n\t\tpromise: new Promise<U>((resolve, reject) => {\n\t\t\tcancel.event(_ => reject());\n\t\t\tsubscription = event((value: T) => {\n\t\t\t\ttry {\n\t\t\t\t\tPromise.resolve(adapter(value, resolve, reject))\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t}).then(\n\t\t\t(result: U) => {\n\t\t\t\tsubscription.dispose();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tsubscription.dispose();\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t),\n\t\tcancel\n\t};\n}\n\nexport function arrayEquals<T>(one: ReadonlyArray<T> | undefined, other: ReadonlyArray<T> | undefined, itemEquals: (a: T, b: T) => boolean = (a, b) => a === b): boolean {\n\tif (one === other) {\n\t\treturn true;\n\t}\n\n\tif (!one || !other) {\n\t\treturn false;\n\t}\n\n\tif (one.length !== other.length) {\n\t\treturn false;\n\t}\n\n\tfor (let i = 0, len = one.length; i < len; i++) {\n\t\tif (!itemEquals(one[i], other[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","module.exports = require(\"module\");","module.exports = require(\"timers\");","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","module.exports = require(\"child_process\");","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\n/**\n * Here is where we are going to define the filters we will set.\n */\nclass VSCodeFilterProvider {\n    constructor(extensionName, extensionVersion, targetPopulation) {\n        this.extensionName = extensionName;\n        this.extensionVersion = extensionVersion;\n        this.targetPopulation = targetPopulation;\n    }\n    /**\n     * Returns a version string that can be parsed into a .NET Build object\n     * by removing the tag suffix (for example -dev).\n     *\n     * @param version Version string to be trimmed.\n     */\n    static trimVersionSuffix(version) {\n        const regex = /\\-[a-zA-Z0-9]+$/;\n        const result = version.split(regex);\n        return result[0];\n    }\n    getFilterValue(filter) {\n        switch (filter) {\n            case Filters.ApplicationVersion:\n                return VSCodeFilterProvider.trimVersionSuffix(vscode.version);\n            case Filters.Build:\n                return vscode.env.appName;\n            case Filters.ClientId:\n                return vscode.env.machineId;\n            case Filters.ExtensionName:\n                return this.extensionName;\n            case Filters.ExtensionVersion:\n                return VSCodeFilterProvider.trimVersionSuffix(this.extensionVersion);\n            case Filters.Language:\n                return vscode.env.language;\n            case Filters.TargetPopulation:\n                return this.targetPopulation;\n            default:\n                return '';\n        }\n    }\n    getFilters() {\n        let filters = new Map();\n        let filterValues = Object.values(Filters);\n        for (let value of filterValues) {\n            filters.set(value, this.getFilterValue(value));\n        }\n        return filters;\n    }\n}\nexports.VSCodeFilterProvider = VSCodeFilterProvider;\n/*\nBased upon the official VSCode currently existing filters in the\nExP backend for the VSCode cluster.\nhttps://experimentation.visualstudio.com/Analysis%20and%20Experimentation/_git/AnE.ExP.TAS.TachyonHost.Configuration?path=%2FConfigurations%2Fvscode%2Fvscode.json&version=GBmaster\n\"X-MSEdge-Market\": \"detection.market\",\n\"X-FD-Corpnet\": \"detection.corpnet\",\n\"X-VSCode–AppVersion\": \"appversion\",\n\"X-VSCode-Build\": \"build\",\n\"X-MSEdge-ClientId\": \"clientid\",\n\"X-VSCode-ExtensionName\": \"extensionname\",\n\"X-VSCode-ExtensionVersion\": \"extensionversion\",\n\"X-VSCode-TargetPopulation\": \"targetpopulation\",\n\"X-VSCode-Language\": \"language\"\n*/\n/**\n * All available filters, can be updated.\n */\nvar Filters;\n(function (Filters) {\n    /**\n     * The market in which the extension is distributed.\n     */\n    Filters[\"Market\"] = \"X-MSEdge-Market\";\n    /**\n     * The corporation network.\n     */\n    Filters[\"CorpNet\"] = \"X-FD-Corpnet\";\n    /**\n     * Version of the application which uses experimentation service.\n     */\n    Filters[\"ApplicationVersion\"] = \"X-VSCode-AppVersion\";\n    /**\n     * Insiders vs Stable.\n     */\n    Filters[\"Build\"] = \"X-VSCode-Build\";\n    /**\n     * Client Id which is used as primary unit for the experimentation.\n     */\n    Filters[\"ClientId\"] = \"X-MSEdge-ClientId\";\n    /**\n     * Extension header.\n     */\n    Filters[\"ExtensionName\"] = \"X-VSCode-ExtensionName\";\n    /**\n     * The version of the extension.\n     */\n    Filters[\"ExtensionVersion\"] = \"X-VSCode-ExtensionVersion\";\n    /**\n     * The language in use by VS Code\n     */\n    Filters[\"Language\"] = \"X-VSCode-Language\";\n    /**\n     * The target population.\n     * This is used to separate internal, early preview, GA, etc.\n     */\n    Filters[\"TargetPopulation\"] = \"X-VSCode-TargetPopulation\";\n})(Filters = exports.Filters || (exports.Filters = {}));\n/**\n * Specifies the target population for the experimentation filter.\n */\nvar TargetPopulation;\n(function (TargetPopulation) {\n    TargetPopulation[\"Team\"] = \"team\";\n    TargetPopulation[\"Internal\"] = \"internal\";\n    TargetPopulation[\"Insiders\"] = \"insider\";\n    TargetPopulation[\"Public\"] = \"public\";\n})(TargetPopulation = exports.TargetPopulation || (exports.TargetPopulation = {}));\n//# sourceMappingURL=VSCodeFilterProvider.js.map","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar eventHandlers = Object.create(null);\n[\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"].forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  // Abort the internal request\n  this._currentRequest.removeAllListeners();\n  this._currentRequest.on(\"error\", noop);\n  this._currentRequest.abort();\n\n  // Abort this request\n  this.emit(\"abort\");\n  this.removeAllListeners();\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (typeof data === \"function\") {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer() {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n  }\n\n  // Prevent a timeout from triggering\n  function clearTimer() {\n    clearTimeout(this._timeout);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!this.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Start the timer when the socket is opened\n  if (this.socket) {\n    startTimer();\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  this.once(\"response\", clearTimer);\n  this.once(\"error\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.substr(0, protocol.length - 1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  this._currentUrl = url.format(this._options);\n\n  // Set up event handlers\n  request._redirectable = this;\n  for (var event in eventHandlers) {\n    /* istanbul ignore else */\n    if (event) {\n      request.on(event, eventHandlers[event]);\n    }\n  }\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end.\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n  var location = response.headers.location;\n  if (location && this._options.followRedirects !== false &&\n      statusCode >= 300 && statusCode < 400) {\n    // Abort the current request\n    this._currentRequest.removeAllListeners();\n    this._currentRequest.on(\"error\", noop);\n    this._currentRequest.abort();\n    // Discard the remainder of the response to avoid waiting for data\n    response.destroy();\n\n    // RFC7231§6.4: A client SHOULD detect and intervene\n    // in cyclical redirections (i.e., \"infinite\" redirection loops).\n    if (++this._redirectCount > this._options.maxRedirects) {\n      this.emit(\"error\", new TooManyRedirectsError());\n      return;\n    }\n\n    // RFC7231§6.4: Automatic redirection needs to done with\n    // care for methods not known to be safe, […]\n    // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n    // the request method from POST to GET for the subsequent request.\n    if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n        // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n        // the server is redirecting the user agent to a different resource […]\n        // A user agent can perform a retrieval request targeting that URI\n        // (a GET or HEAD request if using HTTP) […]\n        (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n      this._options.method = \"GET\";\n      // Drop a possible entity and headers related to it\n      this._requestBodyBuffers = [];\n      removeMatchingHeaders(/^content-/i, this._options.headers);\n    }\n\n    // Drop the Host header, as the redirect might lead to a different host\n    var previousHostName = removeMatchingHeaders(/^host$/i, this._options.headers) ||\n      url.parse(this._currentUrl).hostname;\n\n    // Create the redirected request\n    var redirectUrl = url.resolve(this._currentUrl, location);\n    debug(\"redirecting to\", redirectUrl);\n    this._isRedirect = true;\n    var redirectUrlParts = url.parse(redirectUrl);\n    Object.assign(this._options, redirectUrlParts);\n\n    // Drop the Authorization header if redirecting to another host\n    if (redirectUrlParts.hostname !== previousHostName) {\n      removeMatchingHeaders(/^authorization$/i, this._options.headers);\n    }\n\n    // Evaluate the beforeRedirect callback\n    if (typeof this._options.beforeRedirect === \"function\") {\n      var responseDetails = { headers: response.headers };\n      try {\n        this._options.beforeRedirect.call(null, this._options, responseDetails);\n      }\n      catch (err) {\n        this.emit(\"error\", err);\n        return;\n      }\n      this._sanitizeOptions(this._options);\n    }\n\n    // Perform the redirected request\n    try {\n      this._performRequest();\n    }\n    catch (cause) {\n      var error = new RedirectionError(\"Redirected request failed: \" + cause.message);\n      error.cause = cause;\n      this.emit(\"error\", error);\n    }\n  }\n  else {\n    // The response is not a redirect; return it as-is\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (typeof input === \"string\") {\n        var urlStr = input;\n        try {\n          input = urlToOptions(new URL(urlStr));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          input = url.parse(urlStr);\n        }\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (typeof options === \"function\") {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return lastValue;\n}\n\nfunction createErrorType(code, defaultMessage) {\n  function CustomError(message) {\n    Error.captureStackTrace(this, this.constructor);\n    this.message = message || defaultMessage;\n  }\n  CustomError.prototype = new Error();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  CustomError.prototype.code = code;\n  return CustomError;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","import crypto from 'crypto';\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  return crypto.randomFillSync(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  const i = offset || 0;\n  const bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || [];\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  const bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    const off = buf && offset || 0;\n    if (typeof value === 'string') value = stringToBytes(value);\n    if (typeof namespace === 'string') namespace = uuidToBytes(namespace);\n\n    if (!Array.isArray(value)) {\n      throw TypeError('value must be an array of bytes');\n    }\n\n    if (!Array.isArray(namespace) || namespace.length !== 16) {\n      throw TypeError('namespace must be uuid string or an Array of 16 byte values');\n    } // Per 4.3\n\n\n    const bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (let idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    const start = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { GitHubAuthenticationProvider, AuthProviderType } from './github';\nimport TelemetryReporter from 'vscode-extension-telemetry';\nimport { createExperimentationService, ExperimentationTelemetry } from './experimentationService';\n\nexport async function activate(context: vscode.ExtensionContext) {\n\tconst { name, version, aiKey } = require('../package.json') as { name: string, version: string, aiKey: string };\n\tconst telemetryReporter = new ExperimentationTelemetry(new TelemetryReporter(name, version, aiKey));\n\n\tconst experimentationService = await createExperimentationService(context, telemetryReporter);\n\tawait experimentationService.initialFetch;\n\n\t[\n\t\tAuthProviderType.github,\n\t\tAuthProviderType['github-enterprise']\n\t].forEach(async type => {\n\t\tconst loginService = new GitHubAuthenticationProvider(context, type, telemetryReporter);\n\t\tawait loginService.initialize();\n\t});\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() { }\n",null,"module.exports = require(\"keytar\");",null,"import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parse_url(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parse_url(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parse_url(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        if (vscode.env.onDidChangeTelemetryEnabled !== undefined) {\r\n            this.optOutListener = vscode.env.onDidChangeTelemetryEnabled(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n        else {\r\n            this.optOutListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        // Newer versions of vscode api have telemetry enablement exposed, but fallback to setting for older versions\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        var newOptInValue = vscode.env.isTelemetryEnabled === undefined ?\r\n            config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true) :\r\n            vscode.env.isTelemetryEnabled;\r\n        if (this.userOptIn !== newOptInValue) {\r\n            this.userOptIn = newOptInValue;\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            commonProperties['common.isnewappinstall'] = vscode.env.isNewAppInstall;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.optOutListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","module.exports = require(\"@opentelemetry/tracing\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"console\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 79;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 80;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","module.exports = require(\"events\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","module.exports = require(\"async_hooks\");","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","module.exports = require(\"net\");","module.exports = require(\"dns\");","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","module.exports = require(\"applicationinsights-native-metrics\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport TelemetryReporter from 'vscode-extension-telemetry';\nimport { getExperimentationService, IExperimentationService, IExperimentationTelemetry, TargetPopulation } from 'vscode-tas-client';\n\nexport class ExperimentationTelemetry implements IExperimentationTelemetry {\n\tprivate sharedProperties: Record<string, string> = {};\n\n\tconstructor(private baseReporter: TelemetryReporter) { }\n\n\tsendTelemetryEvent(eventName: string, properties?: Record<string, string>, measurements?: Record<string, number>) {\n\t\tthis.baseReporter.sendTelemetryEvent(\n\t\t\teventName,\n\t\t\t{\n\t\t\t\t...this.sharedProperties,\n\t\t\t\t...properties,\n\t\t\t},\n\t\t\tmeasurements,\n\t\t);\n\t}\n\n\tsendTelemetryErrorEvent(\n\t\teventName: string,\n\t\tproperties?: Record<string, string>,\n\t\t_measurements?: Record<string, number>,\n\t) {\n\t\tthis.baseReporter.sendTelemetryErrorEvent(eventName, {\n\t\t\t...this.sharedProperties,\n\t\t\t...properties,\n\t\t});\n\t}\n\n\tsetSharedProperty(name: string, value: string): void {\n\t\tthis.sharedProperties[name] = value;\n\t}\n\n\tpostEvent(eventName: string, props: Map<string, string>): void {\n\t\tconst event: Record<string, string> = {};\n\t\tfor (const [key, value] of props) {\n\t\t\tevent[key] = value;\n\t\t}\n\t\tthis.sendTelemetryEvent(eventName, event);\n\t}\n\n\tdispose(): Promise<any> {\n\t\treturn this.baseReporter.dispose();\n\t}\n}\n\nfunction getTargetPopulation(): TargetPopulation {\n\tswitch (vscode.env.uriScheme) {\n\t\tcase 'vscode':\n\t\t\treturn TargetPopulation.Public;\n\t\tcase 'vscode-insiders':\n\t\t\treturn TargetPopulation.Insiders;\n\t\tcase 'vscode-exploration':\n\t\t\treturn TargetPopulation.Internal;\n\t\tcase 'code-oss':\n\t\t\treturn TargetPopulation.Team;\n\t\tdefault:\n\t\t\treturn TargetPopulation.Public;\n\t}\n}\n\nexport async function createExperimentationService(context: vscode.ExtensionContext, telemetry: ExperimentationTelemetry): Promise<IExperimentationService> {\n\tconst id = context.extension.id;\n\tconst version = context.extension.packageJSON.version;\n\treturn getExperimentationService(id, version, getTargetPopulation(), telemetry, context.globalState);\n}\n","\"use strict\";\n//\n//  Copyright (c) Microsoft Corporation. All rights reserved.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VSCodeTasClient_1 = require(\"./vscode-tas-client/VSCodeTasClient\");\nexports.getExperimentationService = VSCodeTasClient_1.getExperimentationService;\nexports.getExperimentationServiceAsync = VSCodeTasClient_1.getExperimentationServiceAsync;\nvar VSCodeFilterProvider_1 = require(\"./vscode-tas-client/VSCodeFilterProvider\");\nexports.TargetPopulation = VSCodeFilterProvider_1.TargetPopulation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst VSCodeFilterProvider_1 = require(\"./VSCodeFilterProvider\");\nconst tas_client_1 = require(\"tas-client\");\nconst vscode = require(\"vscode\");\nconst MementoKeyValueStorage_1 = require(\"./MementoKeyValueStorage\");\nconst TelemetryDisabledExperimentationService_1 = require(\"./TelemetryDisabledExperimentationService\");\nconst endpoint = 'https://default.exp-tas.com/vscode/ab';\nconst telemetryEventName = 'query-expfeature';\nconst featuresTelemetryPropertyName = 'VSCode.ABExp.Features';\nconst assignmentContextTelemetryPropertyName = 'abexp.assignmentcontext';\nconst storageKey = 'VSCode.ABExp.FeatureData';\nconst refetchInterval = 1000 * 60 * 30; // By default it's set up to 30 minutes.\n/**\n *\n * @param extensionName The name of the extension.\n * @param extensionVersion The version of the extension.\n * @param telemetry Telemetry implementation.\n * @param targetPopulation An enum containing the target population ('team', 'internal', 'insiders', 'public').\n * @param memento The memento state to be used for cache.\n * @param filterProviders The filter providers.\n */\nfunction getExperimentationService(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders) {\n    if (!memento) {\n        throw new Error('Memento storage was not provided.');\n    }\n    const config = vscode.workspace.getConfiguration('telemetry');\n    const telemetryEnabled = vscode.env.isTelemetryEnabled === undefined\n        ? config.get('enableTelemetry', true)\n        : vscode.env.isTelemetryEnabled;\n    if (!telemetryEnabled) {\n        return new TelemetryDisabledExperimentationService_1.default();\n    }\n    const extensionFilterProvider = new VSCodeFilterProvider_1.VSCodeFilterProvider(extensionName, extensionVersion, targetPopulation);\n    const providerList = [extensionFilterProvider, ...filterProviders];\n    const keyValueStorage = new MementoKeyValueStorage_1.MementoKeyValueStorage(memento);\n    return new tas_client_1.ExperimentationService({\n        filterProviders: providerList,\n        telemetry: telemetry,\n        storageKey: storageKey,\n        keyValueStorage: keyValueStorage,\n        featuresTelemetryPropertyName: featuresTelemetryPropertyName,\n        assignmentContextTelemetryPropertyName: assignmentContextTelemetryPropertyName,\n        telemetryEventName: telemetryEventName,\n        endpoint: endpoint,\n        refetchInterval: refetchInterval,\n    });\n}\nexports.getExperimentationService = getExperimentationService;\n/**\n * Returns the experimentation service after waiting on initialize.\n *\n * @param extensionName The name of the extension.\n * @param extensionVersion The version of the extension.\n * @param telemetry Telemetry implementation.\n * @param targetPopulation An enum containing the target population ('team', 'internal', 'insiders', 'public').\n * @param memento The memento state to be used for cache.\n * @param filterProviders The filter providers.\n */\nasync function getExperimentationServiceAsync(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders) {\n    const experimentationService = getExperimentationService(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders);\n    await experimentationService.initializePromise;\n    return experimentationService;\n}\nexports.getExperimentationServiceAsync = getExperimentationServiceAsync;\n//# sourceMappingURL=VSCodeTasClient.js.map","\"use strict\";\n//\n//  Copyright (c) Microsoft Corporation. All rights reserved.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExperimentationService_1 = require(\"./tas-client/ExperimentationService\");\nexports.ExperimentationService = ExperimentationService_1.ExperimentationService;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst TasApiFeatureProvider_1 = require(\"./FeatureProvider/TasApiFeatureProvider\");\nconst AxiosHttpClient_1 = require(\"./Util/AxiosHttpClient\");\nconst ExperimentationServiceAutoPolling_1 = require(\"./ExperimentationServiceAutoPolling\");\n/**\n * Experimentation service to provide functionality of A/B experiments:\n * - reading flights;\n * - caching current set of flights;\n * - get answer on if flights are enabled.\n */\nclass ExperimentationService extends ExperimentationServiceAutoPolling_1.ExperimentationServiceAutoPolling {\n    constructor(options) {\n        super(options.telemetry, options.filterProviders || [], // Defaulted to empty array.\n        options.refetchInterval != null\n            ? options.refetchInterval\n            : // If no fetch interval is provided, refetch functionality is turned off.\n                0, options.featuresTelemetryPropertyName, options.assignmentContextTelemetryPropertyName, options.telemetryEventName, options.storageKey, options.keyValueStorage);\n        this.options = options;\n        this.invokeInit();\n    }\n    init() {\n        // set feature providers to be an empty array.\n        this.featureProviders = [];\n        // Add WebApi feature provider.\n        this.addFeatureProvider(new TasApiFeatureProvider_1.TasApiFeatureProvider(new AxiosHttpClient_1.AxiosHttpClient(this.options.endpoint), this.telemetry, this.filterProviders));\n        // This will start polling the TAS.\n        super.init();\n    }\n}\nexports.ExperimentationService = ExperimentationService;\nExperimentationService.REFRESH_RATE_IN_MINUTES = 30;\n//# sourceMappingURL=ExperimentationService.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst FilteredFeatureProvider_1 = require(\"./FilteredFeatureProvider\");\n/**\n * Feature provider implementation that calls the TAS web service to get the most recent active features.\n */\nclass TasApiFeatureProvider extends FilteredFeatureProvider_1.FilteredFeatureProvider {\n    constructor(httpClient, telemetry, filterProviders) {\n        super(telemetry, filterProviders);\n        this.httpClient = httpClient;\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n    }\n    /**\n     * Method that handles fetching of latest data (in this case, flights) from the provider.\n     */\n    async fetch() {\n        // We get the filters that will be sent as headers.\n        let filters = this.getFilters();\n        let headers = {};\n        // Filters are handled using Map<string,any> therefore we need to\n        // convert these filters into something axios can take as headers.\n        for (let key of filters.keys()) {\n            const filterValue = filters.get(key);\n            headers[key] = filterValue;\n        }\n        //axios webservice call.\n        let response = await this.httpClient.get({ headers: headers });\n        // If we have at least one filter, we post it to telemetry event.\n        if (filters.keys.length > 0) {\n            this.PostEventToTelemetry(headers);\n        }\n        // Read the response data from the server.\n        let responseData = response.data;\n        let configs = responseData.Configs;\n        let features = [];\n        for (let c of configs) {\n            if (!c.Parameters) {\n                continue;\n            }\n            for (let key of Object.keys(c.Parameters)) {\n                const featureName = key + (c.Parameters[key] ? '' : 'cf');\n                if (!features.includes(featureName)) {\n                    features.push(featureName);\n                }\n            }\n        }\n        return {\n            features,\n            assignmentContext: responseData.AssignmentContext,\n            configs\n        };\n    }\n}\nexports.TasApiFeatureProvider = TasApiFeatureProvider;\n//# sourceMappingURL=TasApiFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BaseFeatureProvider_1 = require(\"./BaseFeatureProvider\");\n/**\n * Feature provider implementation that handles filters.\n */\nclass FilteredFeatureProvider extends BaseFeatureProvider_1.BaseFeatureProvider {\n    constructor(telemetry, filterProviders) {\n        super(telemetry);\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n        this.cachedTelemetryEvents = [];\n    }\n    getFilters() {\n        // We get the filters that will be sent as headers.\n        let filters = new Map();\n        for (let filter of this.filterProviders) {\n            let filterHeaders = filter.getFilters();\n            for (let key of filterHeaders.keys()) {\n                // Headers can be overridden by custom filters.\n                // That's why a check isn't done to see if the header already exists, the value is just set.\n                let filterValue = filterHeaders.get(key);\n                filters.set(key, filterValue);\n            }\n        }\n        return filters;\n    }\n    PostEventToTelemetry(headers) {\n        /**\n         * If these headers have already been posted, we skip from posting them again..\n         */\n        if (this.cachedTelemetryEvents.includes(headers)) {\n            return;\n        }\n        const jsonHeaders = JSON.stringify(headers);\n        this.telemetry.postEvent('report-headers', new Map([['ABExp.headers', jsonHeaders]]));\n        /**\n         * We cache the flight so we don't post it again.\n         */\n        this.cachedTelemetryEvents.push(headers);\n    }\n}\nexports.FilteredFeatureProvider = FilteredFeatureProvider;\n//# sourceMappingURL=FilteredFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Abstract class for Feature Provider Implementation.\n */\nclass BaseFeatureProvider {\n    /**\n     * @param telemetry The telemetry implementation.\n     */\n    constructor(telemetry) {\n        this.telemetry = telemetry;\n        this.isFetching = false;\n    }\n    /**\n     * Method that wraps the fetch method in order to re-use the fetch promise if needed.\n     * @param headers The headers to be used on the fetch method.\n     */\n    async getFeatures() {\n        if (this.isFetching && this.fetchPromise) {\n            return this.fetchPromise;\n        }\n        this.fetchPromise = this.fetch();\n        let features = await this.fetchPromise;\n        this.isFetching = false;\n        this.fetchPromise = undefined;\n        return features;\n    }\n}\nexports.BaseFeatureProvider = BaseFeatureProvider;\n//# sourceMappingURL=BaseFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst axios_1 = require(\"axios\");\nclass AxiosHttpClient {\n    constructor(endpoint) {\n        this.endpoint = endpoint;\n    }\n    get(config) {\n        return axios_1.default.get(this.endpoint, Object.assign(Object.assign({}, config), { proxy: false }));\n    }\n}\nexports.AxiosHttpClient = AxiosHttpClient;\n//# sourceMappingURL=AxiosHttpClient.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // Only set header if it hasn't been set in config\n    // See https://github.com/axios/axios/issues/69\n    if (!headers['User-Agent'] && !headers['user-agent']) {\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(config.timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","module.exports = require(\"tty\");","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ExperimentationServiceBase_1 = require(\"./ExperimentationServiceBase\");\nconst PollingService_1 = require(\"./Util/PollingService\");\n/**\n * Implementation of Feature provider that provides a polling feature, where the source can be re-fetched every x time given.\n */\nclass ExperimentationServiceAutoPolling extends ExperimentationServiceBase_1.ExperimentationServiceBase {\n    constructor(telemetry, filterProviders, refreshRateMs, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage) {\n        super(telemetry, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage);\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n        this.refreshRateMs = refreshRateMs;\n        this.featuresTelemetryPropertyName = featuresTelemetryPropertyName;\n        this.assignmentContextTelemetryPropertyName = assignmentContextTelemetryPropertyName;\n        this.telemetryEventName = telemetryEventName;\n        this.storageKey = storageKey;\n        this.storage = storage;\n        // Excluding 0 since it allows to turn off the auto polling.\n        if (refreshRateMs < 1000 && refreshRateMs !== 0) {\n            throw new Error('The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.');\n        }\n        if (refreshRateMs > 0) {\n            this.pollingService = new PollingService_1.PollingService(refreshRateMs);\n            this.pollingService.OnPollTick(async () => {\n                await super.getFeaturesAsync();\n            });\n        }\n    }\n    init() {\n        if (this.pollingService) {\n            this.pollingService.StartPolling(true);\n        }\n        else {\n            super.getFeaturesAsync();\n        }\n    }\n    /**\n     * Wrapper that will reset the polling intervals whenever the feature data is fetched manually.\n     */\n    async getFeaturesAsync(overrideInMemoryFeatures = false) {\n        if (!this.pollingService) {\n            return await super.getFeaturesAsync(overrideInMemoryFeatures);\n        }\n        else {\n            this.pollingService.StopPolling();\n            let result = await super.getFeaturesAsync(overrideInMemoryFeatures);\n            this.pollingService.StartPolling();\n            return result;\n        }\n    }\n}\nexports.ExperimentationServiceAutoPolling = ExperimentationServiceAutoPolling;\n//# sourceMappingURL=ExperimentationServiceAutoPolling.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst MemoryKeyValueStorage_1 = require(\"./Util/MemoryKeyValueStorage\");\n/**\n * Experimentation service to provide functionality of A/B experiments:\n * - reading flights;\n * - caching current set of flights;\n * - get answer on if flights are enabled.\n */\nclass ExperimentationServiceBase {\n    constructor(telemetry, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage) {\n        this.telemetry = telemetry;\n        this.featuresTelemetryPropertyName = featuresTelemetryPropertyName;\n        this.assignmentContextTelemetryPropertyName = assignmentContextTelemetryPropertyName;\n        this.telemetryEventName = telemetryEventName;\n        this.storageKey = storageKey;\n        this.storage = storage;\n        this.featuresConsumed = false;\n        this.cachedTelemetryEvents = [];\n        this._features = {\n            features: [],\n            assignmentContext: '',\n            configs: []\n        };\n        if (!this.storageKey) {\n            this.storageKey = 'ABExp.Features';\n        }\n        if (!this.storage) {\n            storage = new MemoryKeyValueStorage_1.MemoryKeyValueStorage();\n        }\n        this.loadCachePromise = this.loadCachedFeatureData();\n        this.initializePromise = this.loadCachePromise;\n        this.initialFetch = new Promise((resolve, reject) => {\n            this.resolveInitialFetchPromise = resolve;\n        });\n    }\n    get features() {\n        return this._features;\n    }\n    set features(value) {\n        this._features = value;\n        /**\n         * If an implementation of telemetry exists, we set the shared property.\n         */\n        if (this.telemetry) {\n            this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName, this.features.features.join(';'));\n            this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName, this.features.assignmentContext);\n        }\n    }\n    /**\n     * Gets all the features from the provider sources (not cache).\n     * It returns these features and will also update the providers to have the latest features cached.\n     */\n    async getFeaturesAsync(overrideInMemoryFeatures = false) {\n        /**\n         * If there's already a fetching promise, there's no need to call it again.\n         * We return that as result.\n         */\n        if (this.fetchPromise != null) {\n            try {\n                await this.fetchPromise;\n            }\n            catch (_a) {\n                // Fetching features threw. Can happen if not connected to the internet, e.g\n            }\n            return this.features;\n        }\n        if (!this.featureProviders || this.featureProviders.length === 0) {\n            return Promise.resolve({\n                features: [],\n                assignmentContext: '',\n                configs: []\n            });\n        }\n        /**\n         * Fetch all from providers.\n         */\n        this.fetchPromise = Promise.all(this.featureProviders.map(async (provider) => {\n            return await provider.getFeatures();\n        }));\n        try {\n            const featureResults = await this.fetchPromise;\n            this.updateFeatures(featureResults, overrideInMemoryFeatures);\n        }\n        catch (_b) {\n            // Fetching features threw. Can happen if not connected to the internet, e.g.\n        }\n        this.fetchPromise = undefined;\n        if (this.resolveInitialFetchPromise) {\n            this.resolveInitialFetchPromise();\n            this.resolveInitialFetchPromise = undefined;\n        }\n        /**\n         * At this point all features have been re-fetched and cache has been updated.\n         * We return the cached features.\n         */\n        return this.features;\n    }\n    /**\n     *\n     * @param featureResults The feature results obtained from all the feature providers.\n     */\n    updateFeatures(featureResults, overrideInMemoryFeatures = false) {\n        /**\n         * if features comes as a null value, that is taken as if there aren't any features active,\n         * so an empty array is defaulted.\n         */\n        let features = {\n            features: [],\n            assignmentContext: '',\n            configs: []\n        };\n        for (let result of featureResults) {\n            for (let feature of result.features) {\n                if (!features.features.includes(feature)) {\n                    features.features.push(feature);\n                }\n            }\n            for (let config of result.configs) {\n                const existingConfig = features.configs.find(c => c.Id === config.Id);\n                if (existingConfig) {\n                    existingConfig.Parameters = Object.assign(Object.assign({}, existingConfig.Parameters), config.Parameters);\n                }\n                else {\n                    features.configs.push(config);\n                }\n            }\n            features.assignmentContext += result.assignmentContext;\n        }\n        /**\n         * Set the obtained feature values to the global features variable. This stores them in memory.\n         */\n        if (overrideInMemoryFeatures || !this.featuresConsumed) {\n            this.features = features;\n        }\n        /**\n         * If we have storage, we cache the latest results into the storage.\n         */\n        if (this.storage) {\n            this.storage.setValue(this.storageKey, features);\n        }\n    }\n    async loadCachedFeatureData() {\n        let cachedFeatureData;\n        if (this.storage) {\n            cachedFeatureData = await this.storage.getValue(this.storageKey);\n            // When updating from an older version of tas-client, configs may be undefined \n            if (cachedFeatureData !== undefined && cachedFeatureData.configs === undefined) {\n                cachedFeatureData.configs = [];\n            }\n        }\n        if (this.features.features.length === 0) {\n            this.features = cachedFeatureData || { features: [], assignmentContext: '', configs: [] };\n        }\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It uses the in-memory cache.\n     * @param flight The flight to check.\n     */\n    isFlightEnabled(flight) {\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return this.features.features.includes(flight);\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It uses the values currently on cache.\n     * @param flight The flight to check.\n     */\n    async isCachedFlightEnabled(flight) {\n        await this.loadCachePromise;\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return this.features.features.includes(flight);\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It re-fetches values from the server.\n     * @param flight the flight to check.\n     */\n    async isFlightEnabledAsync(flight) {\n        const features = await this.getFeaturesAsync(true);\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return features.features.includes(flight);\n    }\n    /**\n     * Returns the value of the treatment variable, or undefined if not found.\n     * It uses the values currently in memory, so the experimentation service\n     * must be initialized before calling.\n     * @param config name of the config to check.\n     * @param name name of the treatment variable.\n     */\n    getTreatmentVariable(configId, name) {\n        var _a;\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(`${configId}.${name}`);\n        const config = this.features.configs.find(c => c.Id === configId);\n        return (_a = config) === null || _a === void 0 ? void 0 : _a.Parameters[name];\n    }\n    /**\n     * Returns the value of the treatment variable, or undefined if not found.\n     * It re-fetches values from the server. If checkCache is set to true and the value exists\n     * in the cache, the Treatment Assignment Service is not called.\n     * @param config name of the config to check.\n     * @param name name of the treatment variable.\n     * @param checkCache check the cache for the variable before calling the TAS.\n     */\n    async getTreatmentVariableAsync(configId, name, checkCache) {\n        if (checkCache) {\n            const _featuresConsumed = this.featuresConsumed;\n            const cachedValue = this.getTreatmentVariable(configId, name);\n            if (cachedValue === undefined) {\n                this.featuresConsumed = _featuresConsumed;\n            }\n            else {\n                return cachedValue;\n            }\n        }\n        await this.getFeaturesAsync(true);\n        return this.getTreatmentVariable(configId, name);\n    }\n    PostEventToTelemetry(flight) {\n        /**\n         * If this event has already been posted, we omit from posting it again.\n         */\n        if (this.cachedTelemetryEvents.includes(flight)) {\n            return;\n        }\n        this.telemetry.postEvent(this.telemetryEventName, new Map([['ABExp.queriedFeature', flight]]));\n        /**\n         * We cache the flight so we don't post it again.\n         */\n        this.cachedTelemetryEvents.push(flight);\n    }\n    invokeInit() {\n        this.init();\n    }\n    addFeatureProvider(...providers) {\n        if (providers == null || this.featureProviders == null) {\n            return;\n        }\n        for (let provider of providers) {\n            this.featureProviders.push(provider);\n        }\n    }\n}\nexports.ExperimentationServiceBase = ExperimentationServiceBase;\n//# sourceMappingURL=ExperimentationServiceBase.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MemoryKeyValueStorage {\n    constructor() {\n        this.storage = new Map();\n    }\n    async getValue(key, defaultValue) {\n        if (this.storage.has(key)) {\n            return await Promise.resolve(this.storage.get(key));\n        }\n        return await Promise.resolve(defaultValue || undefined);\n    }\n    setValue(key, value) {\n        this.storage.set(key, value);\n    }\n}\nexports.MemoryKeyValueStorage = MemoryKeyValueStorage;\n//# sourceMappingURL=MemoryKeyValueStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass PollingService {\n    constructor(fetchInterval) {\n        this.fetchInterval = fetchInterval;\n    }\n    StopPolling() {\n        clearInterval(this.intervalHandle);\n        this.intervalHandle = undefined;\n    }\n    OnPollTick(callback) {\n        this.onTick = callback;\n    }\n    StartPolling(pollImmediately = false) {\n        if (this.intervalHandle) {\n            this.StopPolling();\n        }\n        // If there's no callback, there's no point to start polling.\n        if (this.onTick == null) {\n            return;\n        }\n        if (pollImmediately) {\n            this.onTick().then(() => { return; }).catch(() => { return; });\n        }\n        /**\n         * Set the interval to start running.\n         */\n        this.intervalHandle = setInterval(async () => {\n            await this.onTick();\n        }, this.fetchInterval);\n        if (this.intervalHandle.unref) { // unref is only available in Node, not the web\n            this.intervalHandle.unref(); // unref is used to avoid keeping node.js alive only because of these timeouts.\n        }\n    }\n}\nexports.PollingService = PollingService;\n//# sourceMappingURL=PollingService.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MementoKeyValueStorage {\n    constructor(mementoGlobalStorage) {\n        this.mementoGlobalStorage = mementoGlobalStorage;\n    }\n    async getValue(key, defaultValue) {\n        const value = await this.mementoGlobalStorage.get(key);\n        return value || defaultValue;\n    }\n    setValue(key, value) {\n        this.mementoGlobalStorage.update(key, value);\n    }\n}\nexports.MementoKeyValueStorage = MementoKeyValueStorage;\n//# sourceMappingURL=MementoKeyValueStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TelemetryDisabledExperimentationService {\n    constructor() {\n        this.initializePromise = Promise.resolve();\n        this.initialFetch = Promise.resolve();\n    }\n    isFlightEnabled(flight) {\n        return false;\n    }\n    isCachedFlightEnabled(flight) {\n        return Promise.resolve(false);\n    }\n    isFlightEnabledAsync(flight) {\n        return Promise.resolve(false);\n    }\n    getTreatmentVariable(configId, name) {\n        return undefined;\n    }\n    getTreatmentVariableAsync(configId, name) {\n        return Promise.resolve(undefined);\n    }\n}\nexports.default = TelemetryDisabledExperimentationService;\n//# sourceMappingURL=TelemetryDisabledExperimentationService.js.map"],"sourceRoot":""}