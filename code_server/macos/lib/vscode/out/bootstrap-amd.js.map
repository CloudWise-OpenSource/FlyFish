{"version":3,"sources":["out-vscode/bootstrap-amd.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n//@ts-check\n'use strict';\n\nconst loader = require('./vs/loader');\nconst bootstrap = require('./bootstrap');\nconst performance = require('./vs/base/common/performance');\n\n// Bootstrap: NLS\nconst nlsConfig = bootstrap.setupNLS();\n\n// Bootstrap: Loader\nloader.config({\n\tbaseUrl: bootstrap.fileUriFromPath(__dirname, { isWindows: process.platform === 'win32' }),\n\tcatchError: true,\n\tnodeRequire: require,\n\tnodeMain: __filename,\n\t'vs/nls': nlsConfig,\n\tamdModulesPattern: /^vs\\//,\n\trecordStats: true\n});\n\n// Running in Electron\nif (process.env['ELECTRON_RUN_AS_NODE'] || process.versions['electron']) {\n\tloader.define('fs', ['original-fs'], function (originalFS) {\n\t\treturn originalFS;  // replace the patched electron fs with the original node fs for all AMD code\n\t});\n}\n\n// Pseudo NLS support\nif (nlsConfig && nlsConfig.pseudo) {\n\tloader(['vs/nls'], function (nlsPlugin) {\n\t\tnlsPlugin.setPseudoTranslation(nlsConfig.pseudo);\n\t});\n}\n\nexports.load = function (entrypoint, onLoad, onError) {\n\tif (!entrypoint) {\n\t\treturn;\n\t}\n\n\t// cached data config\n\tif (process.env['VSCODE_NODE_CACHED_DATA_DIR']) {\n\t\tloader.config({\n\t\t\tnodeCachedData: {\n\t\t\t\tpath: process.env['VSCODE_NODE_CACHED_DATA_DIR'],\n\t\t\t\tseed: entrypoint\n\t\t\t}\n\t\t});\n\t}\n\n\tonLoad = onLoad || function () { };\n\tonError = onError || function (err) { console.error(err); };\n\n\tperformance.mark(`code/fork/willLoadCode`);\n\tloader([entrypoint], onLoad, onError);\n};\n"],"mappings":"aAQA,KAAM,QAAS,QAAQ,eACjB,UAAY,QAAQ,eACpB,YAAc,QAAQ,gCAGtB,UAAY,UAAU,WAG5B,OAAO,OAAO,CACb,QAAS,UAAU,gBAAgB,UAAW,CAAE,UAAW,QAAQ,WAAa,UAChF,WAAY,GACZ,YAAa,QACb,SAAU,WACV,SAAU,UACV,kBAAmB,QACnB,YAAa,KAIV,SAAQ,IAAI,sBAA2B,QAAQ,SAAS,WAC3D,OAAO,OAAO,KAAM,CAAC,eAAgB,SAAU,GAC9C,MAAO,KAKL,WAAa,UAAU,QAC1B,OAAO,CAAC,UAAW,SAAU,GAC5B,EAAU,qBAAqB,UAAU,UAI3C,QAAQ,KAAO,SAAU,EAAY,EAAQ,GAC5C,AAAI,CAAC,GAKD,SAAQ,IAAI,6BACf,OAAO,OAAO,CACb,eAAgB,CACf,KAAM,QAAQ,IAAI,4BAClB,KAAM,KAKT,EAAS,GAAU,aACnB,EAAU,GAAW,SAAU,GAAO,QAAQ,MAAM,IAEpD,YAAY,KAAK,0BACjB,OAAO,CAAC,GAAa,EAAQ","names":[],"file":"bootstrap-amd.js"}