(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1009:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var t=n(14),o=n(23),t=t.a.request,s=t.postJSON,a=t.get,r=function(e,t,n,a,r){return s(o.a.registry,{user_name:e,user_email:t,user_password:n,key:a,captcha:r})},i=function(){return a(o.a.getCaptcha)}},877:function(e,o,s){"use strict";s.r(o),function(e){var t=s(229),n=s(956),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=Object(t.b)(function(e,t){return a({screenListReducer:e.screenListReducer},t)})(n.a);o.default=function(){return e.createElement(r,null)}}.call(this,s(1))},956:function(e,f,m){"use strict";!function(e){m.d(f,"a",function(){return p});m(115);var n=m(38),t=m(878),a=m.n(t),r=m(0),o=m.n(r),t=m(1),c=m(14),u=m(21),l=m(1009),r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=m(957),p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,t.PureComponent),r(h,[{key:"componentDidMount",value:function(){this.getCaptcha()}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:a.a.login},e.createElement("div",{className:a.a.login_box},e.createElement("div",{className:a.a.login_box_left},e.createElement("div",{className:a.a.login_top},"用户注册"),e.createElement("input",{type:"text",value:this.state.user_name,className:a.a.login_email,onChange:function(e){return t.setState({user_name:e.target.value.trim()})},placeholder:"用户名",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"text",value:this.state.user_email,className:a.a.login_email,onChange:function(e){return t.setState({user_email:e.target.value.trim()})},placeholder:"邮箱",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"password",value:this.state.user_password,className:a.a.login_password,onChange:function(e){return t.setState({user_password:e.target.value.trim()})},placeholder:"密码",onKeyDown:this.onEnterDown}),e.createElement("input",{type:"password",value:this.state.re_user_password,className:a.a.login_password,onChange:function(e){return t.setState({re_user_password:e.target.value.trim()})},placeholder:"再次输入密码",onKeyDown:this.onEnterDown}),e.createElement("div",{className:a.a.captcha_box},e.createElement("input",{type:"text",value:this.state.captcha,className:a.a.captcha,onChange:function(e){return t.setState({captcha:e.target.value.trim()})},placeholder:"验证码",onKeyDown:this.onEnterDown}),e.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.captcha_svg},onClick:this.getCaptcha})),e.createElement(n.a,{className:a.a.btn_login,loading:!!this.state.loading&&{delay:300},onClick:this.onSubmit},"注  册")),e.createElement("img",{src:i,className:a.a.img_right,alt:"login-right"})))}}]),(r=h).contextTypes={store:o.a.object.isRequired,router:o.a.object.isRequired},r);function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return i.onEnterDown=function(e){return 13===e.keyCode?i.onSubmit():null},i.onSubmit=function(){var e=i.state,t=e.user_name,n=e.user_email,a=e.user_password,r=e.re_user_password,o=e.key,s=e.captcha;if(a.trim()!==r.trim())return c.a.prompt.error("两次密码输入不一致");i.setState({loading:!0},function(){Object(l.b)(t,n,a,o,s).then(function(e){i.setState({loading:!1},function(){c.a.auth.setLoginInfo(e.data),window.location.href=u.a.dVisual_bigScreen})},function(e){i.setState({loading:!1}),c.a.prompt.error(e.msg)})})},i.getCaptcha=function(){Object(l.a)().then(function(e){i.setState({key:e.data.key,captcha_svg:e.data.captcha.replace("\\","")})},function(e){c.a.prompt.error(e.msg)})},i.state={user_name:"",user_email:"",user_password:"",re_user_password:"",key:"",captcha:"",captcha_svg:"",loading:!1},i}}.call(this,m(1))},957:function(e,t,n){e.exports=n.p+"b052a49c2e750de1b08c1a244a161d6d.png"}}]);