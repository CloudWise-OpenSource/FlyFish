(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{910:function(e,i,o){"use strict";o.r(i),function(e){var t=o(229),n=o(994),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=Object(t.b)(function(e,t){return r({},t,{screenListReducer:e.screenListReducer})})(n.a);i.default=function(){return e.createElement(a,null)}}.call(this,o(1))},939:function(e,t,n){"use strict";n.d(t,"k",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"g",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"j",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"e",function(){return S});var r=n(174),a=n(14),c=n(23),n=a.a.request,i=n.get,o=n.del,l=n.upload,u=n.post,s=n.put,d=n.download,f=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t){t({type:r.b}),function(e){return i(c.a.dvScreen_getPageList,{page:e,search:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})}(e,n).then(function(e){t({type:r.c,screenList:e.data})},function(e){a.a.prompt.error(e.msg)})}},p=function(e){return o(c.a.dvScreen_delete,{screen_ids:e})},m=function(e){return s(c.a.dvScreen_unlock,{screen_id:e})},g=function(e){return{type:r.a,screen_ids:e}},h=function(e){return i(c.a.dvScreen_getDetail,{screen_id:e})},v=function(e,t,n,r,a,i){return l(c.a.dvScreen_add,{name:e,cover:t,url:n,tag_id:r,logo:a,status:i})},y=function(e,t,n,r,a,i,o){return l(c.a.dvScreen_update,{screen_id:e,name:t,cover:n,url:r,tag_id:a,logo:i,status:o})},b=function(e,t,n,r,a,i,o){return l(c.a.dvScreen_copy,{screen_id:e,name:t,cover:n,url:r,tag_id:a,logo:i,status:o})},_=function(e){return i(c.a.dvScreen_getDelPageList,{page:e})},E=function(e){return u(c.a.dvScreen_undoDelete,{screen_ids:e})},S=function(e){return d(c.a.dvScreen_downloadScreen,{screen_id:e},{responseType:"blob"})}},944:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={developing:{label:"开发中",value:0},testing:{label:"测试中",value:1},complete:{label:"已交付",value:2}}},994:function(e,A,M){"use strict";!function(c){M.d(A,"a",function(){return P});M(911);var l=M(932),u=(M(912),M(931)),s=(M(184),M(101)),i=(M(513),M(242)),a=(M(115),M(38)),o=(M(230),M(232)),d=(M(183),M(68)),f=(M(234),M(9)),p=(M(238),M(156)),e=M(913),m=M.n(e),t=M(995),g=M.n(t),n=M(0),r=M.n(n),h=M(14),v=M(858),y=M(996),e=M(1),b=M(231),_=M(939),E=M(997),S=M(944),O=M(866),w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t=function(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e};function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=h.a.decorator.contextTypes("store")((C(x,e["PureComponent"]),t(x,[{key:"componentDidMount",value:function(){this.getScreenList()}},{key:"getScreenList",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.search=Object.assign({},this.search,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})||{}),this.context.store.dispatch(Object(_.k)(e,this.search))}},{key:"delScreen",value:function(e,t){var n=this;e=Array.isArray(e)?e:[e];var r=h.a.auth.getLoginInfo()||{},a=r.user;r.isAdmin||t===a.user_id?h.a.prompt.confirm(function(){return Object(_.d)(e).then(function(){n.context.store.dispatch(Object(_.a)(e)),n.getScreenList(),h.a.prompt.success("删除成功")},function(e){h.a.prompt.error(e.msg)})},{title:"确定删除？（删除后可在已删除大屏列表还原）"}):h.a.prompt.error("只有管理员或者当前大屏创建者才能删除")}},{key:"downloadScreen",value:function(e){h.a.prompt.confirm(function(){return Object(_.e)(e).then(function(){},function(e){h.a.prompt.error(e.msg)})},{title:"确定下载大屏部署包？"})}},{key:"unlockScreen",value:function(e){var t=this;h.a.prompt.confirm(function(){return Object(_.i)(e).then(function(){t.getScreenList(),h.a.prompt.success("解锁成功")},function(e){h.a.prompt.error(e.msg)})},{title:"确定解锁大屏？"})}},{key:"render",value:function(){var n=this,e=this.props.screenListReducer,t=e.loading,r=e.screenList,a=(e.delScreenList,r.count),i=r.pageSize,e=r.currentPage,r=r.data;return c.createElement("div",{className:m.a["visual-big-screen"]},c.createElement(D,{historyDelScreenList:function(){return n.historyDelScreenList()},addOrEditOrCopyScreen:function(){return n.addOrEditOrCopyScreen("add")},getScreenList:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n.search=t,n.getScreenList(e,t)}}),c.createElement(q,{loading:t,data:r,addOrEditOrCopyScreen:function(e,t){return n.addOrEditOrCopyScreen(e,t)},delScreen:function(e,t){return n.delScreen(e,t)},downloadScreen:function(e){return n.downloadScreen(e)},unlockScreen:function(e){return n.unlockScreen(e)}}),c.createElement("div",{className:m.a["visual-big-screen-page"]},c.createElement(p.a,{current:e,pageSize:i||15,onChange:function(e){return n.getScreenList(e)},total:a})))}}]),n=x))||n;function x(e){L(this,x);var t=j(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,e));return t.addOrEditOrCopyScreen=function(e){return h.a.helper.renderModal(c.createElement(y.a,{screen_id:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,screen_title:e,create_user_id:e,getScreenList:function(){return t.getScreenList(1)}}))},t.historyDelScreenList=function(){return h.a.helper.renderModal(c.createElement(E.a,null))},t.search={},t}var D=h.a.decorator.propTypes({addOrEditOrCopyScreen:r.a.func.isRequired,getScreenList:r.a.func.isRequired,historyDelScreenList:r.a.func.isRequired})((C(R,e["PureComponent"]),t(R,[{key:"render",value:function(){var t=this,e=this.props,n=e.addOrEditOrCopyScreen,r=e.historyDelScreenList;return c.createElement(b.b,{title:"作品集",leftRender:[c.createElement("a",{key:3,title:"已删除大屏",onClick:function(){return r()}},c.createElement(f.a,{type:"delete",style:{marginLeft:10}}))],rightRender:[c.createElement(d.a,{key:4,placeholder:"请选择",value:this.state.status,onChange:function(e){t.setState({status:e},function(){return t.doSearch()})},style:{width:150}},c.createElement(d.a.Option,{value:"all",key:"all"},"全部"),Object.values(S.a).map(function(e){var t=e.label,e=e.value;return c.createElement(d.a.Option,{value:e,key:e},t)})),c.createElement(o.a,{key:1,placeholder:"按大屏名称搜索",style:{width:150,marginLeft:"10px"},value:this.state.name,onChange:function(e){return t.setState({name:e.target.value.trim()})},onBlur:function(){return t.doSearch()},onKeyDown:function(e){return 13===e.keyCode&&t.doSearch()}}),c.createElement(O.a,{key:2,style:{minWidth:"150px",marginLeft:"10px"},value:this.state.tagList,onChange:function(e){return t.setState({tagList:e},function(){return t.doSearch()})},allowClear:!0,mode:"multiple"}),c.createElement(a.a,{key:3,type:"primary",icon:"plus",style:{marginLeft:10},onClick:function(){return n("add")}},"添加大屏")]})}}]),t=R))||t;function R(){var e,n;L(this,R);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n=j(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(r)))).state={name:null,status:"all",tagList:null},n.doSearch=function(){var e=n.props.getScreenList,t=h.a.lodash.clone(n.state);h.a.lodash.isEmpty(t.name)&&delete t.name,h.a.lodash.isEmpty(t.tagList)?delete t.tagList:t.tagList=t.tagList.join(","),"all"===t.status&&delete t.status,e(1,t)},j(n,e)}function T(e){var t=e.url,n=e.cover,r=e.status,e=c.Fragment;t&&(e=function(e){e=e.children;return c.createElement("a",{href:t,target:"_blank"},e)});var a,n=h.a.lodash.isEmpty(n)?g.a:window.ENV.visualScreen.coverBasePath+"/"+n+"?v="+(new Date).getTime();return c.createElement(e,null,c.createElement(i.a,{className:m.a.tag,color:I[r]},(a=r,((r=Object.entries(S.a).find(function(e){e=w(e,2),e[0],e=e[1],e.label;return e.value===a}))?r[1]:S.a.developing).label)),c.createElement("img",{className:m.a.cover,src:n}))}var I={0:"#f50",1:"#2db7f5",2:"#87d068"},q=function(e){var t=e.loading,n=e.data,r=e.addOrEditOrCopyScreen,a=e.delScreen,i=e.unlockScreen,o=e.downloadScreen;return c.createElement(b.a,null,c.createElement(v.a,{loading:t},c.createElement(l.a,{grid:{gutter:16,column:3},dataSource:n,renderItem:function(e){return c.createElement(l.a.Item,null,c.createElement(u.a,{className:m.a["card-item"],bordered:!1,cover:c.createElement(T,{url:e.url,cover:e.cover,status:e.status}),actions:(t=[c.createElement(s.a,{key:"setting",title:"设置"},c.createElement("a",{title:"设置"},c.createElement(f.a,{type:"setting",onClick:function(){return r("edit",e.screen_id)}}))),c.createElement(s.a,{key:"copy",title:"复制"},c.createElement("a",{title:"复制"},c.createElement(f.a,{type:"copy",onClick:function(){return r("copy",e.screen_id)}}))),c.createElement(s.a,{key:"design",title:"设计大屏"},c.createElement("a",{title:"设计大屏",target:"_blank",href:window.ENV.visualScreen.editBigScreen+"?id="+e.screen_id},c.createElement(f.a,{type:"area-chart"}))),c.createElement(s.a,{key:"lookup",title:"查看"},c.createElement("a",{title:"查看",target:"_blank",href:window.ENV.visualScreen.showBigScreen+"?id="+e.screen_id},c.createElement(f.a,{type:"eye-o"}))),c.createElement(s.a,{key:"download",title:"下载"},c.createElement("a",{title:"下载",target:"_blank",onClick:function(){return o(e.screen_id)}},c.createElement(f.a,{type:"download"}))),c.createElement(s.a,{key:"delete",title:"删除"},c.createElement("a",{title:"删除"},c.createElement(f.a,{type:"delete",style:{color:"red"},onClick:function(){return a(e.screen_id,e.create_user_id)}})))],e.is_lock||t.push(c.createElement("a",{title:"解锁大屏",onClick:function(){return i(e.screen_id)}},c.createElement(f.a,{type:"unlock"}))),t)},c.createElement(u.a.Meta,{title:c.createElement("span",{title:e.name},e.name),description:c.createElement("div",null,c.createElement("p",{title:e.developing_user_name},"当前开发人：",e.developing_user_name||"暂无"),c.createElement("p",{title:e.create_user_name},"创建人：",e.create_user_name||"暂无"))})));var t}})))};q.propTypes={loading:r.a.bool.isRequired,data:r.a.array.isRequired,addOrEditOrCopyScreen:r.a.func.isRequired,delScreen:r.a.func.isRequired,unlockScreen:r.a.func.isRequired}}.call(this,M(1))},995:function(e,t,n){e.exports=n.p+"756dd1fabee9926f0cca191426f61242.png"},996:function(e,u,s){"use strict";!function(d){s.d(u,"a",function(){return c});s(856);var f=s(857),p=(s(183),s(68)),m=(s(865),s(867)),g=(s(115),s(38)),h=(s(234),s(9)),v=(s(230),s(232)),y=(s(861),s(862)),t=(s(512),s(239)),e=s(0),n=s.n(e),b=s(14),_=s(858),r=s(1),E=s(939),S=s(866),O=s(944),w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e){return e&&2<e.size/1024/1024&&t.a.warn("上传文件不能超过 2M!"),!1}var j={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},o=y.a.create()(function(e){function t(e){return Array.isArray(e)?e:e&&[e.file]}var n=e.visible,r=e.saving,a=e.loading,i=e.onCancel,o=e.onCreate,c=e.form,l=e.formData,u=c.getFieldDecorator,s=null;switch(l.screen_title){case"add":s="创建大屏";break;case"edit":s="编辑大屏";break;case"copy":s="复制大屏"}e=b.a.auth.getLoginInfo()||{},c=e.user,e=e.isAdmin,c={disabled:"edit"===l.screen_title&&!e&&l.create_user_id&&l.create_user_id!==c.user_id};return d.createElement(f.a,{visible:n,title:s,okText:"保存",cancelText:"取消",confirmLoading:r,okButtonProps:c,onCancel:i,onOk:o},d.createElement(_.a,{loading:a},d.createElement(y.a,null,d.createElement(y.a.Item,k({},j,{label:"大屏名称"}),u("name",{initialValue:l.name,rules:[{required:!0,message:"请填写大屏名称!"}]})(d.createElement(v.a,{placeholder:"请填写大屏名称"}))),d.createElement(y.a.Item,k({},j,{label:"标签"}),u("tag_id",{initialValue:l.tag_id,rules:[{required:!0,message:"请选择标签!"}]})(d.createElement(S.a,{status:"add"===l.screen_title?1:null}))),d.createElement(y.a.Item,k({},j,{label:"封面"}),u("cover",{valuePropName:"fileList",getValueFromEvent:t})(d.createElement(m.a,{beforeUpload:L,accept:".jpg, .jpeg, .png"},d.createElement(g.a,null,d.createElement(h.a,{type:"upload"})," 上传封面图片")))),d.createElement(y.a.Item,k({},j,{label:"大屏logo",extra:"务必上传宽高比为1:1的logo"}),u("logo",{valuePropName:"fileList",getValueFromEvent:t,rules:[{required:"add"===l.screen_title,message:"请上传大屏logo"}]})(d.createElement(m.a,{beforeUpload:L,accept:".jpg, .jpeg, .png"},d.createElement(g.a,null,d.createElement(h.a,{type:"upload"})," 上传大屏logo")))),d.createElement(y.a.Item,k({},j,{label:"大屏状态",extra:"请及时更新大屏状态"}),u("status",{initialValue:l.status||O.a.developing.value})(d.createElement(p.a,null,Object.values(O.a).map(function(e){var t=e.label,e=e.value;return d.createElement(p.a.Option,{value:e,key:e},t)})))))))}),c=b.a.decorator.propTypes({screen_id:n.a.string,getScreenList:n.a.func.isRequired,screen_title:n.a.string.isRequired})((function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,r.PureComponent),e(l,[{key:"componentDidMount",value:function(){var a=this;this.showModal();var e=this.props.screen_id;e&&this.setState({loading:!0},function(){Object(E.g)(e).then(function(e){var t,n=e.code,r=e.data;n||(t=r.name,e=r.tag_id,n=r.status,r=r.create_user_id,a.setState({loading:!1,screen:{name:t,status:n,tag_id:e,create_user_id:r}}))},function(e){b.a.prompt.error(e.msg)})})}},{key:"render",value:function(){var t=this;return d.createElement(o,{ref:function(e){return t.form=e},formData:k({screen_id:this.props.screen_id,screen_title:this.props.screen_title},this.state.screen),visible:this.state.visible,saving:this.state.saving,loading:this.state.loading,onCancel:this.handleCancel,onCreate:this.handleCreate})}}]),l.defaultProps={screen_id:null,screen_title:null},e=l))||e;function l(){var e,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=p=i(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(n)))).state={visible:!1,saving:!1,loading:!1,screen:{name:null,tag_id:[]}},p.showModal=function(){return p.setState({visible:!0})},p.handleCancel=function(){return p.setState({visible:!1})},p.handleCreate=function(){var f=p.form;f.validateFields(function(e,t){if(e)return!1;var e=p.props,r=e.screen_id,a=e.getScreenList,i=e.screen_title,o=t.name,e=t.cover,c=w(e=void 0===e?[]:e,1)[0],l=t.url,u=t.tag_id,s=t.status,e=t.logo,d=w(e=void 0===e?[]:e,1)[0],u=u.join(",");console.log(t),p.setState({saving:!0},function(){var e,t,n=[function(){f.resetFields(),a(),p.setState({saving:!1}),p.handleCancel(),b.a.prompt.success("保存成功")},function(e){p.setState({saving:!1}),b.a.prompt.error(e.msg)}];switch(i){case"add":(e=Object(E.b)(o,c,l,u,d,s)).then.apply(e,n);break;case"edit":(t=Object(E.j)(r,o,c,l,u,d,s)).then.apply(t,n);break;case"copy":(t=Object(E.c)(r,o,c,l,u,d,s)).then.apply(t,n)}})})},i(p,e)}}.call(this,s(1))},997:function(e,i,g){"use strict";!function(c){g.d(i,"a",function(){return n});g(856);var l=g(857),u=(g(510),g(237)),s=(g(115),g(38)),o=g(14),d=g(858),e=g(1),a=g(939),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,e.Component),t(m,[{key:"componentDidMount",value:function(){var e=this;this.showModal(),this.setState({loading:!0},function(){e.getPageListData()})}},{key:"render",value:function(){var r=this,e=this.state,t=e.delScreenList,n=e.loading,a=t.count,i=t.pageSize,o=t.currentPage,e=t.data;console.log(a,i,o,e);t=[{title:"序号",dataIndex:"num",key:"num",width:100},{title:"名称",dataIndex:"name",key:"name",width:150},{title:"创建时间",dataIndex:"created_at",key:"created_at",width:220},{title:"修改时间",dataIndex:"updated_at",key:"updated_at",width:220},{title:"操作",key:"action",width:100,render:function(e,t){var n=t.screen_id;return c.createElement("a",{href:"#",onClick:function(){return r.undoDelScreen(n)}},"还原")}}];return c.createElement(l.a,{width:"900px",visible:this.state.visible,title:"已删除大屏列表",confirmLoading:this.state.saving,onCancel:this.handleCancel,onOk:this.handleOk,footer:[c.createElement(s.a,{key:"back",onClick:this.handleCancel},"关闭")]},c.createElement(d.a,{loading:this.state.loading},c.createElement(u.a,{columns:t,loading:n,rowKey:function(e){return e.screen_id},dataSource:e,pagination:{current:o,pageSize:i,total:a,onChange:function(e){return r.getPageListData(e)}}})))}}]),m);function m(){var e,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i=p(this,(e=m.__proto__||Object.getPrototypeOf(m)).call.apply(e,[this].concat(n)))).state={visible:!1,saving:!1,loading:!1,delScreenList:{count:0,totalPages:0,pageSize:0,currentPage:0,data:[]}},i.getPageListData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;Object(a.f)(e).then(function(e){i.setState({loading:!1,delScreenList:e.data});var n=[],t=e.data,r=t.currentPage,a=t.pageSize,t=t.data;0<t.length&&t.map(function(e,t){e={rowKey:e.screen_id,num:(r-1)*a+t+1,name:e.name,created_at:o.a.helper.dateFormat(e.created_at),updated_at:o.a.helper.dateFormat(e.updated_at),screen_id:e.screen_id};n.push(e)}),i.setState({loading:!1,delScreenList:f({},e.data,{data:n})})},function(e){o.a.prompt.error(e.msg)})},i.showModal=function(){return i.setState({visible:!0})},i.handleOk=function(e){i.setState({visible:!1})},i.handleCancel=function(e){i.setState({visible:!1})},i.undoDelScreen=function(e){Object(a.h)([e]).then(function(e){o.a.prompt.success(e.msg);var t=i.state.delScreenList,e=t.currentPage,e=1===t.data.length&&1<e?e-1:e;i.getPageListData(e)},function(e){o.a.prompt.error(e.msg)}),console.log(e)},p(i,e)}}.call(this,g(1))}}]);