{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"vscode\"","webpack:///../node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack:///../node_modules/diagnostic-channel/dist/src/channel.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack:///../node_modules/applicationinsights/out/Library/Logging.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/classes/semver.js","webpack:///../node_modules/vscode-languageclient/lib/common/client.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/index.js","webpack:///external \"path\"","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/compare.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/classes/range.js","webpack:///../node_modules/applicationinsights/out/Library/Util.js","webpack:///external \"fs\"","webpack:///../node_modules/vscode-jsonrpc/lib/common/ral.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/is.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/internal/re.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/parse.js","webpack:///external \"os\"","webpack:///../node_modules/applicationinsights/out/Library/CorrelationIdManager.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/main.js","webpack:///external \"util\"","webpack:///../node_modules/vscode-jsonrpc/lib/common/is.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/events.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js","webpack:///../node_modules/applicationinsights/out/Declarations/Constants.js","webpack:///external \"url\"","webpack:///../node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","webpack:///external \"child_process\"","webpack:///../node_modules/vscode-languageclient/node_modules/semver/internal/constants.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/internal/debug.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/internal/parse-options.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/gt.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/classes/comparator.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/satisfies.js","webpack:///external \"http\"","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","webpack:///external \"https\"","webpack:///../node_modules/vscode-languageclient/lib/node/main.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/internal/identifiers.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/eq.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/compare-build.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/lt.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/gte.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/lte.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/outside.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js","webpack:///external \"assert\"","webpack:///../node_modules/emitter-listener/listener.js","webpack:///../node_modules/shimmer/index.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/Performance.js","webpack:///../node_modules/applicationinsights/out/Library/Config.js","webpack:///../node_modules/applicationinsights/out/Library/Context.js","webpack:///./src/requests.ts","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/neq.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/cmp.js","webpack:///../node_modules/vscode-languageclient/lib/common/commonClient.js","webpack:///../node_modules/vscode-jsonrpc/node.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/api.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messages.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack:///external \"crypto\"","webpack:///external \"net\"","webpack:///../node_modules/vscode-languageclient/lib/common/configuration.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCodeAction.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js","webpack:///../node_modules/vscode-languageclient/lib/common/progressPart.js","webpack:///../node_modules/vscode-languageserver-protocol/node.js","webpack:///../node_modules/vscode-nls/lib/common/ral.js","webpack:///../node_modules/vscode-nls/lib/common/common.js","webpack:///../node_modules/diagnostic-channel/dist/src/patchRequire.js","webpack:///../node_modules/semver/semver.js","webpack:///external \"module\"","webpack:///external \"timers\"","webpack:///../node_modules/stack-chain/index.js","webpack:///external \"zlib\"","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/RequestParser.js","webpack:///../node_modules/applicationinsights/out/Library/Traceparent.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpRequests.js","webpack:///./src/node/htmlClientMain.ts","webpack:///./src/node/nodeFs.ts","webpack:///../node_modules/vscode-languageclient/node_modules/semver/index.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/valid.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/clean.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/inc.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/diff.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/major.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/minor.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/patch.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/prerelease.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/rcompare.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/compare-loose.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/sort.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/rsort.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/functions/coerce.js","webpack:///../node_modules/lru-cache/index.js","webpack:///../node_modules/yallist/yallist.js","webpack:///../node_modules/yallist/iterator.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/to-comparators.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/max-satisfying.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/min-satisfying.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/min-version.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/valid.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/gtr.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/ltr.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/intersects.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/simplify.js","webpack:///../node_modules/vscode-languageclient/node_modules/semver/ranges/subset.js","webpack:///../node_modules/vscode-jsonrpc/lib/node/ril.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/connection.js","webpack:///../node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack:///../node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack:///../node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack:///../node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack:///../node_modules/vscode-languageclient/lib/common/utils/async.js","webpack:///../node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack:///../node_modules/vscode-languageclient/lib/common/implementation.js","webpack:///../node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack:///../node_modules/vscode-languageclient/lib/common/workspaceFolders.js","webpack:///../node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/declaration.js","webpack:///../node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack:///../node_modules/vscode-languageclient/lib/common/progress.js","webpack:///../node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack:///../node_modules/vscode-languageclient/lib/common/semanticTokens.js","webpack:///../node_modules/vscode-languageclient/lib/common/fileOperations.js","webpack:///../node_modules/minimatch/minimatch.js","webpack:///../node_modules/brace-expansion/index.js","webpack:///../node_modules/concat-map/index.js","webpack:///../node_modules/balanced-match/index.js","webpack:///../node_modules/vscode-languageclient/lib/common/linkedEditingRange.js","webpack:///../node_modules/vscode-languageclient/lib/node/processes.js","webpack:///../node_modules/vscode-languageclient/lib/common/api.js","webpack:///./src/htmlClient.ts","webpack:///../node_modules/vscode-nls/lib/node/main.js","webpack:///./src/htmlEmptyTagsShared.ts","webpack:///./src/tagClosing.ts","webpack:///./src/customData.ts","webpack:///../node_modules/vscode-languageclient/node.js","webpack:///../node_modules/vscode-extension-telemetry/lib/telemetryReporter.js","webpack:///../node_modules/applicationinsights/out/applicationinsights.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/index.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js","webpack:///external \"@opentelemetry/tracing\"","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","webpack:///external \"stream\"","webpack:///external \"console\"","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$","webpack:///../node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js","webpack:///external \"events\"","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js","webpack:///../node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js","webpack:///../node_modules/cls-hooked/index.js","webpack:///../node_modules/cls-hooked/node_modules/semver/semver.js","webpack:///../node_modules/cls-hooked/context.js","webpack:///external \"async_hooks\"","webpack:///../node_modules/cls-hooked/context-legacy.js","webpack:///../node_modules/async-hook-jl/index.js","webpack:///../node_modules/async-hook-jl/async-hook.js","webpack:///../node_modules/async-hook-jl/patches/next-tick.js","webpack:///../node_modules/async-hook-jl/patches/promise.js","webpack:///../node_modules/async-hook-jl/patches/timers.js","webpack:///../node_modules/stack-chain/stack-chain.js","webpack:///../node_modules/stack-chain/format.js","webpack:///../node_modules/continuation-local-storage/context.js","webpack:///../node_modules/async-listener/index.js","webpack:///../node_modules/async-listener/glue.js","webpack:///external \"dns\"","webpack:///../node_modules/async-listener/es6-wrapped-promise.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/Console.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Constants.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js","webpack:///../node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/Exceptions.js","webpack:///external \"constants\"","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js","webpack:///../node_modules/applicationinsights/out/Library/Tracestate.js","webpack:///../node_modules/applicationinsights/out/Library/QuickPulseStateManager.js","webpack:///../node_modules/applicationinsights/out/Library/ConnectionStringParser.js","webpack:///../node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js","webpack:///../node_modules/applicationinsights/out/Library/QuickPulseSender.js","webpack:///../node_modules/applicationinsights/out/AutoCollection/NativePerformance.js","webpack:///external \"applicationinsights-native-metrics\"","webpack:///../node_modules/applicationinsights/out/Library/NodeClient.js","webpack:///../node_modules/applicationinsights/out/Library/TelemetryClient.js","webpack:///../node_modules/applicationinsights/out/Library/Channel.js","webpack:///../node_modules/applicationinsights/out/TelemetryProcessors/index.js","webpack:///../node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js","webpack:///../node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js","webpack:///../node_modules/applicationinsights/out/Library/Sender.js","webpack:///../node_modules/applicationinsights/out/Library/EnvelopeFactory.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__createBinding","this","k","k2","undefined","__exportStar","createProtocolConnection","node_1","input","output","logger","options","createMessageConnection","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","channel","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","vscode_jsonrpc_1","method","RequestType0","super","RequestType","ParameterStructures","byName","NotificationType0","NotificationType","Logging","info","message","optionalParams","_i","arguments","enableDebug","console","TAG","warn","disableWarnings","disableErrors","debug","MAX_LENGTH","MAX_SAFE_INTEGER","re","parseOptions","compareIdentifiers","SemVer","loose","includePrerelease","TypeError","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","id","test","num","build","format","join","other","compareMain","comparePre","a","b","release","identifier","inc","isNaN","Error","BaseLanguageClient","MessageTransports","TextDocumentFeature","State","RevealOutputChannelOn","CloseAction","ErrorAction","vscode_1","vscode_languageserver_protocol_1","configuration_1","c2p","p2c","Is","async_1","UUID","progressPart_1","ConsoleLogger","RAL","error","log","ClientState","DefaultErrorHandler","maxRestartCount","restarts","_error","_message","count","Continue","Shutdown","Restart","window","showErrorMessage","DoNotRestart","shift","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","String","Number","Boolean","Array","Key","Null","EnumMember","Struct","Event","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Text","Unit","Value","Keyword","Snippet","Color","Reference","Folder","SupportedSymbolTags","SymbolTag","Deprecated","ensure","target","FileFormattingOptions","DynamicFeature","fromConfiguration","document","filesConfig","workspace","getConfiguration","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","is","candidate","func","register","unregister","dispose","registrationType","DocumentNotifications","_client","_event","_type","_middleware","_createParams","_selectorFilter","_selectors","Map","selectors","textDocument","selector","languages","registerOptions","documentSelector","_listener","callback","set","values","sendNotification","notificationSent","_data","delete","size","clear","send","DidOpenTextDocumentFeature","client","_syncedDocuments","onDidOpenTextDocument","DidOpenTextDocumentNotification","type","clientOptions","middleware","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","uri","toString","has","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","change","TextDocumentSyncKind","None","assign","syncKind","onDidChangeTextDocument","contentChanges","changeData","Incremental","params","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","sendRequest","then","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","saveOptions","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","isArray","watchers","disposables","watcher","string","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","disposable","_registrationType","_registrations","registration","registerLanguageProvider","provider","capability","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","boolean","WorkDoneProgressOptions","result","item","CompletionItemFeature","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","tagSupport","valueSet","CompletionItemTag","insertReplaceSupport","resolveSupport","properties","insertTextModeSupport","InsertTextMode","asIs","adjustIndentation","completionItemKind","getRegistrationOptions","completionProvider","triggerCharacters","provideCompletionItems","position","token","context","asCompletionParams","asCompletionResult","handleFailedRequest","provideCompletionItem","resolveCompletionItem","resolveProvider","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","metaData","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","asReferenceParams","asReferences","registerReferenceProvider","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","element","DocumentSymbol","asDocumentSymbols","asSymbolInformations","label","registerDocumentSymbolProvider","WorkspaceSymbolFeature","WorkspaceSymbolRequest","workspaceSymbolProvider","workDoneProgress","_options","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","isPreferredSupport","disabledSupport","dataSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","codeActionProvider","provideCodeActions","range","_provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","resolveCodeAction","CodeActionResolveRequest","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","refreshSupport","onRequest","CodeLensRefreshRequest","async","getAllProviders","onDidChangeCodeLensEmitter","fire","codeLensProvider","eventEmitter","EventEmitter","onDidChangeCodeLenses","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","asPosition","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","Range","isDefaultBehavior","defaultBehavior","Promise","reject","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","DidChangeConfigurationNotification","section","synchronize","configurationSection","onDidChangeConfiguration","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","getMiddleware","keys","ensurePath","path","current","obj","workspaceFolder","indexOf","substr","toJSONObject","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","command","args","commands","registerCommand","MessageReader","reader","MessageWriter","writer","OnReady","_resolve","_reject","_used","_traceFormat","TraceFormat","_features","_dynamicFeatures","_id","_name","markdown","isTrusted","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","_state","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_providers","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","resolve","_onReadyCallbacks","_onStop","_telemetryEmitter","Emitter","_stateChangeEmitter","_trace","Trace","Off","_tracer","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","oldState","getPublicState","newState","state","Running","Starting","Stopped","isConnectionActive","forceDocumentSync","handler","onNotification","WorkDoneProgress","handleWorkDoneProgress","onProgress","sendProgress","createOutputChannel","onReady","resolveConnection","connection","trace","traceFormat","ResponseError","responseError","code","stack","showNotification","appendLine","toLocaleTimeString","data2String","Info","showNotificationMessage","Warn","showInformationMessage","show","isLSPMessage","append","JSON","stringify","Stopping","isUsed","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","showWarningMessage","ShowMessageRequest","messageFunc","actions","onTelemetry","ShowDocumentRequest","showDocument","external","success","env","openExternal","selection","takeFocus","preserveFocus","showTextDocument","listen","initialize","StartFailed","Disposable","needsStop","stop","createConnection","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","Uri","file","computeClientCapabilities","workspaceFolders","fillInitializeParams","part","ProgressPart","workDoneToken","doInitialize","done","cancel","number","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","shutdown","exit","end","cleanUpChannel","diagnostics","feature","didChangeWatchedFile","didChangeWatchedFiles","changes","workSpaceMiddleware","_didChangeTextDocumentFeature","asDiagnostics","setDiagnostics","handleConnectionError","closeHandler","handleConnectionClosed","createMessageTransports","transports","onError","onClose","tracer","sendNotificationOrTraceOptions","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","action","closed","start","traceConfig","fromString","_connection","fileEvents","array","registerRaw","features","registerFeature","request","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","DiagnosticTag","Unnecessary","codeDescriptionSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","regularExpressions","engine","parser","fillClientCapabilities","registrations","err","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","LSPErrorCodes","RequestCancelled","makeCancelError","ContentModified","Canceled","__export","compare","Comparator","parseRange","first","isNullSet","isAny","comps","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","COMPARATORLOOSE","COMPARATOR","rangeList","comp","parseComparator","replaceGTE0","rangeMap","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","intersects","er","testSet","max","comparators","remainingComparators","slice","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","semver","ANY","allowed","__assign","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","substring","str","int32ArrayToBase64","toChar","v","fromCharCode","x","Buffer","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","isError","isPrimitive","propType","isDate","msToTimeSpan","totalms","sec","toFixed","min","floor","hour","days","extractError","looseError","extractObject","origProperty","toJSON","validateStringMap","field","stringTarget","constructor","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","requestUrl","excludedDomains","correlationHeaderExcludedDomains","RegExp","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","host","port","pathname","proxyUrl","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","safeIncludeCorrelationHeader","correlationHeader","header","addCorrelationIdHeaderFromString","setHeader","requestContextSourceKey","correlationId","components","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","_ral","install","ral","default","Domain","thenable","typedArray","stringArray","elem","check","resolved","MAX_SAFE_COMPONENT_LENGTH","src","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","CorrelationIdManager","queryCorrelationId","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","on","correlationIdPrefix","setTimeout","correlationIdRetryIntervalMs","cancelCorrelationIdQuery","generateRequestId","parentId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","startIndex","delimiter","requestIdMaxLength","trimPosition","w3cEnabled","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","AbstractMessageReader","process","fireError","fireClose","off","AbstractMessageWriter","errorCount","msg","handleError","ReadableStreamMessageReader","socket","encoding","stream","asReadableStream","WriteableStreamMessageWriter","asWritableStream","destroy","readble","writable","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","platform","tmpdir","limit","pipeName","connectResolve","connected","server","createServer","close","removeListener","onConnected","NullLogger","read","addListener","isReadableStream","write","isWritableStream","ConnectionStrategy","connectionStrategy","ral_1","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","callbacks","contexts","apply","thisArgs","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","DiagChannel","CorrelationContextManager","getCurrentContext","enabled","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","fn","wrapEmitter","emitter","bindEmitter","wrapCallback","enable","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","disable","nodeVer","versions","node","parseInt","canUseClsHooked","greater800","less820","greater470","props","addHeaderData","keyvals","keyval","parts","concat","serializeToHeader","getProperty","setProperty","val","bannedCharacters","QuickPulseCounter","PerformanceCounter","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","PROCESSOR_TIME","REQUEST_RATE","REQUEST_DURATION","COMMITTED_BYTES","REQUEST_FAILURE_RATE","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","EXCEPTION_RATE","QuickPulseDocumentType","Exception","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","SEMVER_SPEC_VERSION","NODE_DEBUG","opts","reduce","operator","cmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","HttpDependencyParser","CorrelationContextManager_1","Traceparent","AutoCollectHttpDependencies","INSTANCE","isEnabled","_isEnabled","_isInitialized","_initialize","IsInitialized","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","requestNumber","getUrl","getHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","SettingMonitor","LanguageClient","TransportKind","cp","fs","commonClient_1","client_1","processes_1","Executable","Transport","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","CommonLanguageClient","arg1","arg2","arg3","arg4","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","checkVersion","codeVersion","satisfies","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","kill","pid","terminate","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","json","runDebug","run","execArgv","arg","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","stdio","runtime","ipc","pipe","cwd","silent","sp","execOptions","_getRuntimePath","serverProcess","spawn","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","envValue","_setting","primary","rest","needsStart","numeric","anum","bnum","rcompareIdentifiers","versionA","versionB","compareBuild","gt","lt","lte","gte","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","isUUID","v4","empty","ValueUUID","_value","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","_chars","_UUIDPattern","publishers","unpatchedModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","shimmer","wrap","unwrap","SYMBOL","propertyIsEnumerable","configurable","self","_events","_findAndProcess","before","unprocessed","_process","_wrap","unwrapped","visit","wrapped","onAddListener","onEmit","emit","adding","existing","returned","__wrapped","remover","isFunction","funktion","nodule","wrapper","original","__unwrap","massWrap","nodules","names","massUnwrap","Constants","AutoCollectPerformance","collectionInterval","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","duration","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","PROCESS_TIME","freeMem","freemem","usedMem","memoryUsage","rss","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","_lastRequestExecutionTime","_lastDependencyExecutionTime","ConnectionStringParser","Config","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","setCorrelationId","ENV_http_proxy","ENV_https_proxy","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","ENV_nativeMetricsDisablers","ENV_nativeMetricsDisableAll","Contracts","Context","packageJsonPath","ContextTagKeys","tags","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","readFileSync","exception","applicationVersion","deviceId","cloudRoleInstance","deviceOSVersion","cloudRole","DefaultRoleName","arch","sdkVersion","internalSdkVersion","FsContentRequest","FsStatRequest","FsReadDirRequest","param","getContent","readFile","buffer","TextDecoder","decode","uriString","readDirectory","stat","FileType","lastIndexOfSlash","lastIndexOf","Slash","charCodeAt","Dot","isAbsolutePath","normalizePath","newParts","joinPath","paths","with","eq","neq","op","ProposedFeatures","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","registerFeatures","createAll","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","CallHierarchyFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","ProgressType","ConnectionOptions","CancellationToken","CancellationTokenSource","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","ErrorCodes","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","CancellationStrategy","messages_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","isResponseMessage","isNotificationMessage","isRequestMessage","AbstractMessageSignature","ParseError","InvalidRequest","MethodNotFound","InvalidParams","InternalError","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageWriteError","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","setPrototypeOf","auto","byPosition","numberOfParams","_parameterStructures","freeze","isCancellationRequested","onCancellationRequested","Cancelled","shortcutEvent","handle","timer","clearTimeout","MutableToken","_isCancelled","_emitter","_token","configuration","ConfigurationRequest","items","scopeUri","ProtocolCompletionItem","CompletionItem","ProtocolCodeLens","CodeLens","ProtocolDocumentLink","DocumentLink","vscode","ProtocolCodeAction","CodeAction","ProtocolDiagnostic","DiagnosticCode","Diagnostic","severity","hasDiagnosticCode","ProtocolCallHierarchyItem","CallHierarchyItem","detail","selectionRange","_reported","begin","report","withProgress","location","ProgressLocation","Window","cancellable","progress","cancellationToken","_progress","_infinite","percentage","_cancellationToken","WorkDoneProgressCancelNotification","delta","increment","loadMessageBundle","localize","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","LocalizeInfo","replacement","comment","pseudo","_key","moduleModule","nativeModules","binding","originalRequire","patchedModules","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","unshift","valid","clean","diff","version1","version2","v1","v2","compareLoose","rcompare","sort","list","rsort","outside","rangeTmp","charAt","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","validRange","ltr","gtr","parsed","r1","r2","coerce","_stackChain","Base","Data","DataPoint","DataPointType","Envelope","ExceptionDetails","PageViewData","SeverityLevel","StackFrame","extendStatics","__extends","__proto__","__","_super","ver","measurements","RequestParser","startTime","_setStatus","status","endTime","_isSuccess","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","isValidSpanId","legacyRootId","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","getRequestId","getOperationName","getCorrelationContextHeader","getTraceparent","getTracestate","wrapOnRequestHandler","requestParser_1","correlationContext","wrapServerEventHandler","originalAddListener","eventType","eventHandler","originalHttpServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","once","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","getLegacyRootId","clientPackageJSON","asAbsolutePath","aiKey","main","getPackageInfo","serverMain","serverModule","debugOptions","round","startClient","getNodeFSRequestService","ensureFileUri","getScheme","buf","Unknown","ctime","mtime","isFile","Directory","isSymbolicLink","SymbolicLink","getTime","readdir","withFileTypes","children","internalRe","tokens","minVersion","simplifyRange","subset","hasPre","prefix","defaultResult","rtl","next","COERCERTL","exec","lastIndex","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","hit","isStale","del","unshiftNode","maxAge","walker","tail","prev","removeNode","Entry","forEachStep","thisp","Infinity","lc","stale","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lC","head","toArray","h","arr","expiresAt","insert","inserted","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","deleteCount","nodes","reverse","iterator","minver","setMin","compver","ranges","simplified","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","sawNonNull","OUTER","simpleSub","simpleDom","isSub","util_1","messageBuffer_1","MessageBuffer","AbstractMessageBuffer","emptyBuffer","allocUnsafe","ReadableStreamWrapper","WritableStreamWrapper","_ril","messageBuffer","applicationJson","encoder","encode","charset","decoder","ms","setImmediate","clearImmediate","RIL","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","chunkIndex","offset","chunkBytesRead","row","_read","byteCount","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","errorEmitter","closeEmitter","partialMessageEmitter","asError","fromOptions","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","readable","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","tryReadHeaders","contentLength","body","tryReadBody","setPartialMessageTimer","clearPartialMessageTimer","firePartialMessage","waitingTime","semaphore_1","ResolvedMessageWriterOptions","_b","contentTypeEncoder","contentEncoder","writeSemaphore","Semaphore","lock","doWrite","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","linkedMap_1","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","Messages","Verbose","cancelUndispatched","Message","createCancellationTokenSource","conn","sendCancellation","cleanup","receiver","sender","cancellationStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","LinkedMap","responsePromises","requestTokens","New","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","addMessageToQueue","queue","isListening","Listening","isClosed","Closed","isDisposed","Disposed","triggerMessageQueue","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","handlerResult","parameterStructures","promise","replySuccess","handleRequest","notificationHandler","source","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","toCancel","strategy","lspMessage","throwIfClosedOrDisposed","undefinedToNull","nullToUndefined","isNamedParam","computeSingleParam","computeMessageParams","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onUnhandledProgress","throwIfNotListening","last","traceSendingRequest","_sendNotification","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","Touch","LRUCache","First","AsOld","Last","AsNew","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","entries","newSize","currentSize","ratio","_limit","_ratio","checkTrim","trimOld","lspReservedErrorRangeStart","lspReservedErrorRangeEnd","integer","uinteger","Position","Location","LocationLink","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","CodeDescription","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","line","character","objectLiteral","one","two","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","Information","Hint","href","codeDescription","newText","needsConfirmation","description","annotation","annotationId","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","InsertTextFormat","InsertReplaceEdit","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolInformation","CodeActionContext","FormattingOptions","SelectionRange","TextEditChangeImpl","changeAnnotations","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","renameFile","deleteFile","languageId","text","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","containerName","deprecated","SourceFixAll","only","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","parent","TextDocument","EOL","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","sortedEdits","mergeSort","left","right","leftIdx","rightIdx","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","SignatureHelpTriggerKind","CompletionTriggerKind","TextDocumentSaveReason","TextDocumentContentChangeEvent","InitializeError","DocumentSelector","DocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","WillDeleteFilesRequest","DidDeleteFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","WillCreateFilesRequest","DidCreateFilesNotification","FileOperationPatternKind","LinkedEditingRangeRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","SemanticTokens","SemanticTokenModifiers","SemanticTokenTypes","CallHierarchyPrepareRequest","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","WorkDoneProgressCreateRequest","SelectionRangeRequest","DeclarationRequest","FoldingRangeRequest","ColorPresentationRequest","DocumentColorRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ImplementationRequest","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","pattern","Abort","Transactional","Undo","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","resultId","Relative","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentSaveReason","reason","asCompletionTriggerKind","triggerKind","asSignatureHelpTriggerKind","Invoke","asParameterInformation","asSignatureInformation","asWorkerPosition","asLocation","asDiagnosticSeverity","asDiagnosticTag","tag","asRelatedInformation","asDiagnostic","protocolDiagnostic","asDiagnosticCode","converted","asDiagnosticTags","asCompletionItemTag","asTextEdit","asSymbolKind","asSymbolTag","asSymbolTags","asVersionedTextDocumentIdentifier","isTextDocument","isTextDocumentChangeEvent","includeContent","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","triggerCharacter","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","protocolItem","asDocumentation","filterText","insertText","SnippetString","insertTextFormat","fromEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","commitCharacters","preselect","asCompletionItemTags","insertTextMode","keepWhitespace","includeDeclaration","asCodeActionKind","disabled","fileOptions","tooltip","asCallHierarchyItem","ls","CodeBlock","trustMarkdown","diagnostic","asDiagnosticRelatedInformation","information","asRanges","asMarkdownString","MarkdownString","asCompletionRange","asCompletionInsertText","itemKind","asSignatureInformations","asParameterInformations","asLocationLink","asLocationResult","asDocumentHighlight","asDocumentHighlightKind","asSymbolInformation","fillTags","asDocumentSymbol","child","includes","kindMapping","sharedMetadata","asWorkspaceEditEntryMetadata","asMetadata","asColor","asColorInformation","ci","asColorPresentation","presentation","asFoldingRangeKind","Comment","Imports","Region","asFoldingRange","asSelectionRange","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","SignatureHelp","asDeclarationResult","asCommands","asFoldingRanges","foldingRanges","asColorInformations","colorInformation","asColorPresentations","colorPresentations","asSelectionRanges","selectionRanges","asSemanticTokensLegend","asSemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","asCallHierarchyItems","asCallHierarchyIncomingCalls","asCallHierarchyOutgoingCalls","asLinkedEditingRanges","LinkedEditingRanges","asRegularExpression","wordPattern","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","getRegistration","colorProvider","provideColorPresentations","requestParams","provideDocumentColors","registerColorProvider","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","arrayDiff","access","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","removed","added","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","sendInitialEvent","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","registerFoldingRangeProvider","declarationSupport","declarationProvider","provideDeclaration","registerDeclarationProvider","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","activeParts","deleteHandler","CallHierarchyProvider","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","callHierarchyProvider","registerCallHierarchyProvider","tokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","enumMember","function","macro","keyword","modifier","regexp","tokenModifiers","declaration","definition","readonly","static","abstract","modification","defaultLibrary","formats","full","multilineTokenSupport","overlappingTokenSupport","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","previousResultId","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","minimatch","FileOperationFeature","clientCapability","serverCapability","_filters","_clientCapability","_serverCapability","fileOperations","filters","minimatchFilter","matcher","Minimatch","glob","asMinimatchOptions","makeRe","matches","fileMatches","fileType","getFileType","ignoreCase","nocase","NotificationFileOperationFeature","notificationType","accessUri","createParams","_notificationType","_accessUri","originalEvent","filteredEvent","doSend","onDidCreateFiles","didCreateFiles","onDidRenameFiles","didRenameFiles","onDidDeleteFiles","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","willCreateFiles","onWillRenameFiles","willRenameFiles","onWillDeleteFiles","willDeleteFiles","sep","GLOBSTAR","expand","plTypes","open","reSpecials","slashSplit","ext","nocomment","negate","make","braceExpand","nobrace","defaults","def","orig","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","noglobstar","stateChar","hasMagic","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","qmark","noext","reStart","pl","reEnd","cs","SUBPARSE","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","flags","regExp","_glob","_src","twoStar","regExpEscape","ex","mm","f","nonull","partial","filename","matchBase","matchOne","flipNegate","fi","pi","fl","fr","swallowee","concatMap","balanced","isTop","expansions","pre","isNumericSequence","isAlphaSequence","isSequence","isOptions","post","escClose","parseCommaParts","postParts","embrace","N","y","width","incr","abs","pad","isPadded","need","el","j","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","xs","maybeMatch","reg","begs","beg","ai","bi","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","provideLinkedEditingRange","registerLinkedEditingRangeProvider","path_1","isWindows","isMacintosh","isLinux","execFileSync","cmd","spawnSync","common_1","common_2","resolvedBundles","isNumber","isString","readJsonFileSync","createScopedLocalizeFunction","messages","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","bundlePath","cacheRoot","hash","useMemoryOnly","writeBundle","flag","utimes","SyntaxError","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","module_2","entry","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadDefaultNlsBundle","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","root","findInTheBoxBundle","extname","messageFormat","both","headerFile","dirname","tryFindMetaDataHeaderFile","nlsBundle","module_3","resolvedLanguage","cacheLanguageResolution","resolveLanguage","bundleFormat","standalone","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","initializeSettings","EMPTY_ELEMENTS","tagProvider","supportedLanguages","configName","activeDocument","activeTextEditor","lastChange","lastCharacter","rangeStart","activeEditor","selections","active","isEqual","insertSnippet","updateEnabledState","onDidChangeActiveTextEditor","editor","getCustomDataPathsInAllWorkspaces","dataPaths","collect","rootFolder","resolvePath","folderUri","customDataInspect","workspaceFolderValue","workspaceFile","workspaceValue","globalValue","getCustomDataPathsFromAllExtensions","extension","extensions","customData","packageJSON","contributes","html","rp","extensionUri","toDispose","pathsInWorkspace","pathsInExtensions","onChange","newPathsInExtensions","idx","appInsights","TelemetryReporter","extensionId","extensionVersion","firstParty","userOptIn","logFilePath","logStream","createWriteStream","autoClose","updateUserOptIn","onDidChangeTelemetryEnabled","optOutListener","TELEMETRY_CONFIG_ID","newOptInValue","isTelemetryEnabled","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","commonProperties","getCommonProperties","userId","machineId","sessionId","isNewAppInstall","uiKind","UIKind","Web","Desktop","cleanRemoteName","remoteName","shouldSendErrorTelemetry","extensionKind","ExtensionKind","Workspace","_extension","getExtension","cloneAndChange","anonymizeFilePaths","cleanupPatterns","appRoot","extensionPath","updatedStack","cleanUpIndexes","cleanupPatterns_1","nodeModulesRegex","fileRegex","_loop_1","cleanupPatterns_2","sendTelemetryEvent","eventName","cleanProperties","trackEvent","sendTelemetryErrorEvent","errorProps","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","flush","DistributedTracingModes","AutoCollectConsole","AutoCollectExceptions","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","AutoCollectNativePerformance","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","collectConsoleLog","collectExtendedMetrics","extendedMetricsConfig","parseEnabled","disabledMetrics","useAsyncHooks","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","addCollector","quickPulseClient","azuresdk","consolePub","tedious","diagnostic_channel_1","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","onEnd","azureCoreTracing","coreTracing","tracer_1","BasicTracer","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","originalBunyan","originalEmit","_emit","rec","noemit","level","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","aiLoggingConsole","Console","originalMethod","consoleMethods_1","mongoCore","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","requestId","startedData","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","hrDuration","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","postgres6","originalPg","originalPgPath","originalClientQuery","Client","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","ceil","preparable","plan","postgres7","callbackProvided","_Promise","catch","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","parametersByName","statement","__rest","getOwnPropertySymbols","winston3","originalWinston","AppInsightsTransport","meta","splat","levelKind","npm","levels","syslog","mapLevelToKind","patchedConfigure","lastLevel","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","util","assert","async_hooks","DEBUG_CLS_HOOKED","currentUid","_set","_indent","getNamespace","namespaces","destroyNamespace","ok","debug2","_rawDebug","createHook","asyncId","triggerId","executionAsyncId","indentStr","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","enter","ERROR_SYMBOL","asyncHooksCurrentId","currentId","createContext","_ns_name","runAndReturn","runPromise","thisSymbol","unwrappedContexts","fromException","asyncHook","invertedProviders","providers","DEBUG","getFunctionName","addHooks","uid","parentUid","parentHandle","stackChain","_modifiers","deattach","AsyncHook","_asyncHook","attach","frames","callSite","getFileName","asyncWrap","TIMERWRAP","Providers","patchs","ignoreUIDs","counter","Hooks","initFns","preFns","postFns","destroyFns","init","hook","didThrow","removeElement","_hooks","setupHooks","hooks","removeHooks","NextTickWrap","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","defaultFormater","extend","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","chain","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","lines","ee","FormatErrorString","frame","removeAsyncListener","addAsyncListener","storage","after","v6plus","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Socket","onSocket","wrapChildProcess","activatorFirst","onexit","ChildProcess","_fatalException","_originalNextTick","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","lchown","lchmod","ftruncate","Deflate","getPrototypeOf","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","executor","ensureAslWrapper","inherits","wrapThen","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","aslWrapper","wrapPromise","asyncCatcher","inAsyncTick","listenerStack","union","dest","destLength","addedLength","missing","errorValues","inErrorTick","handled","errorThrew","threw","AsyncListener","createAsyncListener","registered","simpleWrap","_methodNames","Contracts_1","clients","subscriber","trackTrace","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","deviceLocale","deviceModel","deviceOEMName","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","internalAgentVersion","internalNodeName","Measurement","sampleRate","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","bunyanToAILevelMap","10","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","silly","unknown","_canUseUncaughtExceptionMonitor","_exceptionListenerHandle","reThrow","_FALLBACK_ERROR_MESSAGE","isAppCrashing","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","_RETHROW_EXIT_MESSAGE","_getUrlFromRequestOptions","baseTelemetry","dependencyId","urlObject","search","dependencyName","toUpperCase","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","commandName","dbName","databaseName","queryObj","sqlString","sql","connectionConfig","socketPath","q","Tracestate","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","results","ip","rawHeaders","parseId","setBackCompatFromThisTraceContext","userAgent","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","vendorValid","keydeduper","parts_1","pair","strict","QuickPulseEnvelopeFactory","QuickPulseSender","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_sender","collector","_addMetric","addDocument","envelope","telemetryEnvelopeToQuickPulseDocument","_goQuickPulse","enableCollectors","Weight","createQuickPulseMetric","Name","_resetQuickPulseBuffer","createQuickPulseEnvelope","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","ping","_quickPulseDone","shouldPOST","connectionString","_FIELDS_SEPARATOR","fields","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","endpointsuffix","locationPrefix","StreamId","documents","machineName","instance","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","baseData","severityLevel","exceptionDetails","exceptionMessage","exceptionType","assembly","typeName","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","responseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseConfig","_config","_consecutiveErrors","_submitData","postOrPing","payload","quickPulseHost","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","_disabledMetrics","_metricsAvailable","NativeMetricsEmitters","_trackNativeMetrics","disableAll","individualOptOuts","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","pow","total","loop","getLoopData","loopUsage","heap","_c","heapUsed","heapTotal","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Channel","TelemetryProcessors","Sender","EnvelopeFactory","_telemetryProcessors","trackAvailability","track","triggerSend","telemetryType","createEnvelope","toISOString","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setDiskRetryMode","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","requestData","remoteDependencyData","child_process","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","windowsHide","signal","_runICACLSSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","mkdir","_getShallowDirectorySize","totalSize","fileStats","_getShallowDirectorySizeSync","readdirSync","statSync","TEMPDIR_PREFIX","fileName","fileFullPath","mkdirSync","dirSize","tempDir","basename","firstFile","filePath","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","getTags","remoteDependency","parseStack","metric","Aggregation","availabilityData","runLocation","totalSizeInBytes","_StackFrame","regex","parsedFrame","sizeInBytes","acceptedLeft","acceptedRight","howMany","baseSize"],"mappings":"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","file":"htmlClientMain.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 91);\n","module.exports = require(\"vscode\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return node_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n// let x: ProtocolNotificationType<number, { value: number}>;\n// let y: ProtocolNotificationType<string, { value: number}>;\n// x = y;\n//# sourceMappingURL=messages.js.map","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseLanguageClient = exports.MessageTransports = exports.TextDocumentFeature = exports.State = exports.RevealOutputChannelOn = exports.CloseAction = exports.ErrorAction = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst configuration_1 = require(\"./configuration\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nclass ConsoleLogger {\n    error(message) {\n        vscode_languageserver_protocol_1.RAL().console.error(message);\n    }\n    warn(message) {\n        vscode_languageserver_protocol_1.RAL().console.warn(message);\n    }\n    info(message) {\n        vscode_languageserver_protocol_1.RAL().console.info(message);\n    }\n    log(message) {\n        vscode_languageserver_protocol_1.RAL().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let logger = new ConsoleLogger();\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    let result = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\nclass DefaultErrorHandler {\n    constructor(name, maxRestartCount) {\n        this.name = name;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return ErrorAction.Continue;\n        }\n        return ErrorAction.Shutdown;\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return CloseAction.Restart;\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted.`);\n                return CloseAction.DoNotRestart;\n            }\n            else {\n                this.restarts.shift();\n                return CloseAction.Restart;\n            }\n        }\n    }\n}\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\nvar State;\n(function (State) {\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar ClientState;\n(function (ClientState) {\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\n})(ClientState || (ClientState = {}));\nconst SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nconst SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature || (DynamicFeature = {}));\nclass DocumentNotifications {\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\n        this._client = _client;\n        this._event = _event;\n        this._type = _type;\n        this._middleware = _middleware;\n        this._createParams = _createParams;\n        this._selectorFilter = _selectorFilter;\n        this._selectors = new Map();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(data) {\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\n            if (this._middleware) {\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\n            }\n            else {\n                this._client.sendNotification(this._type, this._createParams(data));\n            }\n            this.notificationSent(data);\n        }\n    }\n    notificationSent(_data) {\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document)) {\n                return {\n                    send: (data) => {\n                        this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nclass DidOpenTextDocumentFeature extends DocumentNotifications {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let documentSelector = data.registerOptions.documentSelector;\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            let uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didOpen = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                if (middleware.didOpen) {\n                    middleware.didOpen(textDocument, didOpen);\n                }\n                else {\n                    didOpen(textDocument);\n                }\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nclass DidCloseTextDocumentFeature extends DocumentNotifications {\n    constructor(client, _syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\n        this._syncedDocuments = _syncedDocuments;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument) {\n        super.notificationSent(textDocument);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        let selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        let selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\n                let middleware = this._client.clientOptions.middleware;\n                let didClose = (textDocument) => {\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                if (middleware.didClose) {\n                    middleware.didClose(textDocument, didClose);\n                }\n                else {\n                    didClose(textDocument);\n                }\n            }\n        });\n    }\n}\nclass DidChangeTextDocumentFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._changeData = new Map();\n        this._forcingDelivery = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            documentSelector: data.registerOptions.documentSelector,\n            syncKind: data.registerOptions.syncKind\n        });\n    }\n    callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\n                let middleware = this._client.clientOptions.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                    if (middleware.didChange) {\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\n                    }\n                    else {\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    }\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    let didChange = (event) => {\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            });\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            this._changeDelayer.delayer.trigger(() => {\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\n                            }, -1);\n                        }\n                    };\n                    if (middleware.didChange) {\n                        middleware.didChange(event, didChange);\n                    }\n                    else {\n                        didChange(event);\n                    }\n                }\n            }\n        }\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document)) {\n                return {\n                    send: (event) => {\n                        this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nclass WillSaveFeature extends DocumentNotifications {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifications.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nclass WillSaveWaitUntilFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._selectors = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\n    }\n    callback(event) {\n        if (DocumentNotifications.textDocumentFilter(this._selectors.values(), event.document)) {\n            let middleware = this._client.clientOptions.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nclass DidSaveTextDocumentFeature extends DocumentNotifications {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifications.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n}\nclass FileSystemWatcherFeature {\n    constructor(_client, _notifyFileEvent) {\n        this._client = _client;\n        this._notifyFileEvent = _notifyFileEvent;\n        this._watchers = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        let disposables = [];\n        for (let watcher of data.registerOptions.watchers) {\n            if (!Is.string(watcher.globPattern)) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nclass TextDocumentFeature {\n    constructor(_client, _registrationType) {\n        this._client = _client;\n        this._registrationType = _registrationType;\n        this._registrations = new Map();\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(selector, textDocument)) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentFeature = TextDocumentFeature;\nclass WorkspaceFeature {\n    constructor(_client, _registrationType) {\n        this._client = _client;\n        this._registrationType = _registrationType;\n        this._registrations = new Map();\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nclass CompletionItemFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = ensure(ensure(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] }\n        };\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const triggerCharacters = options.triggerCharacters || [];\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.clientOptions.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.clientOptions.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(options.documentSelector, provider, ...triggerCharacters), provider];\n    }\n}\nclass HoverFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = (ensure(ensure(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerHoverProvider(options.documentSelector, provider), provider];\n    }\n}\nclass SignatureHelpFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = ensure(ensure(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        let disposable;\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, metaData);\n        }\n        return [disposable, provider];\n    }\n}\nclass DefinitionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = ensure(ensure(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ReferencesFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [vscode_1.languages.registerReferenceProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentHighlightFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentSymbolFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\n                        if (data === null) {\n                            return undefined;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            let element = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\n                                return client.protocol2CodeConverter.asDocumentSymbols(data);\n                            }\n                            else {\n                                return client.protocol2CodeConverter.asSymbolInformations(data);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, provider, metaData), provider];\n    }\n}\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = ensure(ensure(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: SupportedSymbolTags\n        };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(_options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            }\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nclass CodeActionFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = ensure(ensure(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = false;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: client.code2ProtocolConverter.asCodeActionContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (values === null) {\n                            return undefined;\n                        }\n                        const result = [];\n                        for (let item of values) {\n                            if (vscode_languageserver_protocol_1.Command.is(item)) {\n                                result.push(client.protocol2CodeConverter.asCommand(item));\n                            }\n                            else {\n                                result.push(client.protocol2CodeConverter.asCodeAction(item));\n                            }\n                        }\n                        return result;\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.clientOptions.middleware;\n                    const resolveCodeAction = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, client.code2ProtocolConverter.asCodeAction(item), token).then(client.protocol2CodeConverter.asCodeAction, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(options.documentSelector, provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nclass CodeLensFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        ensure(ensure(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error, codeLens);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(options.documentSelector, provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nclass DocumentFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, provider), provider];\n    }\n}\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nclass RenameFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = ensure(ensure(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error, undefined);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerRenameProvider(options.documentSelector, provider), provider];\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nclass DocumentLinkFeature extends TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error, link);\n                        });\n                    };\n                    const middleware = client.clientOptions.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, provider), provider];\n    }\n}\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        let didChangeConfiguration = (sections) => {\n            if (sections === undefined) {\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n                return;\n            }\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n        };\n        let middleware = this.getMiddleware();\n        middleware\n            ? middleware(sections, didChangeConfiguration)\n            : didChangeConfiguration(sections);\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = configuration_1.toJSONObject(config);\n            }\n        }\n        return result;\n    }\n    getMiddleware() {\n        let middleware = this._client.clientOptions.middleware;\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\n            return middleware.workspace.didChangeConfiguration;\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass ExecuteCommandFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._commands = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.clientOptions.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass OnReady {\n    constructor(_resolve, _reject) {\n        this._resolve = _resolve;\n        this._reject = _reject;\n        this._used = false;\n    }\n    get isUsed() {\n        return this._used;\n    }\n    resolve() {\n        this._used = true;\n        this._resolve();\n    }\n    reject(error) {\n        this._used = true;\n        this._reject(error);\n    }\n}\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        var _a;\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false };\n        if (clientOptions.markdown !== undefined && clientOptions.markdown.isTrusted === true) {\n            markdown.isTrusted = true;\n        }\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector || [],\n            synchronize: clientOptions.synchronize || {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName || this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler || this.createDefaultErrorHandler((_a = clientOptions.connectionOptions) === null || _a === void 0 ? void 0 : _a.maxRestartCount),\n            middleware: clientOptions.middleware || {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._listeners = undefined;\n        this._providers = undefined;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onReady = new Promise((resolve, reject) => {\n            this._onReadyCallbacks = new OnReady(resolve, reject);\n        });\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get state() {\n        return this._state;\n    }\n    set state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        if (this.state === ClientState.Running) {\n            return State.Running;\n        }\n        else if (this.state === ClientState.Starting) {\n            return State.Starting;\n        }\n        else {\n            return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    sendRequest(type, ...params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            return this._resolvedConnection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            return this._resolvedConnection.onRequest(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    sendNotification(type, params) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            return this._resolvedConnection.onNotification(type, handler);\n        }\n        catch (error) {\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        try {\n            if (vscode_languageserver_protocol_1.WorkDoneProgress.is(type)) {\n                const handleWorkDoneProgress = this._clientOptions.middleware.handleWorkDoneProgress;\n                if (handleWorkDoneProgress !== undefined) {\n                    return this._resolvedConnection.onProgress(type, token, (params) => {\n                        handleWorkDoneProgress(token, params, () => handler(params));\n                    });\n                }\n            }\n            return this._resolvedConnection.onProgress(type, token, handler);\n        }\n        catch (error) {\n            this.error(`Registering progress handler for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    sendProgress(type, token, value) {\n        if (!this.isConnectionActive()) {\n            throw new Error('Language client is not ready yet');\n        }\n        this.forceDocumentSync();\n        try {\n            this._resolvedConnection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this._name, maxRestartCount !== null && maxRestartCount !== void 0 ? maxRestartCount : 4);\n    }\n    set trace(value) {\n        this._trace = value;\n        this.onReady().then(() => {\n            this.resolveConnection().then((connection) => {\n                connection.trace(this._trace, this._tracer, {\n                    sendNotification: false,\n                    traceFormat: this._traceFormat\n                });\n            });\n        }, () => {\n        });\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage();\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage();\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\n            this.showNotificationMessage();\n        }\n    }\n    showNotificationMessage() {\n        vscode_1.window.showInformationMessage('A request has failed. See the output for more information.', 'Go to output').then(() => {\n            this.outputChannel.show(true);\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\n    }\n    onReady() {\n        return this._onReady;\n    }\n    isConnectionActive() {\n        return this.state === ClientState.Running && !!this._resolvedConnection;\n    }\n    start() {\n        if (this._onReadyCallbacks.isUsed) {\n            this._onReady = new Promise((resolve, reject) => {\n                this._onReadyCallbacks = new OnReady(resolve, reject);\n            });\n        }\n        this._listeners = [];\n        this._providers = [];\n        // If we restart then the diagnostics collection is reused.\n        if (!this._diagnostics) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        this.state = ClientState.Starting;\n        this.resolveConnection().then((connection) => {\n            connection.onLogMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onShowMessage((message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onTelemetry((data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                var _a;\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: true };\n                    }\n                };\n                const middleware = (_a = this._clientOptions.middleware.window) === null || _a === void 0 ? void 0 : _a.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            // Error is handled in the initialize call.\n            return this.initialize(connection);\n        }).then(undefined, (error) => {\n            this.state = ClientState.StartFailed;\n            this._onReadyCallbacks.reject(error);\n            this.error('Starting client failed', error);\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\n        });\n        return new vscode_1.Disposable(() => {\n            if (this.needsStop()) {\n                this.stop();\n            }\n        });\n    }\n    resolveConnection() {\n        if (!this._connectionPromise) {\n            this._connectionPromise = this.createConnection();\n        }\n        return this._connectionPromise;\n    }\n    initialize(connection) {\n        this.refreshTrace(connection, false);\n        let initOption = this._clientOptions.initializationOptions;\n        let rootPath = this._clientOptions.workspaceFolder\n            ? this._clientOptions.workspaceFolder.uri.fsPath\n            : this._clientGetRootPath();\n        let initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: null\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            return this.doInitialize(connection, initParams).then((result) => {\n                part.done();\n                return result;\n            }, (error) => {\n                part.cancel();\n                throw error;\n            });\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    doInitialize(connection, initParams) {\n        return connection.initialize(initParams).then((result) => {\n            this._resolvedConnection = connection;\n            this._initializeResult = result;\n            this.state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            this._onReadyCallbacks.resolve();\n            return result;\n        }).then(undefined, (error) => {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    this.initialize(connection);\n                }\n                else {\n                    this.stop();\n                    this._onReadyCallbacks.reject(error);\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        this.initialize(connection);\n                    }\n                    else {\n                        this.stop();\n                        this._onReadyCallbacks.reject(error);\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                this.stop();\n                this._onReadyCallbacks.reject(error);\n            }\n            throw error;\n        });\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop() {\n        this._initializeResult = undefined;\n        if (!this._connectionPromise) {\n            this.state = ClientState.Stopped;\n            return Promise.resolve();\n        }\n        if (this.state === ClientState.Stopping && this._onStop) {\n            return this._onStop;\n        }\n        this.state = ClientState.Stopping;\n        this.cleanUp(false);\n        // unhook listeners\n        return this._onStop = this.resolveConnection().then(connection => {\n            return connection.shutdown().then(() => {\n                connection.exit();\n                connection.end();\n                connection.dispose();\n                this.state = ClientState.Stopped;\n                this.cleanUpChannel();\n                this._onStop = undefined;\n                this._connectionPromise = undefined;\n                this._resolvedConnection = undefined;\n            });\n        });\n    }\n    cleanUp(channel = true, diagnostics = true) {\n        if (this._listeners) {\n            this._listeners.forEach(listener => listener.dispose());\n            this._listeners = undefined;\n        }\n        if (this._providers) {\n            this._providers.forEach(provider => provider.dispose());\n            this._providers = undefined;\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        for (const feature of this._features.values()) {\n            feature.dispose();\n        }\n        if (channel) {\n            this.cleanUpChannel();\n        }\n        if (diagnostics && this._diagnostics) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n    }\n    cleanUpChannel() {\n        if (this._outputChannel && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        var _a;\n        const client = this;\n        function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            client._fileEventDelayer.trigger(() => {\n                client.onReady().then(() => {\n                    client.resolveConnection().then(connection => {\n                        if (client.isConnectionActive()) {\n                            client.forceDocumentSync();\n                            connection.didChangeWatchedFiles({ changes: client._fileEvents });\n                        }\n                        client._fileEvents = [];\n                    });\n                }, (error) => {\n                    client.error(`Notify file events failed.`, error);\n                });\n            });\n        }\n        const workSpaceMiddleware = (_a = this.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        (workSpaceMiddleware === null || workSpaceMiddleware === void 0 ? void 0 : workSpaceMiddleware.didChangeWatchedFile) ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event);\n    }\n    forceDocumentSync() {\n        if (this._didChangeTextDocumentFeature === undefined) {\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\n        }\n        this._didChangeTextDocumentFeature.forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        let uri = this._p2c.asUri(params.uri);\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\n        let middleware = this.clientOptions.middleware;\n        if (middleware.handleDiagnostics) {\n            middleware.handleDiagnostics(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n        }\n        else {\n            this.setDiagnostics(uri, diagnostics);\n        }\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        });\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._resolvedConnection) {\n                this._resolvedConnection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let action = CloseAction.DoNotRestart;\n        try {\n            action = this._clientOptions.errorHandler.closed();\n        }\n        catch (error) {\n            // Ignore errors coming from the error handler.\n        }\n        this._connectionPromise = undefined;\n        this._resolvedConnection = undefined;\n        if (action === CloseAction.DoNotRestart) {\n            this.error('Connection to server got closed. Server will not be restarted.');\n            if (this.state === ClientState.Starting) {\n                this._onReadyCallbacks.reject(new Error(`Connection to server got closed. Server will not be restarted.`));\n                this.state = ClientState.StartFailed;\n            }\n            else {\n                this.state = ClientState.Stopped;\n            }\n            this.cleanUp(false, true);\n        }\n        else if (action === CloseAction.Restart) {\n            this.info('Connection to server got closed. Server will restart.');\n            this.cleanUp(false, false);\n            this.state = ClientState.Initial;\n            this.start();\n        }\n    }\n    handleConnectionError(error, message, count) {\n        let action = this._clientOptions.errorHandler.error(error, message, count);\n        if (action === ErrorAction.Shutdown) {\n            this.error('Connection to server is erroring. Shutting down server.');\n            this.stop();\n        }\n    }\n    hookConfigurationChanged(connection) {\n        vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        });\n    }\n    refreshTrace(connection, sendNotification = false) {\n        let config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new ConfigurationFeature(this));\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\n        this.registerFeature(new WillSaveFeature(this));\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new CompletionItemFeature(this));\n        this.registerFeature(new HoverFeature(this));\n        this.registerFeature(new SignatureHelpFeature(this));\n        this.registerFeature(new DefinitionFeature(this));\n        this.registerFeature(new ReferencesFeature(this));\n        this.registerFeature(new DocumentHighlightFeature(this));\n        this.registerFeature(new DocumentSymbolFeature(this));\n        this.registerFeature(new WorkspaceSymbolFeature(this));\n        this.registerFeature(new CodeActionFeature(this));\n        this.registerFeature(new CodeLensFeature(this));\n        this.registerFeature(new DocumentFormattingFeature(this));\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new RenameFeature(this));\n        this.registerFeature(new DocumentLinkFeature(this));\n        this.registerFeature(new ExecuteCommandFeature(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        ensure(result, 'workspace').applyEdit = true;\n        const workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = ensure(ensure(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = ensure(result, 'window');\n        const showMessage = ensure(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = ensure(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = ensure(result, 'general');\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = { parser: 'marked', version: '1.1.0' };\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        let documentSelector = this._clientOptions.documentSelector;\n        for (let feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    handleRegistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (const registration of params.registrations) {\n                const feature = this._dynamicFeatures.get(registration.method);\n                if (feature === undefined) {\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n                    return;\n                }\n                const options = registration.registerOptions || {};\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\n                const data = {\n                    id: registration.id,\n                    registerOptions: options\n                };\n                try {\n                    feature.register(data);\n                }\n                catch (err) {\n                    reject(err);\n                    return;\n                }\n            }\n            resolve();\n        });\n    }\n    handleUnregistrationRequest(params) {\n        return new Promise((resolve, reject) => {\n            for (let unregistration of params.unregisterations) {\n                const feature = this._dynamicFeatures.get(unregistration.method);\n                if (!feature) {\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n                    return;\n                }\n                feature.unregister(unregistration.id);\n            }\n            resolve();\n        });\n    }\n    handleApplyWorkspaceEdit(params) {\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        let workspaceEdit = params.edit;\n        let openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, error, defaultValue) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled) {\n                throw this.makeCancelError();\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                return defaultValue;\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error);\n        throw error;\n    }\n    makeCancelError() {\n        const result = new Error(BaseLanguageClient.Canceled);\n        result.name = BaseLanguageClient.Canceled;\n        return result;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.Canceled = 'Canceled';\n//# sourceMappingURL=client.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","module.exports = require(\"path\");","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","module.exports = require(\"fs\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","module.exports = require(\"os\");","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super(ril_1.default().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super(ril_1.default().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = net_1.createConnection(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = net_1.createServer((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = net_1.createConnection(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return api_1.createMessageConnection(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","module.exports = require(\"util\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                ral_1.default().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","module.exports = require(\"url\");","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","module.exports = require(\"child_process\");","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","module.exports = require(\"http\");","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","module.exports = require(\"https\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst SemVer = require(\"semver\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst commonClient_1 = require(\"../common/commonClient\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.52.0'; // do not change format, updated by `updateVSCode` script\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        let candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends commonClient_1.CommonLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === void 0) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        let codeVersion = SemVer.parse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    stop() {\n        return super.stop().then(() => {\n            if (this._serverProcess) {\n                let toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === void 0 || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                process.kill(childProcess.pid, 0);\n                processes_1.terminate(childProcess);\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            let result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        let server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n            }\n            else {\n                json = runDebug.run;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    let args = [];\n                    let options = node.options || Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = node_1.generateRandomPipeName();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        let serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return node_1.createClientPipeTransport(pipeName).then((transport) => {\n                            let process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return node_1.createClientSocketTransport(transport.port).then((transport) => {\n                            let process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, _reject) => {\n                        let args = node.args && node.args.slice() || [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = node_1.generateRandomPipeName();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        let options = node.options || Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            let sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            node_1.createClientPipeTransport(pipeName).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            node_1.createClientSocketTransport(transport.port).then((transport) => {\n                                let sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                });\n                            });\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                let command = json;\n                let args = command.args || [];\n                let options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                let serverProcess = cp.spawn(command.command, args, options);\n                if (!serverProcess || !serverProcess.pid) {\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\n                }\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                this._serverProcess = serverProcess;\n                this._isDetached = !!options.detached;\n                return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n    getLocale() {\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\n        if (envValue === undefined) {\n            return 'en';\n        }\n        let config = undefined;\n        try {\n            config = JSON.parse(envValue);\n        }\n        catch (err) {\n        }\n        if (config === undefined || typeof config.locale !== 'string') {\n            return 'en';\n        }\n        return config.locale;\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start();\n        }\n        else if (!enabled && this._client.needsStop()) {\n            this._client.stop();\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\n//# sourceMappingURL=main.js.map","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","module.exports = require(\"assert\");","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Uri, workspace } from 'vscode';\nimport { RequestType, CommonLanguageClient } from 'vscode-languageclient';\nimport { Runtime } from './htmlClient';\n\nexport namespace FsContentRequest {\n\texport const type: RequestType<{ uri: string; encoding?: string; }, string, any> = new RequestType('fs/content');\n}\nexport namespace FsStatRequest {\n\texport const type: RequestType<string, FileStat, any> = new RequestType('fs/stat');\n}\n\nexport namespace FsReadDirRequest {\n\texport const type: RequestType<string, [string, FileType][], any> = new RequestType('fs/readDir');\n}\n\nexport function serveFileSystemRequests(client: CommonLanguageClient, runtime: Runtime) {\n\tclient.onRequest(FsContentRequest.type, (param: { uri: string; encoding?: string; }) => {\n\t\tconst uri = Uri.parse(param.uri);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.getContent(param.uri);\n\t\t}\n\t\treturn workspace.fs.readFile(uri).then(buffer => {\n\t\t\treturn new runtime.TextDecoder(param.encoding).decode(buffer);\n\t\t});\n\t});\n\tclient.onRequest(FsReadDirRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.readDirectory(uriString);\n\t\t}\n\t\treturn workspace.fs.readDirectory(uri);\n\t});\n\tclient.onRequest(FsStatRequest.type, (uriString: string) => {\n\t\tconst uri = Uri.parse(uriString);\n\t\tif (uri.scheme === 'file' && runtime.fs) {\n\t\t\treturn runtime.fs.stat(uriString);\n\t\t}\n\t\treturn workspace.fs.stat(uri);\n\t});\n}\n\nexport enum FileType {\n\t/**\n\t * The file type is unknown.\n\t */\n\tUnknown = 0,\n\t/**\n\t * A regular file.\n\t */\n\tFile = 1,\n\t/**\n\t * A directory.\n\t */\n\tDirectory = 2,\n\t/**\n\t * A symbolic link to a file.\n\t */\n\tSymbolicLink = 64\n}\nexport interface FileStat {\n\t/**\n\t * The type of the file, e.g. is a regular file, a directory, or symbolic link\n\t * to a file.\n\t */\n\ttype: FileType;\n\t/**\n\t * The creation timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tctime: number;\n\t/**\n\t * The modification timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n\t */\n\tmtime: number;\n\t/**\n\t * The size in bytes.\n\t */\n\tsize: number;\n}\n\nexport interface RequestService {\n\tgetContent(uri: string, encoding?: string): Promise<string>;\n\n\tstat(uri: string): Promise<FileStat>;\n\treadDirectory(uri: string): Promise<[string, FileType][]>;\n}\n\nexport function getScheme(uri: string) {\n\treturn uri.substr(0, uri.indexOf(':'));\n}\n\nexport function dirname(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn lastIndexOfSlash !== -1 ? uri.substr(0, lastIndexOfSlash) : '';\n}\n\nexport function basename(uri: string) {\n\tconst lastIndexOfSlash = uri.lastIndexOf('/');\n\treturn uri.substr(lastIndexOfSlash + 1);\n}\n\nconst Slash = '/'.charCodeAt(0);\nconst Dot = '.'.charCodeAt(0);\n\nexport function isAbsolutePath(path: string) {\n\treturn path.charCodeAt(0) === Slash;\n}\n\nexport function resolvePath(uri: Uri, path: string): Uri {\n\tif (isAbsolutePath(path)) {\n\t\treturn uri.with({ path: normalizePath(path.split('/')) });\n\t}\n\treturn joinPath(uri, path);\n}\n\nexport function normalizePath(parts: string[]): string {\n\tconst newParts: string[] = [];\n\tfor (const part of parts) {\n\t\tif (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot) {\n\t\t\t// ignore\n\t\t} else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {\n\t\t\tnewParts.pop();\n\t\t} else {\n\t\t\tnewParts.push(part);\n\t\t}\n\t}\n\tif (parts.length > 1 && parts[parts.length - 1].length === 0) {\n\t\tnewParts.push('');\n\t}\n\tlet res = newParts.join('/');\n\tif (parts[0].length === 0) {\n\t\tres = '/' + res;\n\t}\n\treturn res;\n}\n\n\nexport function joinPath(uri: Uri, ...paths: string[]): Uri {\n\tconst parts = uri.path.split('/');\n\tfor (let path of paths) {\n\t\tparts.push(...path.split('/'));\n\t}\n\treturn uri.with({ path: normalizePath(parts) });\n}\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.CommonLanguageClient = void 0;\nconst client_1 = require(\"./client\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst configuration_1 = require(\"./configuration\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nclass CommonLanguageClient extends client_1.BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        super(id, name, clientOptions);\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    registerBuiltinFeatures() {\n        super.registerBuiltinFeatures();\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n    }\n}\nexports.CommonLanguageClient = CommonLanguageClient;\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=commonClient.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\nexports.CancellationStrategy = void 0;\nconst messages_1 = require(\"../common/messages\");\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst disposable_1 = require(\"../common/disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"../common/events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"../common/cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"../common/messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"../common/messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"../common/connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\n    ErrorCodes.MessageWriteError = -32099;\n    ErrorCodes.MessageReadError = -32098;\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        return {\n            code: this.code,\n            message: this.message,\n            data: this.data,\n        };\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\n/**\n * Tests if the given message is a request message\n */\nfunction isRequestMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n}\nexports.isRequestMessage = isRequestMessage;\n/**\n * Tests if the given message is a notification message\n */\nfunction isNotificationMessage(message) {\n    const candidate = message;\n    return candidate && is.string(candidate.method) && message.id === void 0;\n}\nexports.isNotificationMessage = isNotificationMessage;\n/**\n * Tests if the given message is a response message\n */\nfunction isResponseMessage(message) {\n    const candidate = message;\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n}\nexports.isResponseMessage = isResponseMessage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","module.exports = require(\"crypto\");","module.exports = require(\"net\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass ConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    dispose() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._disposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            this._progress = progress;\n            this._infinite = params.percentage === undefined;\n            this._cancellationToken = cancellationToken;\n            this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            let percentage = Math.max(0, Math.min(params.percentage, 100));\n            let delta = Math.max(0, percentage - this._reported);\n            this._progress.report({ message: params.message, increment: delta });\n            this._reported += delta;\n        }\n    }\n    cancel() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._reject) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        if (this._disposable) {\n            this._disposable.dispose();\n            this._disposable = undefined;\n        }\n        if (this._resolve) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return ral_1.default().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return ral_1.default().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++;\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER)\n          return num;\n      }\n      return id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  this.raw = this.version;\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\nComparator.prototype.intersects = function(comp, loose) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required');\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, loose);\n    return satisfies(this.value, rangeTmp, loose);\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, loose);\n    return satisfies(comp.semver, rangeTmp, loose);\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, loose) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, loose) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if (range instanceof Range) {\n    if (range.loose === loose) {\n      return range;\n    } else {\n      return new Range(range.raw, loose);\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, loose);\n  }\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\nRange.prototype.intersects = function(range, loose) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required');\n  }\n\n  return this.set.some(function(thisComparators) {\n    return thisComparators.every(function(thisComparator) {\n      return range.set.some(function(rangeComparators) {\n        return rangeComparators.every(function(rangeComparator) {\n          return thisComparator.intersects(rangeComparator, loose);\n        });\n      });\n    });\n  });\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm)\n          M = +M + 1;\n        else\n          m = +m + 1;\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        continue;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, loose);\n      }\n    }\n  })\n  return max;\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying(versions, range, loose) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, loose);\n      }\n    }\n  })\n  return min;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexports.prerelease = prerelease;\nfunction prerelease(version, loose) {\n  var parsed = parse(version, loose);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;\n}\n\nexports.intersects = intersects;\nfunction intersects(r1, r2, loose) {\n  r1 = new Range(r1, loose)\n  r2 = new Range(r2, loose)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce;\nfunction coerce(version) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  var match = version.match(re[COERCE]);\n\n  if (match == null)\n    return null;\n\n  return parse((match[1] || '0') + '.' + (match[2] || '0') + '.' + (match[3] || '0')); \n}\n","module.exports = require(\"module\");","module.exports = require(\"timers\");","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","module.exports = require(\"zlib\");","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getNodeFSRequestService } from './nodeFs';\nimport { ExtensionContext } from 'vscode';\nimport { startClient, LanguageClientConstructor } from '../htmlClient';\nimport { ServerOptions, TransportKind, LanguageClientOptions, LanguageClient } from 'vscode-languageclient/node';\nimport { TextDecoder } from 'util';\nimport * as fs from 'fs';\nimport TelemetryReporter from 'vscode-extension-telemetry';\n\n\nlet telemetry: TelemetryReporter | undefined;\n\n// this method is called when vs code is activated\nexport function activate(context: ExtensionContext) {\n\n\tlet clientPackageJSON = getPackageInfo(context);\n\ttelemetry = new TelemetryReporter(clientPackageJSON.name, clientPackageJSON.version, clientPackageJSON.aiKey);\n\n\tconst serverMain = `./server/${clientPackageJSON.main.indexOf('/dist/') !== -1 ? 'dist' : 'out'}/node/htmlServerMain`;\n\tconst serverModule = context.asAbsolutePath(serverMain);\n\n\t// The debug options for the server\n\tconst debugOptions = { execArgv: ['--nolazy', '--inspect=' + (8000 + Math.round(Math.random() * 999))] };\n\n\t// If the extension is launch in debug mode the debug server options are use\n\t// Otherwise the run options are used\n\tconst serverOptions: ServerOptions = {\n\t\trun: { module: serverModule, transport: TransportKind.ipc },\n\t\tdebug: { module: serverModule, transport: TransportKind.ipc, options: debugOptions }\n\t};\n\n\tconst newLanguageClient: LanguageClientConstructor = (id: string, name: string, clientOptions: LanguageClientOptions) => {\n\t\treturn new LanguageClient(id, name, serverOptions, clientOptions);\n\t};\n\n\tstartClient(context, newLanguageClient, { fs: getNodeFSRequestService(), TextDecoder, telemetry });\n}\n\ninterface IPackageInfo {\n\tname: string;\n\tversion: string;\n\taiKey: string;\n\tmain: string;\n}\n\nfunction getPackageInfo(context: ExtensionContext): IPackageInfo {\n\tconst location = context.asAbsolutePath('./package.json');\n\ttry {\n\t\treturn JSON.parse(fs.readFileSync(location).toString());\n\t} catch (e) {\n\t\tconsole.log(`Problems reading ${location}: ${e}`);\n\t\treturn { name: '', version: '', aiKey: '', main: '' };\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport { Uri } from 'vscode';\nimport { getScheme, RequestService, FileType } from '../requests';\n\nexport function getNodeFSRequestService(): RequestService {\n\tfunction ensureFileUri(location: string) {\n\t\tif (getScheme(location) !== 'file') {\n\t\t\tthrow new Error('fileRequestService can only handle file URLs');\n\t\t}\n\t}\n\treturn {\n\t\tgetContent(location: string, encoding?: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.readFile(uri.fsPath, encoding, (err, buf) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(buf.toString());\n\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tstat(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst uri = Uri.parse(location);\n\t\t\t\tfs.stat(uri.fsPath, (err, stats) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\t\t\t\treturn c({ type: FileType.Unknown, ctime: -1, mtime: -1, size: -1 });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet type = FileType.Unknown;\n\t\t\t\t\tif (stats.isFile()) {\n\t\t\t\t\t\ttype = FileType.File;\n\t\t\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\t\t\ttype = FileType.Directory;\n\t\t\t\t\t} else if (stats.isSymbolicLink()) {\n\t\t\t\t\t\ttype = FileType.SymbolicLink;\n\t\t\t\t\t}\n\n\t\t\t\t\tc({\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tctime: stats.ctime.getTime(),\n\t\t\t\t\t\tmtime: stats.mtime.getTime(),\n\t\t\t\t\t\tsize: stats.size\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\treadDirectory(location: string) {\n\t\t\tensureFileUri(location);\n\t\t\treturn new Promise((c, e) => {\n\t\t\t\tconst path = Uri.parse(location).fsPath;\n\n\t\t\t\tfs.readdir(path, { withFileTypes: true }, (err, children) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn e(err);\n\t\t\t\t\t}\n\t\t\t\t\tc(children.map(stat => {\n\t\t\t\t\t\tif (stat.isSymbolicLink()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.SymbolicLink];\n\t\t\t\t\t\t} else if (stat.isDirectory()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Directory];\n\t\t\t\t\t\t} else if (stat.isFile()) {\n\t\t\t\t\t\t\treturn [stat.name, FileType.File];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn [stat.name, FileType.Unknown];\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst { ANY } = require('../classes/comparator.js')\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a subset of some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else return false\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n// - If any C is a = range, and GT or LT are set, return false\n// - Else return true\n\nconst subset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY)\n    return dom.length === 1 && dom[0].semver === ANY\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            return setTimeout(callback, ms, ...args);\n        },\n        clearTimeout(handle) {\n            clearTimeout(handle);\n        },\n        setImmediate(callback, ...args) {\n            return setImmediate(callback, ...args);\n        },\n        clearImmediate(handle) {\n            clearImmediate(handle);\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        var _a;\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\n        }\n        else {\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        var _a, _b;\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\n        }\n        else {\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSquenceNumber = 0;\n    let unknownResponseSquenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = Object.create(null);\n    let starNotificationHandler = undefined;\n    const notificationHandlers = Object.create(null);\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = Object.create(null);\n    let requestTokens = Object.create(null);\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSquenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.isRequestMessage(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.isResponseMessage(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = ral_1.default().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.isRequestMessage(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.isNotificationMessage(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.isResponseMessage(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\n                const key = createRequestQueueKey(message.params.id);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.isRequestMessage(toCancel)) {\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response);\n                        return;\n                    }\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers[requestMessage.method];\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = String(requestMessage.id);\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            requestTokens[tokenKey] = cancellationSource;\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    delete requestTokens[tokenKey];\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        delete requestTokens[tokenKey];\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        delete requestTokens[tokenKey];\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    delete requestTokens[tokenKey];\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                delete requestTokens[tokenKey];\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = String(responseMessage.id);\n            const responsePromise = responsePromises[key];\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise) {\n                delete responsePromises[key];\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            notificationHandler = (params) => {\n                const id = params.id;\n                const source = requestTokens[String(id)];\n                if (source) {\n                    source.cancel();\n                }\n            };\n        }\n        else {\n            const element = notificationHandlers[message.method];\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        if (type !== undefined) {\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                            }\n                            if (type.numberOfParams !== message.params.length) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\n                            }\n                        }\n                        notificationHandler(...message.params);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = String(responseMessage.id);\n            const responseHandler = responsePromises[key];\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose && message.params) {\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.params) {\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n                break;\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            messageWriter.write(notificationMessage);\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers[type] = { type: undefined, handler };\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        delete notificationHandlers[method];\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    cancellationStrategy.sender.sendCancellation(connection, id);\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage);\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises[String(id)] = responsePromise;\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers[type] = { handler: handler, type: undefined };\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers[type.method] = { type, handler };\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        delete requestHandlers[method];\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new Error('Connection got disposed.');\n            Object.keys(responsePromises).forEach((key) => {\n                responsePromises[key].reject(error);\n            });\n            responsePromises = Object.create(null);\n            requestTokens = Object.create(null);\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            ral_1.default().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[Symbol.toStringTag] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        var _a;\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    get last() {\n        var _a;\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const map = this;\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]() {\n                return iterator;\n            },\n            next() {\n                if (map._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happend if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    LSPErrorCodes.ContentModified = -32801;\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * Enum of known range kinds\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return typeof candidate === 'string';\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \" + id + \" is already in use.\");\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \" + id);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param uri The document's text.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n})(MarkupKind || (MarkupKind = {}));\n(function (MarkupKind) {\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol, defaults to the current document.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The DocumentFilter namespace provides helper functions to work with\n * [DocumentFilter](#DocumentFilter) literals.\n */\nvar DocumentFilter;\n(function (DocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    DocumentFilter.is = is;\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeError`;\n */\nvar InitializeError;\n(function (InitializeError) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeError.unknownProtocolVersion = 1;\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Enum of known range kinds\n */\nvar FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind[\"Comment\"] = \"comment\";\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind[\"Imports\"] = \"imports\";\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind[\"Region\"] = \"region\";\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to a incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nvar SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel[\"document\"] = \"document\";\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel[\"project\"] = \"project\";\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel[\"group\"] = \"group\";\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel[\"scheme\"] = \"scheme\";\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel[\"global\"] = \"global\";\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind[\"import\"] = \"import\";\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind[\"export\"] = \"export\";\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind[\"local\"] = \"local\";\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: {\n                uri: _uriConverter(textDocument.uri),\n                languageId: textDocument.languageId,\n                version: textDocument.version,\n                text: textDocument.getText()\n            }\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line, character: value.character };\n    }\n    function asPositions(value) {\n        let result = [];\n        for (let elem of value) {\n            result.push(asPosition(elem));\n        }\n        return result;\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return items.map(asDiagnostic);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item) {\n        let result = { label: item.label };\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    function asCodeAction(item) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnostics(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), only);\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDiagnostics(diagnostics) {\n        return diagnostics.map(asDiagnostic);\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                result.code = {\n                    value: diagnostic.code,\n                    target: asUri(diagnostic.codeDescription.href)\n                };\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                result.hasDiagnosticCode = true;\n                result.code = {\n                    value: diagnostic.code.value,\n                    target: asUri(diagnostic.code.target)\n                };\n            }\n            else {\n                result.code = diagnostic.code;\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        return relatedInformation.map(asDiagnosticRelatedInformation);\n    }\n    function asDiagnosticRelatedInformation(information) {\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Position(value.line, value.character);\n    }\n    function asRange(value) {\n        if (!value) {\n            return undefined;\n        }\n        return new code.Range(asPosition(value.start), asPosition(value.end));\n    }\n    function asRanges(value) {\n        return value.map(value => asRange(value));\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            let result;\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    result = asMarkdownString();\n                    result.appendText(value.value);\n                    return result;\n                default:\n                    result = asMarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    return result;\n            }\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        const result = new code.MarkdownString(value);\n        if (trustMarkdown === true) {\n            result.isTrusted = trustMarkdown;\n        }\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    function asCompletionResult(result) {\n        if (!result) {\n            return undefined;\n        }\n        if (Array.isArray(result)) {\n            let items = result;\n            return items.map(asCompletionItem);\n        }\n        let list = result;\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item) {\n        let tags = asCompletionItemTags(item.tags);\n        let result = new protocolCompletionItem_1.default(item.label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        let insertText = asCompletionInsertText(item);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (Is.stringArray(item.commitCharacters)) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        if (item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        if (item.insertTextMode !== undefined) {\n            result.insertTextMode = item.insertTextMode;\n            if (item.insertTextMode === vscode_languageserver_protocol_1.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionInsertText(item) {\n        if (item.textEdit) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.textEdit.newText), range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n            else {\n                return { text: item.textEdit.newText, range: asCompletionRange(item.textEdit), fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function asCompletionRange(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return { inserting: asRange(value.insert), replacing: asRange(value.replace) };\n        }\n        else {\n            return asRange(value.range);\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    function asTextEdits(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asTextEdit);\n    }\n    function asSignatureHelp(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = asSignatureInformations(item.signatures);\n        }\n        return result;\n    }\n    function asSignatureInformations(items) {\n        return items.map(asSignatureInformation);\n    }\n    function asSignatureInformation(item) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = asParameterInformations(item.parameters);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(item) {\n        return item.map(asParameterInformation);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        if (!item) {\n            return undefined;\n        }\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\n    }\n    function asDeclarationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asDefinitionResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    function asLocationResult(item) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                let links = item;\n                return links.map((link) => asLocationLink(link));\n            }\n            else {\n                let locations = item;\n                return locations.map((location) => asLocation(location));\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    function asReferences(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(location => asLocation(location));\n    }\n    function asDocumentHighlights(values) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(asDocumentHighlight);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    function asSymbolInformations(values, uri) {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(information => asSymbolInformation(information, uri));\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item, uri) {\n        // Symbol kind is one based in the protocol and zero based in code.\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\n        fillTags(result, item);\n        if (item.containerName) {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asDocumentSymbols(values) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return values.map(asDocumentSymbol);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCommands(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asCommand);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    function asCodeAction(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnostics(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = asWorkspaceEdit(item.edit);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asCodeLenses(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map((codeLens) => asCodeLens(codeLens));\n    }\n    function asWorkspaceEdit(item) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            for (const key of Object.keys(item.changeAnnotations)) {\n                const metaData = asWorkspaceEditEntryMetadata(item.changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            for (const change of item.documentChanges) {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (vscode_languageserver_protocol_1.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }\n        }\n        else if (item.changes) {\n            Object.keys(item.changes).forEach(key => {\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\n            });\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    function asDocumentLinks(items) {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(asDocumentLink);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    function asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(asColorInformation);\n        }\n        return undefined;\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    function asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(asColorPresentation);\n        }\n        return undefined;\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    function asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(asFoldingRange);\n        }\n        return undefined;\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    function asSelectionRanges(selectionRanges) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        let result = [];\n        for (let range of selectionRanges) {\n            result.push(asSelectionRange(range));\n        }\n        return result;\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    function asCallHierarchyItems(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyItem(item));\n    }\n    function asCallHierarchyIncomingCall(item) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), asRanges(item.fromRanges));\n    }\n    function asCallHierarchyIncomingCalls(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyIncomingCall(item));\n    }\n    function asCallHierarchyOutgoingCall(item) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), asRanges(item.fromRanges));\n    }\n    function asCallHierarchyOutgoingCalls(items) {\n        if (items === null) {\n            return undefined;\n        }\n        return items.map(item => asCallHierarchyOutgoingCall(item));\n    }\n    function asSemanticTokens(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    function asSemanticTokensEdits(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    function asLinkedEditingRanges(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(asRanges(value.ranges), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    return {\n        asUri,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = vscode_languageserver_protocol_1.RAL().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== void 0;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== void 0) {\n            vscode_languageserver_protocol_1.RAL().timer.clearTimeout(this.timeout);\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(options.documentSelector, provider), provider];\n    }\n    asColor(color) {\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    asColorInformations(colorInformation) {\n        if (Array.isArray(colorInformation)) {\n            return colorInformation.map(ci => {\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\n            });\n        }\n        return [];\n    }\n    asColorPresentations(colorPresentations) {\n        if (Array.isArray(colorPresentations)) {\n            return colorPresentations.map(cp => {\n                let presentation = new vscode_1.ColorPresentation(cp.label);\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\n                return presentation;\n            });\n        }\n        return [];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass ImplementationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = ensure(ensure(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerImplementationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(ensure(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = ensure(ensure(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.clientOptions.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            this.doSendEvent(currentWorkspaceFolders, []);\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.clientOptions.middleware.workspace;\n            middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolders.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(FoldingRangeFeature.asFoldingRanges, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, provider), provider];\n    }\n    static asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\n                    return vscode_1.FoldingRangeKind.Comment;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\n                    return vscode_1.FoldingRangeKind.Imports;\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\n                    return vscode_1.FoldingRangeKind.Region;\n            }\n        }\n        return void 0;\n    }\n    static asFoldingRanges(foldingRanges) {\n        if (Array.isArray(foldingRanges)) {\n            return foldingRanges.map(r => {\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, FoldingRangeFeature.asFoldingRangeKind(r.kind));\n            });\n        }\n        return [];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass DeclarationFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = ensure(ensure(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDeclarationProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass SelectionRangeFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: client.code2ProtocolConverter.asPositions(positions)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => client.protocol2CodeConverter.asSelectionRanges(ranges), (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [vscode_1.languages.registerSelectionRangeProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    dispose() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.clientOptions.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyItems(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst client_1 = require(\"./client\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass SemanticTokensFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.clientOptions.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then((result) => {\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return client.protocol2CodeConverter.asSemanticTokens(result);\n                                }\n                                else {\n                                    return client.protocol2CodeConverter.asSemanticTokensEdits(result);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.clientOptions.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(options.documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._filters = new Map();\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        var _a;\n        const options = (_a = capabilities.workspace) === null || _a === void 0 ? void 0 : _a.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if ((capability === null || capability === void 0 ? void 0 : capability.filters) !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return Object.assign(Object.assign({}, event), { files });\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (options.ignoreCase === true) {\n            return { nocase: true };\n        }\n        return undefined;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didCreateFiles) ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didRenameFiles) ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didDeleteFiles) ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event))\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willCreateFiles) ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willRenameFiles) ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        var _a;\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willDeleteFiles) ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n//# sourceMappingURL=fileOperations.js.map","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst client_1 = require(\"./client\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nclass LinkedEditingFeature extends client_1.TextDocumentFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = ensure(ensure(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asLinkedEditingRanges, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, error, null);\n                    });\n                };\n                const middleware = client.clientOptions.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [code.languages.registerLinkedEditingRangeProvider(options.documentSelector, provider), provider];\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./commonClient\"), exports);\n//# sourceMappingURL=api.js.map",null,"\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = void 0;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nvar toString = Object.prototype.toString;\nfunction isNumber(value) {\n    return toString.call(value) === '[object Number]';\n}\nfunction isString(value) {\n    return toString.call(value) === '[object String]';\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction readJsonFileSync(filename) {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n}\nvar resolvedBundles;\nvar options;\nfunction initializeSettings() {\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: common_1.MessageFormat.bundle };\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\n        try {\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\n            var language = void 0;\n            if (vscodeOptions_1.availableLanguages) {\n                var value = vscodeOptions_1.availableLanguages['*'];\n                if (isString(value)) {\n                    language = value;\n                }\n            }\n            if (isString(vscodeOptions_1.locale)) {\n                options.locale = vscodeOptions_1.locale.toLowerCase();\n            }\n            if (language === undefined) {\n                options.language = options.locale;\n            }\n            else if (language !== 'en') {\n                options.language = language;\n            }\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\n            }\n            if (isString(vscodeOptions_1._cacheRoot)) {\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\n            }\n            if (isString(vscodeOptions_1._languagePackId)) {\n                options.languagePackId = vscodeOptions_1._languagePackId;\n            }\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\n                try {\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\n                }\n                catch (error) {\n                    // We can't read the translation config file. Mark the cache as corrupted.\n                    if (vscodeOptions_1._corruptedFile) {\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\n                        fs.exists(dirname, function (exists) {\n                            if (exists) {\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\n                                    console.error(err);\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        catch (_a) {\n            // Do nothing.\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    resolvedBundles = Object.create(null);\n}\ninitializeSettings();\nfunction supportsLanguagePack() {\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\n        && options.translationsConfig !== undefined;\n}\nfunction createScopedLocalizeFunction(messages) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (isNumber(key)) {\n            if (key >= messages.length) {\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\n                return;\n            }\n            return common_1.format(messages[key], args);\n        }\n        else {\n            if (isString(message)) {\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\n                return common_1.format(message, args);\n            }\n            else {\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\n            }\n        }\n    };\n}\nfunction resolveLanguage(file) {\n    var resolvedLanguage;\n    if (options.cacheLanguageResolution && resolvedLanguage) {\n        resolvedLanguage = resolvedLanguage;\n    }\n    else {\n        if (common_1.isPseudo || !options.language) {\n            resolvedLanguage = '.nls.json';\n        }\n        else {\n            var locale = options.language;\n            while (locale) {\n                var candidate = '.nls.' + locale + '.json';\n                if (fs.existsSync(file + candidate)) {\n                    resolvedLanguage = candidate;\n                    break;\n                }\n                else {\n                    var index = locale.lastIndexOf('-');\n                    if (index > 0) {\n                        locale = locale.substring(0, index);\n                    }\n                    else {\n                        resolvedLanguage = '.nls.json';\n                        locale = null;\n                    }\n                }\n            }\n        }\n        if (options.cacheLanguageResolution) {\n            resolvedLanguage = resolvedLanguage;\n        }\n    }\n    return file + resolvedLanguage;\n}\nfunction findInTheBoxBundle(root) {\n    var language = options.language;\n    while (language) {\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n        else {\n            var index = language.lastIndexOf('-');\n            if (index > 0) {\n                language = language.substring(0, index);\n            }\n            else {\n                language = undefined;\n            }\n        }\n    }\n    // Test if we can reslove the default bundle.\n    if (language === undefined) {\n        var candidate = path.join(root, 'nls.bundle.json');\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n    }\n    return undefined;\n}\nfunction mkdir(directory) {\n    try {\n        fs.mkdirSync(directory);\n    }\n    catch (err) {\n        if (err.code === 'EEXIST') {\n            return;\n        }\n        else if (err.code === 'ENOENT') {\n            var parent = path.dirname(directory);\n            if (parent !== directory) {\n                mkdir(parent);\n                fs.mkdirSync(directory);\n            }\n        }\n        else {\n            throw err;\n        }\n    }\n}\nfunction createDefaultNlsBundle(folder) {\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_1 in metaData) {\n        var entry = metaData[module_1];\n        result[module_1] = entry.messages;\n    }\n    return result;\n}\nfunction createNLSBundle(header, metaDataPath) {\n    var languagePackLocation = options.translationsConfig[header.id];\n    if (!languagePackLocation) {\n        return undefined;\n    }\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_2 in metaData) {\n        var entry = metaData[module_2];\n        var translations = languagePack[header.outDir + \"/\" + module_2];\n        if (translations) {\n            var resultMessages = [];\n            for (var i = 0; i < entry.keys.length; i++) {\n                var messageKey = entry.keys[i];\n                var key = isString(messageKey) ? messageKey : messageKey.key;\n                var translatedMessage = translations[key];\n                if (translatedMessage === undefined) {\n                    translatedMessage = entry.messages[i];\n                }\n                resultMessages.push(translatedMessage);\n            }\n            result[module_2] = resultMessages;\n        }\n        else {\n            result[module_2] = entry.messages;\n        }\n    }\n    return result;\n}\nfunction touch(file) {\n    var d = new Date();\n    fs.utimes(file, d, d, function () {\n        // Do nothing. Ignore\n    });\n}\nfunction cacheBundle(key, bundle) {\n    resolvedBundles[key] = bundle;\n    return bundle;\n}\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\n    var result;\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\n    var useMemoryOnly = false;\n    var writeBundle = false;\n    try {\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\n        touch(bundle);\n        return result;\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            writeBundle = true;\n        }\n        else if (err instanceof SyntaxError) {\n            // We have a syntax error. So no valid JSON. Use\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\n            fs.unlink(bundle, function (err) {\n                if (err) {\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\n                }\n            });\n            useMemoryOnly = true;\n        }\n        else {\n            throw err;\n        }\n    }\n    result = createNLSBundle(header, bundlePath);\n    if (!result || useMemoryOnly) {\n        return result;\n    }\n    if (writeBundle) {\n        try {\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\n        }\n        catch (err) {\n            if (err.code === 'EEXIST') {\n                return result;\n            }\n            throw err;\n        }\n    }\n    return result;\n}\nfunction loadDefaultNlsBundle(bundlePath) {\n    try {\n        return createDefaultNlsBundle(bundlePath);\n    }\n    catch (err) {\n        console.log(\"Generating default bundle from meta data failed.\", err);\n        return undefined;\n    }\n}\nfunction loadNlsBundle(header, bundlePath) {\n    var result;\n    // Core decided to use a language pack. Do the same in the extension\n    if (supportsLanguagePack()) {\n        try {\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\n        }\n        catch (err) {\n            console.log(\"Load or create bundle failed \", err);\n        }\n    }\n    if (!result) {\n        // No language pack found, but core is running in language pack mode\n        // Don't try to use old in the box bundles since the might be stale\n        // Fall right back to the default bundle.\n        if (options.languagePackSupport) {\n            return loadDefaultNlsBundle(bundlePath);\n        }\n        var candidate = findInTheBoxBundle(bundlePath);\n        if (candidate) {\n            try {\n                return readJsonFileSync(candidate);\n            }\n            catch (err) {\n                console.log(\"Loading in the box message bundle failed.\", err);\n            }\n        }\n        result = loadDefaultNlsBundle(bundlePath);\n    }\n    return result;\n}\nfunction tryFindMetaDataHeaderFile(file) {\n    var result;\n    var dirname = path.dirname(file);\n    while (true) {\n        result = path.join(dirname, 'nls.metadata.header.json');\n        if (fs.existsSync(result)) {\n            break;\n        }\n        var parent = path.dirname(dirname);\n        if (parent === dirname) {\n            result = undefined;\n            break;\n        }\n        else {\n            dirname = parent;\n        }\n    }\n    return result;\n}\nfunction loadMessageBundle(file) {\n    if (!file) {\n        // No file. We are in dev mode. Return the default\n        // localize function.\n        return common_1.localize;\n    }\n    // Remove extension since we load json files.\n    var ext = path.extname(file);\n    if (ext) {\n        file = file.substr(0, file.length - ext.length);\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.bundle) {\n        var headerFile = tryFindMetaDataHeaderFile(file);\n        if (headerFile) {\n            var bundlePath = path.dirname(headerFile);\n            var bundle = resolvedBundles[bundlePath];\n            if (bundle === undefined) {\n                try {\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\n                    try {\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\n                    }\n                    catch (err) {\n                        console.error('Failed to load nls bundle', err);\n                        bundle = cacheBundle(bundlePath, null);\n                    }\n                }\n                catch (err) {\n                    console.error('Failed to read header file', err);\n                    bundle = cacheBundle(bundlePath, null);\n                }\n            }\n            if (bundle) {\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\n                var messages = bundle.nlsBundle[module_3];\n                if (messages === undefined) {\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\n                    return function () {\n                        return 'Messages not found.';\n                    };\n                }\n                return createScopedLocalizeFunction(messages);\n            }\n        }\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.file) {\n        // Try to load a single file bundle\n        try {\n            var json = readJsonFileSync(resolveLanguage(file));\n            if (Array.isArray(json)) {\n                return createScopedLocalizeFunction(json);\n            }\n            else {\n                if (common_1.isDefined(json.messages) && common_1.isDefined(json.keys)) {\n                    return createScopedLocalizeFunction(json.messages);\n                }\n                else {\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\n                    return function () {\n                        return 'File bundle has unsupported format. See console for details';\n                    };\n                }\n            }\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                console.error('Failed to load single file bundle', err);\n            }\n        }\n    }\n    console.error(\"Failed to load message bundle for file \" + file);\n    return function () {\n        return 'Failed to load message bundle. See console for details.';\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    if (opts) {\n        if (isString(opts.locale)) {\n            options.locale = opts.locale.toLowerCase();\n            options.language = options.locale;\n            resolvedBundles = Object.create(null);\n        }\n        if (opts.messageFormat !== undefined) {\n            options.messageFormat = opts.messageFormat;\n        }\n        if (opts.bundleFormat === common_1.BundleFormat.standalone && options.languagePackSupport === true) {\n            options.languagePackSupport = false;\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const EMPTY_ELEMENTS: string[] = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'];\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { window, workspace, Disposable, TextDocumentContentChangeEvent, TextDocument, Position, SnippetString } from 'vscode';\n\nexport function activateTagClosing(tagProvider: (document: TextDocument, position: Position) => Thenable<string>, supportedLanguages: { [id: string]: boolean }, configName: string): Disposable {\n\n\tlet disposables: Disposable[] = [];\n\tworkspace.onDidChangeTextDocument(event => onDidChangeTextDocument(event.document, event.contentChanges), null, disposables);\n\n\tlet isEnabled = false;\n\tupdateEnabledState();\n\twindow.onDidChangeActiveTextEditor(updateEnabledState, null, disposables);\n\n\tlet timeout: NodeJS.Timer | undefined = undefined;\n\n\tfunction updateEnabledState() {\n\t\tisEnabled = false;\n\t\tlet editor = window.activeTextEditor;\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\t\tlet document = editor.document;\n\t\tif (!supportedLanguages[document.languageId]) {\n\t\t\treturn;\n\t\t}\n\t\tif (!workspace.getConfiguration(undefined, document.uri).get<boolean>(configName)) {\n\t\t\treturn;\n\t\t}\n\t\tisEnabled = true;\n\t}\n\n\tfunction onDidChangeTextDocument(document: TextDocument, changes: readonly TextDocumentContentChangeEvent[]) {\n\t\tif (!isEnabled) {\n\t\t\treturn;\n\t\t}\n\t\tlet activeDocument = window.activeTextEditor && window.activeTextEditor.document;\n\t\tif (document !== activeDocument || changes.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof timeout !== 'undefined') {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t\tlet lastChange = changes[changes.length - 1];\n\t\tlet lastCharacter = lastChange.text[lastChange.text.length - 1];\n\t\tif (lastChange.rangeLength > 0 || lastCharacter !== '>' && lastCharacter !== '/') {\n\t\t\treturn;\n\t\t}\n\t\tlet rangeStart = lastChange.range.start;\n\t\tlet version = document.version;\n\t\ttimeout = setTimeout(() => {\n\t\t\tlet position = new Position(rangeStart.line, rangeStart.character + lastChange.text.length);\n\t\t\ttagProvider(document, position).then(text => {\n\t\t\t\tif (text && isEnabled) {\n\t\t\t\t\tlet activeEditor = window.activeTextEditor;\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\tlet activeDocument = activeEditor.document;\n\t\t\t\t\t\tif (document === activeDocument && activeDocument.version === version) {\n\t\t\t\t\t\t\tlet selections = activeEditor.selections;\n\t\t\t\t\t\t\tif (selections.length && selections.some(s => s.active.isEqual(position))) {\n\t\t\t\t\t\t\t\tactiveEditor.insertSnippet(new SnippetString(text), selections.map(s => s.active));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tactiveEditor.insertSnippet(new SnippetString(text), position);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\ttimeout = undefined;\n\t\t}, 100);\n\t}\n\treturn Disposable.from(...disposables);\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { workspace, extensions, Uri, EventEmitter, Disposable } from 'vscode';\nimport { resolvePath, joinPath } from './requests';\n\nexport function getCustomDataSource(toDispose: Disposable[]) {\n\tlet pathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\tlet pathsInExtensions = getCustomDataPathsFromAllExtensions();\n\n\tconst onChange = new EventEmitter<void>();\n\n\ttoDispose.push(extensions.onDidChange(_ => {\n\t\tconst newPathsInExtensions = getCustomDataPathsFromAllExtensions();\n\t\tif (newPathsInExtensions.length !== pathsInExtensions.length || !newPathsInExtensions.every((val, idx) => val === pathsInExtensions[idx])) {\n\t\t\tpathsInExtensions = newPathsInExtensions;\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\ttoDispose.push(workspace.onDidChangeConfiguration(e => {\n\t\tif (e.affectsConfiguration('html.customData')) {\n\t\t\tpathsInWorkspace = getCustomDataPathsInAllWorkspaces();\n\t\t\tonChange.fire();\n\t\t}\n\t}));\n\n\treturn {\n\t\tget uris() {\n\t\t\treturn pathsInWorkspace.concat(pathsInExtensions);\n\t\t},\n\t\tget onDidChange() {\n\t\t\treturn onChange.event;\n\t\t}\n\t};\n}\n\n\nfunction getCustomDataPathsInAllWorkspaces(): string[] {\n\tconst workspaceFolders = workspace.workspaceFolders;\n\n\tconst dataPaths: string[] = [];\n\n\tif (!workspaceFolders) {\n\t\treturn dataPaths;\n\t}\n\n\tconst collect = (paths: string[] | undefined, rootFolder: Uri) => {\n\t\tif (Array.isArray(paths)) {\n\t\t\tfor (const path of paths) {\n\t\t\t\tif (typeof path === 'string') {\n\t\t\t\t\tdataPaths.push(resolvePath(rootFolder, path).toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfor (let i = 0; i < workspaceFolders.length; i++) {\n\t\tconst folderUri = workspaceFolders[i].uri;\n\t\tconst allHtmlConfig = workspace.getConfiguration('html', folderUri);\n\t\tconst customDataInspect = allHtmlConfig.inspect<string[]>('customData');\n\t\tif (customDataInspect) {\n\t\t\tcollect(customDataInspect.workspaceFolderValue, folderUri);\n\t\t\tif (i === 0) {\n\t\t\t\tif (workspace.workspaceFile) {\n\t\t\t\t\tcollect(customDataInspect.workspaceValue, workspace.workspaceFile);\n\t\t\t\t}\n\t\t\t\tcollect(customDataInspect.globalValue, folderUri);\n\t\t\t}\n\t\t}\n\n\t}\n\treturn dataPaths;\n}\n\nfunction getCustomDataPathsFromAllExtensions(): string[] {\n\tconst dataPaths: string[] = [];\n\tfor (const extension of extensions.all) {\n\t\tconst customData = extension.packageJSON?.contributes?.html?.customData;\n\t\tif (Array.isArray(customData)) {\n\t\t\tfor (const rp of customData) {\n\t\t\t\tdataPaths.push(joinPath(extension.extensionUri, rp).toString());\n\t\t\t}\n\t\t}\n\t}\n\treturn dataPaths;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        if (vscode.env.onDidChangeTelemetryEnabled !== undefined) {\r\n            this.optOutListener = vscode.env.onDidChangeTelemetryEnabled(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n        else {\r\n            this.optOutListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        // Newer versions of vscode api have telemetry enablement exposed, but fallback to setting for older versions\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        var newOptInValue = vscode.env.isTelemetryEnabled === undefined ?\r\n            config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true) :\r\n            vscode.env.isTelemetryEnabled;\r\n        if (this.userOptIn !== newOptInValue) {\r\n            this.userOptIn = newOptInValue;\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            commonProperties['common.isnewappinstall'] = vscode.env.isNewAppInstall;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.optOutListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","module.exports = require(\"@opentelemetry/tracing\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"stream\");","module.exports = require(\"console\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 187;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 188;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","module.exports = require(\"events\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","module.exports = require(\"async_hooks\");","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","module.exports = require(\"dns\");","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","module.exports = require(\"applicationinsights-native-metrics\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map"],"sourceRoot":""}